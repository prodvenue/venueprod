"use strict";(self.webpackChunkboozno_venue=self.webpackChunkboozno_venue||[]).push([[556],{4580:(e,s,a)=>{a.r(s),a.d(s,{default:()=>nr});var t=a(7565),l=a(1030),n=a(477),i=a(5071),d=a(9109);const c={getAccountDetailsById:()=>i.A.get(d.V.getAccountDetailByID),updateEntity:e=>i.A.post(d.V.updateEntity,e),updateInfo:e=>i.A.post(d.V.updatePersonalInfo,e),getVenueListing:()=>i.A.get(d.V.venueList),getVenueOverview:()=>i.A.get(d.V.getVenueOverview),getVenueById:e=>i.A.get(d.V.getVenueById+"?VenueId=".concat(e)),addVenue:e=>i.A.post(d.V.addVenue,e),updateVenue:e=>i.A.post(d.V.updateVenue,e),getVenueTypeList:()=>i.A.get(d.V.venueTypeList),updateStatus:e=>i.A.post(d.V.updateStatus,e),getTimeDetailsById:e=>i.A.get(d.V.getVenueTimeDetailById+"?VenueDetailID=".concat(e)),addTimeDetails:(e,s)=>i.A.post(d.V.addVenueTimeDetail+"?VenueDetailID=".concat(e),s),getRentalTypeList:()=>i.A.get(d.V.getRentalType),getVenueRentalsById:e=>i.A.get(d.V.getVenueRentalById+"?VenueId=".concat(e)),addVenueRentals:(e,s)=>i.A.post(d.V.addVenueRental+"?VenueDetailID=".concat(e),s),getFoodItemTypeList:()=>i.A.get(d.V.getFoodItemType),getFoodPackageItemListById:e=>i.A.get(d.V.getFoodPackageItemById+"?VenueDetailId=".concat(e)),addFoodPackageItem:(e,s)=>i.A.post(d.V.addFoodPackageItem+"?VenueDetailId=".concat(e),s),getBeveragePackageItemList:e=>i.A.get(d.V.getBeveragePackageItemById+"?VenueDetailId=".concat(e)),getBeverageDrinkItemList:()=>i.A.get(d.V.getBeverageDrinkItem),addBeveragePackageItem:(e,s)=>i.A.post(d.V.addBeveragePackageItem+"?VenueDetailId=".concat(e),s),getFBPackageFoodItemList:e=>i.A.get(d.V.getFBPackageFoodItem+"?VenueDetailId=".concat(e)),addFBPackageFood:(e,s)=>i.A.post(d.V.addFBPackageFood+"?VenueDetailId=".concat(e),s),getFoodPackageCategory:()=>i.A.get(d.V.getFoodPackageCategory),updateFoodPackageStatus:e=>i.A.post(d.V.updateFoodPackageStatus,e),updateFoodBeveragePackageStatus:e=>i.A.post(d.V.updateFoodBeveragePackageStatus,e),getFoodPackageByFoodId:e=>i.A.get(d.V.getFoodPackageByFoodId+"?FoodPackageID=".concat(e)),getFBPackageBeverageItemList:e=>i.A.get(d.V.getFBPackageBeverageItem+"?VenueDetailId=".concat(e)),addFBPackageBeverage:(e,s)=>i.A.post(d.V.addFBPackageBeverage+"?VenueDetailId=".concat(e),s),updateBeveragePackageStatus:e=>i.A.post(d.V.updateBeveragePackageStatus,e),getBeveragePackageByBeverageId:e=>i.A.get(d.V.getBeveragePackageByPackageId+"?BeveragePackageID=".concat(e)),getFoodBeveragePackageByFoodBeveragePackageId:e=>i.A.get(d.V.getFoodBeveragePackageByFoodBeveragePackageId+"?FoodBeveragePackageId=".concat(e)),getFBPackageFoodBeverageItemList:e=>i.A.get(d.V.getFBPackageFoodBeverageItem+"?VenueDetailId=".concat(e)),addFBPackageFoodBeverage:(e,s)=>i.A.post(d.V.addFBPackageFoodBeverage+"?VenueDetailId=".concat(e),s),getFBMenuFoodItemList:e=>i.A.get(d.V.getFBMenuFoodItem+"?VenueDetailId=".concat(e)),getCuisineTypeList:()=>i.A.get(d.V.getCuisineType),addFBMenuFood:e=>i.A.post(d.V.addFBMenuFood,e),getFBMenuBeverageItemList:e=>i.A.get(d.V.getFBMenuBeverageItem+"?VenueDetailId=".concat(e)),addFBMenuBeverage:e=>i.A.post(d.V.addFBMenuBeverage,e),getAmenities:e=>i.A.get(d.V.getAmenities+"?VenueDetailId=".concat(e)),addAmenities:(e,s)=>i.A.post(d.V.addAmenities+"?VenueDetailID=".concat(e),s),getGenericTaxesType:()=>i.A.get(d.V.getGenericTaxesType),GetTaxesList:()=>i.A.get(d.V.getTaxesList),GetLiquorTaxesType:()=>i.A.get(d.V.getLiquorTypeTaxes),addTaxesList:e=>i.A.post(d.V.addTaxesList,e),getDocuments:()=>i.A.get(d.V.getAllDocuments),addQuotation:e=>i.A.post(d.V.addQuotation,e),addBookingSummary:e=>i.A.post(d.V.addBookingSummary,e),deleteQuotation:()=>i.A.post(d.V.deleteQuotation),deleteBookingSummary:()=>i.A.post(d.V.deleteBookingSummary),getHeader:()=>i.A.get(d.V.getHeader),getFooter:()=>i.A.get(d.V.getFooter),addHeader:e=>i.A.post(d.V.addHeader,e,{headers:{"Content-Type":"multipart/form-data"}}),deleteHeader:()=>i.A.post(d.V.deleteHeader),addFooter:e=>i.A.post(d.V.addFooter,e,{headers:{"Content-Type":"multipart/form-data"}}),deleteFooter:()=>i.A.post(d.V.deleteFooter),addNewUser:e=>i.A.post(d.V.addUser,e),getUsersDetails:e=>i.A.get(d.V.getUser+"?UserId=".concat(e)),updateUserProfileImage:(e,s)=>i.A.post(d.V.updateUserProfileImg+"?CurrentUserId=".concat(e),s,{headers:{"Content-Type":"multipart/form-data"}}),getUsersDetailsList:()=>i.A.get(d.V.getUsersList),updateUserDetails:e=>i.A.post(d.V.updateUser,e),updateUserStatus:(e,s)=>i.A.get(d.V.updateUserStatus+"?UserId=".concat(e,"&UserStatusId=").concat(s)),resendMemberVerifyLink:e=>i.A.post(d.V.resendVerifyLink,e),getUserRolesList:()=>i.A.get(d.V.getUserRole),getAccessPermissionList:()=>i.A.get(d.V.getAllPermissions),updateAccessPermission:e=>i.A.post(d.V.updateUserPermissions,e)};var r=a(7850),o=a(313),m=a(9483),u=a(7778),h=a(896),x=a(7929);const v=()=>{const e=(0,l.Zp)(),s="communicationEmail",[a,i]=(0,t.useState)(!0),[d,v]=(0,t.useState)({}),[j]=(0,t.useState)([{url:"venue-details",title:"Venue Details"},{url:"subscription-details",title:"Subscription Details"},{url:"taxes",title:"Taxes"},{url:"documents",title:"Documents"}]);(0,t.useEffect)((()=>(i(!0),p(),()=>r.oR.dismiss(s))),[]);const p=async s=>{try{const a=await c.getAccountDetailsById(),{title:t,data:l}=a,{mobileNumber:n,emailId:i}=s||{};t===o.A.success&&(n===l.mobileNumber&&i===l.emailId||!s||(h.A.remove("token"),e("/")),v(l))}catch(a){r.oR.error(a.message)}finally{i(!1)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("h4",{class:"heading-title",children:["Account Details - ",d.userId]})}),(0,x.jsxs)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mx-4",children:[(0,x.jsx)(n.k2,{end:!0,className:"nav-link",to:"/settings/account-details",children:"Primary Information"}),j.map((e=>{var a,t;return(0,x.jsx)("li",{className:"nav-item",children:null!==d&&void 0!==d&&d.entityCommunicationEmail&&(null===d||void 0===d||null===(a=d.entityCommunicationEmail)||void 0===a||null===(t=a.trim())||void 0===t?void 0:t.length)>0?(0,x.jsx)(n.k2,{className:"nav-link",to:e.url,children:e.title}):(0,x.jsx)("span",{role:"button",className:"nav-link",onClick:()=>{r.oR.isActive(s)||r.oR.warning("Please enter Communication Email Address to access all  feature.",{autoClose:!1,closeOnClick:!1,toastId:s,className:"communication-email-toast",icon:(0,x.jsx)(u.d0,{height:24,width:24,color:"#fff"})})},children:e.title})})}))]}),(0,x.jsx)("div",{className:"account-details mt-4",children:a?(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white primary-information d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsx)(l.sv,{context:{accountDetails:d,reload:p}})})]})};var j=a(5482);const p=()=>(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasReminder","aria-labelledby":"offcanvasReminder",children:[(0,x.jsxs)("div",{className:"offcanvas-header",children:[(0,x.jsx)("h5",{className:"offcanvas-title canvas-heading",id:"offcanvasExampleLabel",children:"Reminder"}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,x.jsx)("div",{className:"offcanvas-body",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{className:"mb-4",children:"Create general reminder"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Description"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Select date"}),(0,x.jsx)("input",{type:"date",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Time"}),(0,x.jsx)("input",{type:"time",className:"form-control input-one-line"})]})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Remind me Before"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"custom-offcanvas-btn-wrapper w-100 d-flex align-items-center justify-content-end",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3","data-bs-dismiss":"offcanvas",children:"Discard"}),(0,x.jsx)("button",{className:"btn btn-primary px-4","data-bs-dismiss":"offcanvas",children:"Create Reminder"})]})})})]})})]}),(0,x.jsxs)("div",{className:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasInquiry","aria-labelledby":"offcanvasInquiry",children:[(0,x.jsxs)("div",{className:"offcanvas-header",children:[(0,x.jsx)("h5",{className:"offcanvas-title canvas-heading",id:"offcanvasExampleLabel",children:"Add New"}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,x.jsx)("div",{className:"offcanvas-body",children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Mobile Number *"}),(0,x.jsx)("div",{className:"col-md-3 mb-4",children:(0,x.jsxs)("select",{className:"form-select custom-form-select","aria-label":"Default select example",required:"",children:[(0,x.jsx)("option",{children:"+91"}),(0,x.jsx)("option",{value:"1",children:"One"}),(0,x.jsx)("option",{value:"2",children:"Two"})]})}),(0,x.jsx)("div",{className:"col-md-9 mb-4",children:(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Title *"}),(0,x.jsxs)("select",{className:"form-select custom-form-select","aria-label":"Default select example",required:"",children:[(0,x.jsx)("option",{children:"Mr."}),(0,x.jsx)("option",{value:"1",children:"One"}),(0,x.jsx)("option",{value:"2",children:"Two"})]})]}),(0,x.jsxs)("div",{className:"col-md-9 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"First Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",required:""})]})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Middle Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Email Address *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsxs)("label",{for:"",className:"form-label custom-form-label",children:["Alternate Mobile Number"," "]}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"custom-offcanvas-btn-wrapper w-100 d-flex align-items-center justify-content-end",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",children:"Cancel"}),(0,x.jsx)("button",{className:"btn btn-primary px-4","data-bs-dismiss":"offcanvas",children:"Proceed"})]})})})]})]})})]}),(0,x.jsxs)("div",{className:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasUpdate","aria-labelledby":"offcanvasUpdate",children:[(0,x.jsxs)("div",{className:"offcanvas-header",children:[(0,x.jsx)("h5",{className:"offcanvas-title canvas-heading",id:"offcanvasExampleLabel",children:"Update Venue Calendar"}),(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,x.jsx)("div",{className:"offcanvas-body",children:(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Venue *"}),(0,x.jsxs)("select",{className:"form-select custom-form-select","aria-label":"Default select example",children:[(0,x.jsx)("option",{selected:!0,children:"Grand Banquet"}),(0,x.jsx)("option",{value:"1",children:"One"}),(0,x.jsx)("option",{value:"2",children:"Two"}),(0,x.jsx)("option",{value:"3",children:"Three"})]})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Reason *"}),(0,x.jsxs)("select",{className:"form-select custom-form-select","aria-label":"Default select example",children:[(0,x.jsx)("option",{selected:!0,children:"Not Operational"}),(0,x.jsx)("option",{value:"1",children:"One"}),(0,x.jsx)("option",{value:"2",children:"Two"}),(0,x.jsx)("option",{value:"3",children:"Three"})]})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Description"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line"})]}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked"}),(0,x.jsx)("label",{className:"form-check-label",for:"flexCheckChecked",children:"Create multi date update"})]})}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Select date"}),(0,x.jsx)("input",{type:"date",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Start Time"}),(0,x.jsx)("input",{type:"time",className:"form-control input-one-line"})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"End Time"}),(0,x.jsx)("input",{type:"time",className:"form-control input-one-line"})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"custom-offcanvas-btn-wrapper w-100 d-flex align-items-center justify-content-end",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",children:"Discard"}),(0,x.jsx)("button",{className:"btn btn-primary px-4","data-bs-dismiss":"offcanvas",children:"Save"})]})})})]})]})})})]})]});var g=a(6417);const N=a.p+"static/media/summary-date.0075e43e16efaaa2b1d4.png",b=e=>{let{allVenueList:s,selectedVenue:a}=e;const t=null===s||void 0===s?void 0:s.reduce(((e,s)=>{var t;a!==s.id&&-1!==a&&a||(null===(t=s.monthSlots)||void 0===t||t.forEach((s=>{var a,t;e.totalBookings+=(null===(a=s.bookings)||void 0===a?void 0:a.length)||0,e.operationalCount+=(null===(t=s.notOperational)||void 0===t?void 0:t.length)||0,s.closed&&(e.closedCount+=1)})));return e}),{totalBookings:0,closedCount:0,operationalCount:0});return(0,x.jsxs)("div",{className:"summary-detail-groups flex-column d-flex pt-4",children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"day-stats",children:[(0,x.jsx)("h6",{className:"month-heading mb-3",children:"Month Stats"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-4 month-info",children:[(0,x.jsx)("h6",{children:t.totalBookings}),(0,x.jsx)("p",{children:"Bookings"})]}),(0,x.jsxs)("div",{className:"col-4 month-info",children:[(0,x.jsx)("h6",{children:t.closedCount}),(0,x.jsx)("p",{children:"Closed"})]}),(0,x.jsxs)("div",{className:"col-4 month-info",children:[(0,x.jsx)("h6",{children:t.operationalCount}),(0,x.jsx)("p",{children:"Not Operational"})]})]})]})}),(0,x.jsxs)("div",{className:"summary-detail-wrapper mt-5",children:[(0,x.jsx)("img",{src:N,alt:""}),(0,x.jsx)("p",{className:"description mt-2 no-data-summary",children:"Select date for summary"})]})]})};var f=a(9383),y=a(5507),A=a(4476),I=a(2249),C=a(7),w=a(916),k=a(1932),S=a.n(k);const D=(0,t.createContext)(),T=e=>{let{selectedDate:s,setSelectedDate:a,selectedVenue:l,setSelectedVenue:n,allVenueList:i=[],selectedMonth:d,venueDetails:c}=e;const[r]=(0,t.useState)(i.map((e=>{let{id:s,venueName:a}=e;return{Text:a,Id:s}})));return(0,x.jsx)(D.Provider,{value:{selectedDate:s,setSelectedDate:a,selectedVenue:l,setSelectedVenue:n,venueDetails:c,allVenueList:i},children:(0,x.jsxs)(f.b,{showHeaderBar:!1,cssClass:"block-events",width:"100%",selectedDate:d.toDate(),currentView:"TimelineMonth",group:{enableCompactView:!1,resources:["Employee"]},readonly:!0,workDays:[0,1,2,3,4,5,6],children:[(0,x.jsx)(y.H,{children:(0,x.jsx)(y.c,{field:"EmployeeId",title:"Employees",name:"Employee",allowMultiple:!1,dataSource:r,textField:"Text",idField:"Id",colorField:"Color"})}),(0,x.jsxs)(A.C,{children:[(0,x.jsx)(A.N,{option:"TimelineDay"}),(0,x.jsx)(A.N,{option:"TimelineMonth",cellTemplate:e=>{const{Id:s}=void 0!==e.groupIndex&&r[e.groupIndex]||{};return(0,x.jsx)(O,{date:e.date,Id:s})},dateHeaderTemplate:e=>{let{date:s}=e;return(0,x.jsxs)("div",{className:"dateHeader",children:[(0,x.jsxs)("div",{className:"date-text",children:[" ",s.getDate()]}),(0,x.jsxs)("div",{className:"day-text",children:[" ",S()(s).format("ddd")]})]})}})]}),(0,x.jsx)(I.y_,{services:[C.A,w.k]})]})})},O=e=>{let{date:s,Id:a}=e;const{selectedDate:l,setSelectedDate:n,setSelectedVenue:i,selectedVenue:d,allVenueList:c}=(0,t.useContext)(D),{monthSlots:r}=c.find((e=>{let{id:s}=e;return s===a}))||{},{slot:o=[]}=(null===r||void 0===r?void 0:r.find((e=>{var a;return(null===s||void 0===s?void 0:s.getTime())===(null===(a=S()(e.date,"MM/DD/YYYY"))||void 0===a?void 0:a.valueOf())})))||{},m=o.every((e=>{let{startTime:s,endTime:a,slotStatusId:t}=e;return!s&&!a||4===t}))||!1,u=(null===s||void 0===s?void 0:s.getTime())===(null===l||void 0===l?void 0:l.getTime())&&a===d,h=o.filter((e=>{let{startTime:s,endTime:a}=e;return s&&a}));return(0,x.jsx)("div",{className:"d-flex justify-content-center",onClick:()=>{n(s),i(a)},children:(0,x.jsx)("div",{className:"column ".concat(u?"selected":""," ").concat(m?"closed":""),children:!m&&(0,x.jsxs)(x.Fragment,{children:[h.some((e=>{let{slotStatusId:s}=e;return 2===s}))&&(0,x.jsx)("div",{className:"section booking"}),h.some((e=>{let{slotStatusId:s}=e;return 3===s}))&&(0,x.jsx)("div",{className:"section not-operational"}),h.some((e=>{let{slotStatusId:s}=e;return 1===s}))&&(0,x.jsx)("div",{className:"section available"})]})})})};var q=a(7732);const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGqSURBVHgBdVJLTsJQFG1LE2TWHdgdCCuwrECZaox2BWpCCEzgNYTwHegKgBjisDJlAjtAh4yAFdgJCRjaek55DcXElzzuPffDPe/0Koo8Qgij1WotY9xsNkW73X6KMfxv1sRYRYGpqmofvinvKkqoalQUhqEna6OcxAUNBVOAL1xbFublnQVBMIwxc8DPMGNN01wF9MJer3fORKfTySaomklqcY5x9uhK4pRKpc/Yr1Qqq/9yPPpRnL6hael+tXpTqNffa74fjEGOEy0h7sRms3G73a4d12vHRtsLgtCh7/vKUFF+MHGPKfqAsclk4oC6t9vtKM7shCq0NPGD4n1k+WewHj/LYrG4wPvWwINyuZzXTqkGV5IIGs8MKcYcat5DWTaZUHTeaDSyaqSQrpvFYnGt/DloesDnqm2321w6nZ7iD2w0XiN2eTLRcUbzgz9yhXizKAwmDfk2LkQqlXJJlXE9KQ5M7uDfFuRECxMu6HMJ0Gj4vm8CrlTuIBwHND6SNKke6Bl8E+ALt4hv5HqSBVeOK/UIu0zeTCYz5RKgIYe8xRhXDfYVcfELVdHuorhzPxYAAAAASUVORK5CYII=";var B=a(5978);const F=e=>{let{bookings:s}=e;const a=(0,l.Zp)();return(0,x.jsx)("div",{children:s.map((e=>{let{inquiryInfoId:s,inquiryPurpose:t,brideName:l,groomName:n,company:i,title:d,inquirySlotOutDTO:c,guestUserName:r,leadOwnerName:o}=e;return(0,x.jsxs)("div",{className:"d-flex mb-4",children:[(0,x.jsxs)("div",{className:"flex-grow-1",children:[(0,x.jsxs)("div",{className:"booking-heading",children:[(0,x.jsxs)("p",{className:"mb-0",children:["E-ID : ",s]}),(0,x.jsxs)("p",{className:"mb-2",children:[t," ",l&&n&&i&&d&&" - ",l&&n&&(0,x.jsxs)("div",{children:[l," & ",n]}),i&&(0,x.jsx)("div",{children:i}),d&&(0,x.jsx)("div",{children:d})]})]}),(0,x.jsx)("div",{className:"d-flex align-items-center gap-2 mt-3",children:c.map((e=>(0,x.jsxs)("div",{className:"d-flex align-items-center ms-2",children:[(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{children:(0,x.jsx)(j.jH,{})}),(0,x.jsx)("span",{className:" me-1 ms-1",style:{lineHeight:"1"},children:(0,B.Yq)(e.bookingStartDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.startTime})]}),(0,x.jsx)("span",{className:"mx-2",children:"-"}),(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{children:(0,x.jsx)(j.jH,{})}),(0,x.jsx)("span",{className:"me-3 ms-1",style:{lineHeight:"1"},children:(0,B.Yq)(e.bookingEndDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.endTime})]})]})))}),(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Guest"}),(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 mt-1",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("p",{className:" mt-0 mb-0",children:r})]})]}),(0,x.jsxs)("div",{className:"col-6",children:[(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 mt-1",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("p",{className:" mt-0 mb-0",children:o})]})]})]})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"dropdown",children:[(0,x.jsx)("div",{className:"btn dropdown-toggle p-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)(j.as,{})}),(0,x.jsx)("ul",{className:"dropdown-menu",children:(0,x.jsx)("li",{className:"mb-1",onClick:()=>a("/inquiry-bookings/inquiry-info/"+s),children:(0,x.jsxs)("span",{className:"dropdown-item",children:[(0,x.jsx)(j.ks,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"View Details"})]})})})]})})]})}))})};var E=a(5e3),R=a(6380);const M="data:image/png;base64,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",Y=e=>{let{handleClose:s,show:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Delete"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:M,alt:"img"}),(0,x.jsx)("h4",{className:"fw-bold my-4",children:"Delete Calendar Block?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",onClick:t,children:"Confirm"})})]})},L={getOneMonthDetails:e=>i.A.post(d.V.calenderMonthDetail+"?Date="+e),addCalenderData:e=>i.A.post(d.V.addCalenderData,e),updateCalenderData:e=>i.A.post(d.V.updateCalenderData,e),deleteCalenderData:e=>i.A.post(d.V.deleteCalenderData,e)};var V=a(1409);const U=(e,s)=>{const{userPermissions:a}=(0,t.useContext)(V.dg);return(0,t.useMemo)((()=>{if(a){const t=a.find((s=>s.featureName===e));if(t){const e=t.permissions.find((e=>e.permissionName.trim()===s.trim()));if(e)return e.isAllowed}}return!1}),[a,e,s])},H=e=>{let{setAddUpdateCalender:s,reload:a,notOperational:l}=e;const[n,i]=(0,t.useState)({}),d=U("Calendar","Edit"),c=U("Calendar","Delete");return(0,x.jsxs)("div",{children:[l.map((e=>{let{id:a,venueDetailId:t,reasonTypeId:l,title:n,description:r,isMultiDate:o,startDate:m,endDate:u,startTime:h,endTime:v}=e;return(0,x.jsxs)("div",{className:"d-flex mb-3",children:[(0,x.jsxs)("div",{className:"flex-grow-1",children:[(0,x.jsx)("div",{className:"operational-heading",children:(0,x.jsx)("p",{className:"mb-2",children:n})}),(0,x.jsx)("p",{className:"operational-desc mb-2",children:r}),(0,x.jsx)("div",{className:"d-flex align-items-center gap-2 mt-3",children:h&&v&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFPSURBVHgBhVLRVYNQDH15eupvNyhugBNYN/AX0XPoBjpASx7tf92A9ijtbzegI+AEMoIDwIsJlGqhnL4fTkJukntzQZ15iLGj1I1bR5Qj+lm7Bk4BH2OAq5CIHK1VVUyk3PoLb4hPuw5wPt+G1tqAyE4QX/anDZMAQIVa69V06pkjEHHzCEBLIv2A6OWSi6LP17JUypjn97pm6wDYtGmsKzSDuKNpQPKspSHnh39TvVxAQkVizUJUHGYzf6UuvJqCdReLZMQTrx0W4OtcIXMatXMs0r4o4E7399c7bjg2JvkWDTp/eWLG/O67a/lZGPq3DDbMzWnyXOvKbavAmE0qN1QXOSaBbHCYKHuXBkDHtWP6QLEjtxQjHIGiFq+zBhikUZQEXZA4aiA3XDfuaVuOjaCXBzY5T/jh4jHzZPuR+e8o6OHCAjSCFBniJG/X/AJrXqaFWEshLAAAAABJRU5ErkJggg==",alt:""}),(0,x.jsxs)("p",{className:" mt-0 mb-0",children:[h," - ",v]})]})})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"dropdown",children:[(0,x.jsx)("div",{className:"btn dropdown-toggle p-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)(j.as,{})}),(0,x.jsxs)("ul",{className:"dropdown-menu",children:[(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsxs)("span",{className:"dropdown-item",onClick:()=>s({show:!0,action:"view",data:{id:a||0,venueId:t,reason:l,title:n,endDate:S()(u,"DD-MM-YYYY"),description:r,multiDate:o,startDate:S()(m,"DD-MM-YYYY"),startTime:h,endTime:v}}),children:[(0,x.jsx)(j.ks,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"View Details"})]})}),d&&(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsxs)("span",{className:"dropdown-item",onClick:()=>s({show:!0,action:"edit",data:{id:a||0,venueId:t,reason:l,title:n,endDate:S()(u,"DD-MM-YYYY"),description:r,multiDate:o,startDate:S()(m,"DD-MM-YYYY"),startTime:h,endTime:v}}),children:[(0,x.jsx)(j.ZH,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"Edit Details"})]})}),c&&(0,x.jsx)("li",{className:"mb-1",onClick:()=>i({data:{id:a||0,venueId:t,reason:l,title:n,endDate:S()(u,"DD-MM-YYYY"),description:r,multiDate:o,startDate:S()(m,"DD-MM-YYYY"),startTime:h,endTime:v},show:!0}),children:(0,x.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,x.jsx)(j.Sk,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"Delete Block"})]})})]})]})})]},a)})),(0,x.jsx)(Y,{show:n.show,handleClose:()=>i({}),onConfirm:()=>{(async()=>{try{let e=n.data;const s=await L.deleteCalenderData(e),{title:t}=s;t===o.A.success&&(i({}),a())}catch(e){r.oR.error(e.message)}})()}})]})};var Q=a(6405),W=a(7539),z=a(9995),G=a(8387),K=a(6065),Z=a(1370),J=a.n(Z);S().extend(J());const X=e=>{let{value:s,...a}=e;return(0,x.jsx)("div",{children:(0,x.jsx)(K.A,{format:"DD/MM/YYYY",className:"CustomDatePicker",...a,value:s?S()(s):null,suffixIcon:(0,x.jsx)(u.CT,{})})})},_={addGeneralReminder:e=>i.A.post(d.V.addGeneralReminder,e),getAllReminderDetails:()=>i.A.get(d.V.getAllReminderDetailsList),updateReminderStatus:(e,s)=>i.A.post(d.V.updateReminderStatus+"?ReminderId=".concat(e,"&StatusId=").concat(s))},$=e=>{let{value:s,handleChange:a,selectedDate:t}=e;return(0,x.jsx)("div",{className:"reminder-time-picker",children:(0,x.jsx)(G.A,{value:s?S()(s,"hh:mm A"):null,onChange:a,name:"selectTime",format:"hh:mm A",placeholder:"00:00 AM / PM",className:"custom-time-select",disabledTime:()=>{if(t&&S()(t).isSame(S()(),"day")){const e=S()().hour(),s=S()().minute();return{disabledHours:()=>Array.from({length:24},((e,s)=>s)).filter((s=>s<e)),disabledMinutes:a=>a===e?Array.from({length:60},((e,s)=>s)).filter((e=>e<=s)):[]}}return{}},disabled:!t})})},ee=e=>{let{show:s,setShow:a,editData:l}=e;const[n,i]=(0,t.useState)({title:"",description:"",selectDate:"",selectTime:"",remindBeforeTime:"",reminderTag:""}),[d,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{l&&i({...l})}),[l]);const r=e=>{const{value:s,name:a}=e.target,t={...n};t[a]=s,i(t)},u=e=>{if(e){const[s,a]=e.split(" ");let[t,l]=s.split(":");return t=parseInt(t,10),l=parseInt(l,10),"".concat(t<10?"0"+t:t,":").concat(l<10?"0"+l:l," ").concat(a)}},h=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;if("remindBeforeTime"===s&&a){const e=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);"00:00"!==e&&i({...n,[s]:e})}else if("selectTime"===s&&a){const e=a;i({...n,[s]:u(e.toLocaleTimeString("en-US"))})}else null===e&&i({...n,[s]:e})};return(0,x.jsx)("form",{children:(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Add Reminder"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("h6",{className:"mb-4 form-heading ",children:"Create general reminder"}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{htmlFor:"title",className:"form-label custom-form-label",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:n.title,onChange:r,name:"title"})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{htmlFor:"description",className:"form-label custom-form-label",children:"Description"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:n.description,onChange:r,name:"description"})]})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{htmlFor:"selectDate",className:"form-label custom-form-label",children:"Select Date *"}),(0,x.jsx)(X,{name:"selectDate",value:n.selectDate,onChange:e=>((e,s)=>{if(e){const a=null===e||void 0===e?void 0:e.$d;i({...n,[s]:a})}else i({...n,[s]:e})})(e,"selectDate"),placeholder:"DD / MM / YY",minDate:S()(new Date)})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{htmlFor:"selectTime",className:"form-label custom-form-label",children:"Time *"}),(0,x.jsx)($,{value:n.selectTime,handleChange:e=>h(e,"selectTime"),selectedDate:n.selectDate})]})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{htmlFor:"remindBeforeTime",className:"form-label custom-form-label",children:"Remind me Before *"}),(0,x.jsx)(G.A,{value:n.remindBeforeTime?S()(n.remindBeforeTime,"hh:mm"):null,onChange:e=>h(e,"remindBeforeTime"),name:"remindBeforeTime",format:"HH:mm",placeholder:"00:00 AM / PM",className:"custom-time-select",req:!0})]})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content w-100",children:(0,x.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-end  ",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:()=>{i({title:"",description:"",selectDate:"",selectTime:"",remindBeforeTime:"",reminderTag:""}),a(!1)},children:"Cancel"}),(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"btn btn-primary px-4",type:"submit",disabled:""===n.title||!n.selectDate||!n.selectTime||!n.remindBeforeTime,onClick:async()=>{c(!0);try{const e={reminderId:0,inquiryInfoId:null,guestId:0,isEdited:!0,...n,selectDate:S()(n.selectDate).format("DD-MM-YYYY")},{title:s}=await _.addGeneralReminder(e);s===o.A.success&&a(!1)}catch(e){console.log(e)}finally{c(!1)}},children:[d&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Create Reminder"]})})]})})]})]})})};var se=a(3337);const ae=(0,t.createContext)(),te="data:image/png;base64,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",le=e=>{let{setShow:s,show:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:()=>{s(!1)},className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Cancel"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:te,alt:"img"}),(0,x.jsx)("h4",{className:"fw-bold my-4",children:"Cancel Reminder ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once Cancelled, the reminder cannot be activated or edited again"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",onClick:t,children:"Confirm"})})]})},ne="data:image/png;base64,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",ie=e=>{let{setShow:s,show:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:()=>{s(!1)},className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirmation"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:ne,alt:"img"}),(0,x.jsx)("h4",{className:"fw-bold my-4",children:"Mark as complete ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once marked as Complete, the reminder cannot be activated or edited again"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",onClick:t,children:"Confirm"})})]})},de=e=>{let{remainders:s}=e;const[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)(null),[d,c]=(0,t.useState)(!1),[r,m]=(0,t.useState)(null),{getMonthInquiryDetails:u}=(0,t.useContext)(ae),[h,v]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)({action:"",reminderId:"",statusId:""}),f=(e,s)=>{let a="";"complete"===s?(a=Q.O.statusEnum.value.Completed,b({action:s,reminderId:e,statusId:a}),g(!0)):"cancel"===s&&(a=Q.O.statusEnum.value.Cancelled,b({action:s,reminderId:e,statusId:a}),v(!0))},y=async e=>{e.preventDefault(),v(!1),g(!1);try{l(!0);const{title:e}=await _.updateReminderStatus(N.reminderId,N.statusId);e===o.A.success&&u()}catch(s){console.log(s)}finally{l(!1)}},A=null===s||void 0===s?void 0:s.map((e=>{var s;const a={...e},[t,l,n]=null===a||void 0===a||null===(s=a.selectDate)||void 0===s?void 0:s.split("-"),i="".concat(n,"-").concat(l,"-").concat(t,"T00:00:00.000Z");return a.selectDate=i,a})),I=U("Reminders","Edit"),C=U("Reminders","Cancel"),w=U("Reminders","Complete");return(0,x.jsxs)("div",{children:[null===A||void 0===A?void 0:A.map(((e,t)=>(0,x.jsxs)("div",{className:"reminder-card-container",children:[(0,x.jsxs)("div",{className:"calendar-reminder-card",children:[(0,x.jsxs)("div",{className:"reminder-card-header",children:[(0,x.jsx)("div",{className:"reminder-heading",children:(0,x.jsxs)("p",{className:"mb-0",children:[(0,x.jsx)("span",{className:"reminder-card-title",children:e.title}),"General Reminder"===e.reminderTag&&(0,x.jsx)("span",{className:"reminder-badge",children:"General Reminder"})]})}),(0,x.jsx)("div",{className:"",children:a&&n===e.reminderId?(0,x.jsx)(se.y$,{size:"sm",variant:"secondary"}):(0,x.jsxs)(W.A,{className:"new-custom-dropdown",children:[e.statusId!==Q.O.statusEnum.value.Completed&&e.statusId!==Q.O.statusEnum.value.Cancelled&&(0,x.jsx)(W.A.Toggle,{variant:"",id:"dropdown-basic",children:(0,x.jsx)(j.as,{})}),(0,x.jsxs)(W.A.Menu,{children:[w&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>f(e.reminderId,"complete"),children:[(0,x.jsx)(j.LH,{})," ",(0,x.jsx)("span",{className:"ms-1  dropdown-title",children:"Mark as Completed"})]})}),I&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>(m(e),void c(!0)),children:[(0,x.jsx)(j.WR,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Edit Reminder"})]})}),C&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>{f(e.reminderId,"cancel")},children:[(0,x.jsx)(j.Xn,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Cancel Reminder"})]})})]})]})})]},e.reminderId),e.inquiryInfoId?(0,x.jsxs)("div",{className:"summary-title d-flex align-items-center ",children:[(0,x.jsx)("span",{children:(0,x.jsxs)("svg",{width:"13",height:"14",viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,x.jsx)("path",{d:"M10.8334 11.875V10.7917C10.8334 10.217 10.6051 9.66593 10.1988 9.2596C9.79248 8.85327 9.24138 8.625 8.66675 8.625H4.33341C3.75878 8.625 3.20768 8.85327 2.80135 9.2596C2.39502 9.66593 2.16675 10.217 2.16675 10.7917V11.875",stroke:"#58596B","stroke-linecap":"round","stroke-linejoin":"round"}),(0,x.jsx)("path",{d:"M6.49992 6.45833C7.69654 6.45833 8.66659 5.48828 8.66659 4.29167C8.66659 3.09505 7.69654 2.125 6.49992 2.125C5.3033 2.125 4.33325 3.09505 4.33325 4.29167C4.33325 5.48828 5.3033 6.45833 6.49992 6.45833Z",stroke:"#58596B","stroke-linecap":"round","stroke-linejoin":"round"})]})}),(0,x.jsxs)("span",{className:"ms-2",children:[" ",e.guestName]}),(0,x.jsx)("span",{className:"ms-2 me-2",children:"|"}),(0,x.jsxs)("span",{className:"me-1",children:[e.eventDescription," -"]}),e.company&&(0,x.jsxs)("span",{children:[e.company,"-"]}),e.brideName&&e.groomName&&(0,x.jsx)("span",{children:e.brideName+" & "+e.groomName})]}):null,(0,x.jsx)("div",{className:"calender-reminder-desc",children:e.description}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.jH,{})," ",(0,x.jsxs)("div",{className:"ms-1 reminder-date",children:[(0,B.Yq)(e.selectDate,"DD MMM, YYYY")," |"," ",e.selectTime]})]}),e.statusId===Q.O.statusEnum.value.Upcoming?(0,x.jsx)("div",{className:"status status-bg-yellow txt-yellow",children:"Upcoming"}):e.statusId===Q.O.statusEnum.value.Completed?(0,x.jsx)("div",{className:"status status-bg-success txt-success-light",children:"Completed"}):e.statusId===Q.O.statusEnum.value.Cancelled?(0,x.jsx)("div",{className:"status status-bg-danger txt-danger",children:"Cancelled"}):""]})]}),t!==s.length-1&&(0,x.jsx)("div",{className:"card-border mb-3"})]}))),(0,x.jsx)(ee,{setShow:c,show:d,editData:r}),(0,x.jsx)(le,{show:h,setShow:v,onConfirm:y}),(0,x.jsx)(ie,{show:p,setShow:g,onConfirm:y})]})},ce=e=>{var s,a,l;let{selectedDate:n,setAddUpdateCalender:i,reload:d,venueDetails:c}=e;const[r,o]=(0,t.useState)(null),{bookings:m=[],notOperational:u=[],reminderDetails:h=[],slot:v=[]}=(null===c||void 0===c||null===(s=c.monthSlots)||void 0===s?void 0:s.find((e=>{let{date:s}=e;return(null===n||void 0===n?void 0:n.getTime())===S()(s,"MM/DD/YYYY").valueOf()})))||{},j=v.filter((e=>{let{startTime:s,endTime:a}=e;return s&&a})),p=j.filter((e=>{let{slotStatusId:s,startTime:a,endTime:t}=e;return s===Q.O.calenderDayStatus.value.Available&&a&&t})),g=j.filter((e=>{let{slotStatusId:s}=e;return s===Q.O.calenderDayStatus.value.NotOperational||s===Q.O.calenderDayStatus.value.Closed||s===Q.O.calenderDayStatus.value.Bookings}));return(0,x.jsxs)("div",{className:"summary-detail-groups pt-4",children:[(0,x.jsxs)("div",{className:"day-stats",children:[(0,x.jsx)("h6",{className:"month-heading mb-3 mb-2",children:"Day Stats"}),0===j.length?(0,x.jsxs)("div",{className:"venue-closed mb-2",children:[(0,x.jsx)("h6",{className:"text-danger mb-1",children:"Closed"}),(0,x.jsx)("p",{children:"Venue Closed due to Weekly Holiday "})]}):(0,x.jsxs)(x.Fragment,{children:[p.length>0&&(0,x.jsxs)("div",{className:"venue-available mb-2",children:[(0,x.jsx)("h6",{className:"text-green mb-1",children:"Available"}),(0,x.jsx)("div",{className:"slot-container d-flex flex-wrap",children:p.map(((e,s)=>{let{startTime:a,endTime:t}=e;return(0,x.jsxs)("span",{className:"text-nowrap",children:[a," - ",t," ",p.length>s+1&&" , "]})}))})]}),g.length>0&&(0,x.jsxs)("div",{className:"venue-not-available mb-2",children:[(0,x.jsx)("h6",{className:"text-danger mb-1",children:"Not-Available"}),(0,x.jsx)("div",{className:"slot-container d-flex flex-wrap",children:g.map(((e,s)=>{let{startTime:a,endTime:t}=e;return(0,x.jsxs)("span",{className:"text-nowrap",children:[a," - ",t," ",g.length>s+1&&" , "]})}))})]})]})]}),0===(null===m||void 0===m?void 0:m.length)&&0===(null===u||void 0===u?void 0:u.length)&&0===(null===h||void 0===h?void 0:h.length)?(0,x.jsxs)("div",{className:"summary-detail-wrapper mt-5",children:[(0,x.jsx)("img",{src:N,alt:""}),(0,x.jsx)("p",{className:"description mt-2 no-data-summary",children:"No data for summary"})]}):(0,x.jsx)("div",{children:(0,x.jsxs)(q.A,{defaultActiveKey:0,activeKey:r,onSelect:e=>{o(r===e?null:e)},className:"calender-summary-accordion",children:[(null===m||void 0===m?void 0:m.length)>0&&(0,x.jsxs)(q.A.Item,{eventKey:"0",className:"my-3 ".concat("0"===r?"active":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("h6",{className:"acc-title",children:["Bookings"," ",(0,x.jsx)("span",{className:"count",children:"( "+m.length+" )"})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)(F,{bookings:m})})]}),(null===(a=u.filter((e=>{let{reasonTypeId:s}=e;return 1===s})))||void 0===a?void 0:a.length)>0&&(0,x.jsxs)(q.A.Item,{eventKey:"1",className:"my-3 ".concat("1"===r?"active":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("h6",{className:"acc-title",children:["Closed"," ",(0,x.jsx)("span",{className:"count",children:"( "+u.length+" )"})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)(H,{notOperational:u,setAddUpdateCalender:i,reload:d})})]}),(null===(l=u.filter((e=>{let{reasonTypeId:s}=e;return 2===s})))||void 0===l?void 0:l.length)>0&&(0,x.jsxs)(q.A.Item,{eventKey:"1",className:"my-3 ".concat("1"===r?"active":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("h6",{className:"acc-title",children:["Not Operational"," ",(0,x.jsx)("span",{className:"count",children:"( "+u.length+" )"})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)(H,{notOperational:u,setAddUpdateCalender:i,reload:d})})]}),(null===h||void 0===h?void 0:h.length)>0&&(0,x.jsxs)(q.A.Item,{eventKey:"2",className:"my-3 ".concat("2"===r?"active":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("h6",{className:"acc-title",children:["Reminders",(0,x.jsx)("span",{className:"count",children:"( "+h.length+" )"})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)(de,{remainders:h})})]})]})})]})},re=e=>{let{setAddUpdateCalender:s,allVenueList:a,selectedMonth:l,setSelectedMonth:n,reload:i}=e;const[d,c]=(0,t.useState)(null),[r,o]=(0,t.useState)("");return(0,x.jsxs)("div",{className:"row h-100",children:[(0,x.jsx)("div",{className:"col-md-8",children:(0,x.jsxs)("div",{className:"calender-header-custom",children:[(0,x.jsxs)("div",{className:"month-navigate",children:[(0,x.jsx)("div",{className:"arrow",onClick:()=>{n(l.subtract(1,"month"))},role:"button",children:(0,x.jsx)(u.D8,{})}),(0,x.jsxs)("div",{className:"calender-month-select",children:[(0,x.jsxs)("div",{className:"month-year-name",children:[(0,x.jsx)("div",{className:"month",children:l.format("MMMM")}),(0,x.jsx)("div",{className:"year",children:l.format("YYYY")})]}),(0,x.jsx)(K.A,{picker:"month",format:"MMMM YYYY",className:"month-select",variant:"borderless",inputReadOnly:!0,value:l,onChange:e=>{n(e)},suffixIcon:null,allowClear:!1})]}),(0,x.jsx)("div",{className:"arrow",onClick:()=>{n(l.add(1,"month"))},role:"button",children:(0,x.jsx)(u._8,{})})]}),(0,x.jsxs)("div",{className:"calender-event-wrapper",children:[(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box1"}),(0,x.jsx)("h6",{className:"mb-0",children:"Available"})]}),(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box2"}),(0,x.jsx)("h6",{className:"mb-0",children:"Bookings"})]}),(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box3"}),(0,x.jsx)("h6",{className:"mb-0",children:"Not Operational"})]}),(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box4"}),(0,x.jsx)("h6",{className:"mb-0",children:"Closed"})]})]})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"summary-heading-wrapper headingTitle",children:[(0,x.jsx)("h5",{className:"summary-headings",children:"Summary"}),(0,x.jsxs)("h6",{className:"heading-date fw-bolder",children:[" ",d&&(()=>{const e=S()(d).date();return"".concat(e).concat((e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(e)," ").concat(S()(d).format("MMMM YYYY"))})()]})]})}),(0,x.jsx)("div",{className:"col-md-8 left-col mt-4",children:(0,x.jsx)(T,{venueDetails:a.find((e=>{let{id:s}=e;return s===r}))||{},selectedMonth:l,allVenueList:a,selectedDate:d,setSelectedDate:c,selectedVenue:r,setSelectedVenue:o})}),(0,x.jsx)("div",{className:"col-md-4 right-col",children:d?(0,x.jsx)(ce,{reload:i,setAddUpdateCalender:s,selectedDate:d,venueDetails:a.find((e=>{let{id:s}=e;return s===r}))||{}}):(0,x.jsx)(b,{allVenueList:a,selectedVenue:r})}),(0,x.jsx)(p,{})]})};var oe=a(3731),me=a(7944),ue=a(5742);const he=e=>{let{selectedDate:s=new Date,setSelectedDate:a,venueDetails:l={},selectedMonth:n}=e;const[i,d]=(0,t.useState)([]),[c,r]=(0,t.useState)([]);(0,t.useEffect)((()=>{let e=[];const{monthSlots:s=[],id:a,workingDays:t}=l;null===s||void 0===s||s.forEach((s=>{const{notOperational:t,bookings:l,date:n,slot:i}=s;null===l||void 0===l||l.forEach((s=>{e.push({Id:a,Subject:s.inquiryPurpose||"",StartTime:S()(n,"MM/DD/YYYY").toDate(),EndTime:S()(n,"MM/DD/YYYY").toDate(),booking:s})})),null===t||void 0===t||t.forEach((s=>{let{id:a,title:t,displayStartDate:l}=s;e.push({Id:a,Subject:t,StartTime:S()(l,"DD-MM-YYYY").toDate(),EndTime:S()(l,"DD-MM-YYYY").toDate(),isNotOperational:!0})}))}));const n={[Q.O.calenderDays.text.SUN]:0,[Q.O.calenderDays.text.MON]:1,[Q.O.calenderDays.text.TUE]:2,[Q.O.calenderDays.text.WED]:3,[Q.O.calenderDays.text.THU]:4,[Q.O.calenderDays.text.FRI]:5,[Q.O.calenderDays.text.SAT]:6};let i=null===t||void 0===t?void 0:t.map((e=>{let{day:s,timeSlots:a}=e;return a.some((e=>{let{startTime:s,endTime:a}=e;return s&&a}))?n[s]:null}));r((null===i||void 0===i?void 0:i.filter((e=>null!==e)))||[]),d(e)}),[s,l]);return(0,x.jsx)("div",{className:"pt-4",children:(0,x.jsxs)(f.b,{selectedDate:n.toDate(),showHeaderBar:!1,popupOpen:e=>{"QuickInfo"!==e.type&&"Editor"!==e.type||(e.cancel=!0)},actionBegin:e=>{"viewNavigate"===e.targetView&&(e.cancel=!0),"dateNavigate"===e.requestType&&a(null)},allowSwiping:!1,currentView:"Month",eventSettings:{dataSource:i},cellClick:e=>{var s,t,l,n;a(e.startTime);const i=e.event.target.closest(".e-work-cells");"cellDoubleClick"===e.name&&(e.cancel=!0),null===(s=document.querySelector("td.e-selected-cell-custom"))||void 0===s||null===(t=s.classList)||void 0===t||t.remove("e-selected-cell-custom"),null===(l=document.querySelector("td.e-selected-cell"))||void 0===l||null===(n=l.classList)||void 0===n||n.remove("e-selected-cell"),i&&i.classList.add("e-selected-cell")},workDays:c,showQuickInfo:!1,children:[(0,x.jsxs)(A.C,{children:[(0,x.jsx)(A.N,{option:"Week"}),(0,x.jsx)(A.N,{option:"WorkWeek"}),(0,x.jsx)(A.N,{option:"Month",cellHeaderTemplate:e=>{let{date:s}=e;return(0,x.jsx)("div",{className:"dateHeader pt-2",children:(0,x.jsx)("div",{className:"date-text-month",children:S()(s).format("DD")})})},eventTemplate:e=>{let{StartTime:s,Subject:t,booking:l,isNotOperational:n}=e;const i=()=>{var e,t,l,n;const i=S()(s).startOf("day").valueOf();a(s),null===(e=document.querySelector("td.e-selected-cell-custom"))||void 0===e||null===(t=e.classList)||void 0===t||t.remove("e-selected-cell-custom"),null===(l=document.querySelector("td.e-selected-cell"))||void 0===l||null===(n=l.classList)||void 0===n||n.remove("e-selected-cell"),document.querySelector('[data-date="'.concat(i,'"]')).classList.add("e-selected-cell-custom")},{inquirySlotOutDTO:d=[]}=l||{},c=(null===d||void 0===d?void 0:d.length)>1;return n?(0,x.jsxs)("div",{className:"event-custom-calender not-operational",onClick:i,children:[(0,x.jsx)("div",{className:"overflow-hidden",children:(0,x.jsx)("div",{className:"purpose-text text-truncate",children:t})}),(0,x.jsx)("div",{className:"purpose-sub-text text-truncate"})]}):(0,x.jsxs)("div",{className:"event-custom-calender",onClick:i,children:[(0,x.jsxs)("div",{className:"overflow-hidden",children:[(0,x.jsx)("div",{className:"purpose-text text-truncate",children:t}),(0,x.jsxs)("div",{className:"purpose-sub-text text-truncate",children:[l.brideName&&l.groomName&&(0,x.jsxs)("div",{children:[l.brideName," & ",l.groomName]}),l.company&&(0,x.jsx)("div",{children:l.company}),l.title&&(0,x.jsx)("div",{children:l.title})]})]}),(0,x.jsx)("div",{children:(0,x.jsx)(ue.A,{placement:"topRight",title:c?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"tooltip-calender",children:[(0,x.jsx)("div",{className:"title",children:"Multi Slot"}),null===d||void 0===d?void 0:d.map((e=>{let{startTime:s,endTime:a}=e;return(0,x.jsxs)("div",{className:"slot-time",children:[s," To ",a]})}))]})}):(0,x.jsxs)("div",{className:"tooltip-calender",children:[(0,x.jsx)("div",{className:"title",children:"Single Slot"}),null===d||void 0===d?void 0:d.map((e=>{let{startTime:s,endTime:a}=e;return(0,x.jsxs)("div",{className:"slot-time",children:[s," To ",a]})}))]}),color:"white",children:(0,x.jsx)("span",{children:c?(0,x.jsx)(u.F$,{}):(0,x.jsx)(u.o9,{})})})})]})},maxEventsPerRow:2}),(0,x.jsx)(A.N,{option:"TimelineMonth"})]}),(0,x.jsx)(I.y_,{services:[C.A,w.k,me.f]})]})})},xe=e=>{let{setAddUpdateCalender:s,venueDetails:a,allVenueList:l=[],selectedMonth:n,reload:i,setSelectedMonth:d,selectedVenue:c}=e;const[r,o]=(0,t.useState)(null);(0,t.useEffect)((()=>{o(null)}),[a]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-8",children:(0,x.jsxs)("div",{className:"calender-header-custom",children:[(0,x.jsxs)("div",{className:"month-navigate",children:[(0,x.jsx)("div",{className:"arrow",onClick:()=>{d(n.subtract(1,"month"))},role:"button",children:(0,x.jsx)(u.D8,{})}),(0,x.jsxs)("div",{className:"calender-month-select",children:[(0,x.jsxs)("div",{className:"month-year-name",children:[(0,x.jsx)("div",{className:"month",children:n.format("MMMM")}),(0,x.jsx)("div",{className:"year",children:n.format("YYYY")})]}),(0,x.jsx)(K.A,{picker:"month",format:"MMMM YYYY",className:"month-select",variant:"borderless",inputReadOnly:!0,value:n,onChange:e=>{d(e)},suffixIcon:null,allowClear:!1})]}),(0,x.jsx)("div",{className:"arrow",onClick:()=>{d(n.add(1,"month"))},role:"button",children:(0,x.jsx)(u._8,{})})]}),(0,x.jsxs)("div",{className:"calender-event-wrapper",children:[(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box1"}),(0,x.jsx)("h6",{className:"mb-0",children:"Available"})]}),(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box2"}),(0,x.jsx)("h6",{className:"mb-0",children:"Bookings"})]}),(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box3"}),(0,x.jsx)("h6",{className:"mb-0",children:"Not Operational"})]}),(0,x.jsxs)("div",{className:"calender-event",children:[(0,x.jsx)("div",{className:"indicate-box4"}),(0,x.jsx)("h6",{className:"mb-0",children:"Closed"})]})]})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"summary-heading-wrapper headingTitle",children:[(0,x.jsx)("h5",{className:"summary-headings",children:"Summary"}),(0,x.jsx)("h6",{className:"heading-date",children:r&&(()=>{const e=S()(r).date();return"".concat(e).concat((e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(e)," ").concat(S()(r).format("MMMM YYYY"))})()})]})})]}),(0,x.jsxs)("div",{className:"row h-100",children:[(0,x.jsx)("div",{className:"col-md-8 left-col",children:(0,x.jsx)(he,{selectedMonth:n,venueDetails:a,selectedDate:r,setSelectedDate:o})}),(0,x.jsx)("div",{className:"col-md-4 right-col",children:r?(0,x.jsx)(ce,{reload:i,venueDetails:a,selectedDate:r,setAddUpdateCalender:s}):(0,x.jsx)(b,{allVenueList:l,selectedVenue:c})})]})]})},ve={getGuestList:()=>i.A.get(d.V.guestList),getGuestById:e=>i.A.get(d.V.getGuestById+"?GuestUserId=".concat(e)),addGuest:e=>i.A.post(d.V.addGuest,e),updateGuestPersonalInfo:e=>i.A.post(d.V.updateGuestPersonalInfo,e),updateGuestAddress:e=>i.A.post(d.V.updateGuestAddress,e),updateGuestCompany:e=>i.A.post(d.V.updateGuestCompany,e),getBookings:()=>i.A.get(d.V.getBookings),getInquiries:()=>i.A.get(d.V.getInquiries),searchByMobileNumber:e=>i.A.get(d.V.getGuestByMobile+"?MobileNumber="+e)};var je=a(6844),pe=a(9730),ge=a(4367),Ne=a(972);const be=e=>{let{show:s,handleClose:a,onSuccessProceed:l}=e;const n={mobileNumber:"",firstName:"",middleName:"",lastName:"",emailAddress:"",alternateMobileNumber:"",alternateEmailAddress:"",mobileCountryCode:Q.O.countryCodes.text[1],titleId:Q.O.titles.value.Mr,alternateMobileCountryCode:Q.O.countryCodes.text[1],sourceId:"",guestId:0,searchMobileNumber:""},[i,d]=(0,t.useState)(n),[c,h]=(0,t.useState)({}),[v,j]=(0,t.useState)([]),[p,g]=(0,t.useState)(!0),[N,b]=(0,t.useState)(""),[f,y]=(0,t.useState)([]),[A,I]=(0,t.useState)(!0),[C,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[D,T]=(0,t.useState)(""),[O,q]=(0,t.useState)(!1);(0,t.useEffect)((()=>{B()}),[]),(0,t.useEffect)((()=>{h({})}),[s]),(0,t.useEffect)((()=>{const e=setTimeout((()=>{N.trim().length>=3&&P(N)}),800);return()=>clearTimeout(e)}),[N]);const P=async e=>{try{I(!0);const s=await ve.searchByMobileNumber(e),{title:a,data:t}=s;a===o.A.success&&y(t.map((e=>{let{firstName:s,lastName:a,mobileNumber:t,guestId:l}=e;return{name:s+" "+a,mobileNumber:t+"",guestId:l}})))}catch(s){r.oR.error(s.message)}finally{I(!1)}},B=async()=>{try{g(!0);const e=await je.A.getSourceList(),{title:s,data:a}=e;s===o.A.success&&j(a.map((e=>{let{id:s,title:a}=e;return{value:s,text:a}})))}catch(e){r.oR.error(e.message)}finally{g(!1)}},F=e=>{const{value:s,name:a}=e.target;let t={...i};t[a]=s,d(t)},E=f.map((e=>({value:e.guestId,label:(0,x.jsxs)("div",{className:"d-flex align-items-center item-container autocomplete-list-item",children:[(0,x.jsx)("div",{className:"user-img me-2 d-flex  justify-content-center align-items-center",children:(0,x.jsx)(u.FC,{})}),(0,x.jsxs)("div",{className:"user-data",children:[(0,x.jsx)("div",{className:"user-phone",children:e.mobileNumber}),(0,x.jsx)("div",{className:"user-name",children:e.name})]})]})})));return(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",className:"custom-modal",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:"Add / Select Guest"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[k&&(0,x.jsx)("div",{className:"selectedGuestSpinner d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}),(0,x.jsxs)("form",{noValidate:!0,onSubmit:async e=>{if(e.preventDefault(),(()=>{let{firstName:e,lastName:s,emailAddress:a,sourceId:t,guestId:l,alternateEmailAddress:n}={...i},d={},c=!0;0===e.length?(d.firstName="Please enter first name",c=!1):e.length>=1&&e.length<=50&&(0,pe.pW)(e)||(d.firstName="Please enter valid first name",c=!1),0===s.length?(d.lastName="Please enter last name",c=!1):s.length>=1&&s.length<=50&&(0,pe.pW)(s)||(d.lastName="Please enter valid last name",c=!1);let r=/^(0|91)?[6-9][0-9]{9}$/;return l||(0===N.length?(d.searchMobileNumber="Please enter mobile number",c=!1):r.test(N)||(d.searchMobileNumber="Please enter a valid 10-digit mobile number",c=!1)),0===a.length?(d.emailAddress="Please enter email address",c=!1):(0,pe.DT)(a)||(d.emailAddress="Please enter valid email address",c=!1),n.length>0&&((0,pe.DT)(n)?n===a&&(d.alternateEmailAddress="Email and alternate email address cannot be same",c=!1):(d.alternateEmailAddress="Please enter a valid email address",c=!1)),0===t&&(d.sourceId="Please select source",c=!1),h(d),c})())try{let e;if(w(!0),i.guestId){const s={...i};e=await ve.updateGuestPersonalInfo(s)}else{const s={...i,alternateMobileNumber:i.alternateMobileNumber||0,mobileNumber:N};e=await ve.addGuest(s)}const{detail:s,title:t}=e;if(t===o.A.success)i.guestId?l(i.guestId):l(s),a();else{let e=null===s||void 0===s?void 0:s.toLowerCase();null!==e&&void 0!==e&&e.includes("mobile")?h({searchMobileNumber:"This number already exists"}):null!==e&&void 0!==e&&e.includes("email")&&h({emailAddress:"This email address already exists"}),T(s)}}catch(s){r.oR.error(s.message)}finally{w(!1)}},className:"add-guest-form",children:[(0,x.jsx)("div",{className:"offcanvas-body-content p-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"error-boundary ".concat(c.searchMobileNumber?"error":""),children:(0,x.jsx)("label",{className:"form-label",children:"Mobile Number *"})})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsx)(oe.A,{onChange:F,value:Q.O.countryCodes.value[i.alternateMobileCountryCode],name:"mobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"+91"})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.searchMobileNumber?"error":""),children:[(0,x.jsx)("div",{className:"guest-autocomplete-container pt-1",children:(0,x.jsx)(ge.A,{options:E,onSelect:e=>{let s=f.find((s=>s.guestId===e));b(s.mobileNumber),(async e=>{try{S(!0);const s=await ve.getGuestById(e.guestId),{title:a,data:t}=s;if(a===o.A.success){const{guestDetailByIdDTO:e}=t,{emailAddress:s,firstName:a,lastName:l,middleName:i,mobileNumber:c,sourceID:r,alternateMobileNumber:o,alternateEmailAddress:m,guestId:u}=e;d({...n,emailAddress:s,firstName:a,lastName:l,middleName:i,mobileNumber:c,sourceId:r,alternateMobileNumber:o,alternateEmailAddress:m,guestId:u}),q(!0)}}catch(s){r.oR.error(s.message)}finally{S(!1)}})(s)},value:N,children:(0,x.jsx)(Ne.A,{size:"large",placeholder:"Enter Number",value:N,onChange:e=>{if("change"===e.type){const s=e.target.value;s.length<=10&&(b(s),d(n))}},className:"guest-autocomplete",maxLength:10,type:"number"})})}),c.searchMobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:c.searchMobileNumber})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.titleId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Title *"}),(0,x.jsx)(oe.A,{onChange:F,value:i.titleId,name:"titleId",dataSource:Q.O.titles.list,enabled:!O}),c.titleId&&(0,x.jsx)("div",{className:"input-error-text",children:c.titleId})]})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.firstName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"First Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Name",onChange:F,required:!0,name:"firstName",value:i.firstName,disabled:O}),c.firstName&&(0,x.jsx)("div",{className:"input-error-text",children:c.firstName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.middleName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Middle Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Name",onChange:F,name:"middleName",value:i.middleName,disabled:O}),c.middleName&&(0,x.jsx)("div",{className:"input-error-text",children:c.middleName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.lastName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Name",required:!0,onChange:F,name:"lastName",value:i.lastName,disabled:O}),c.lastName&&(0,x.jsx)("div",{className:"input-error-text",children:c.lastName})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label",children:"Alternate Mobile Number"})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsx)(oe.A,{onChange:F,value:Q.O.countryCodes.value[i.alternateMobileCountryCode],name:"alternateMobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"Select",enabled:!O})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.alternateMobileNumber?"error":""),children:[(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Mobile Number",onChange:F,name:"alternateMobileNumber",value:i.alternateMobileNumber||"",maxLength:10,disabled:O}),c.alternateMobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:c.alternateMobileNumber})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.emailAddress?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Email Address *"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",placeholder:"Enter Email Address",required:!0,onChange:F,name:"emailAddress",value:i.emailAddress,disabled:O}),c.emailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:c.emailAddress})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.alternateEmailAddress?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Alternate Email Address"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",placeholder:"Enter Email Address",required:!0,onChange:F,name:"alternateEmailAddress",value:i.alternateEmailAddress,disabled:O}),c.alternateEmailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:c.alternateEmailAddress})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(c.sourceId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Guest Source *"}),(0,x.jsx)(oe.A,{onChange:F,value:i.sourceId,name:"sourceId",dataSource:v,placeholder:"Select source",enabled:!O}),c.sourceId&&(0,x.jsx)("div",{className:"input-error-text",children:c.sourceId})]})})]})}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex d-flex align-items-center justify-content-between w-100",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold btn-40",onClick:()=>(d(n),h({}),b(""),q(!1),void y([])),role:"button",children:"Reset"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold btn-40",onClick:()=>a(!1),role:"button",children:"Cancel"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-40",type:"submit",disabled:""===i.firstName||""===i.lastName||""===i.emailAddress||!i.sourceId,children:[C&&(0,x.jsx)(m.A,{animation:"border",size:"sm"}),(0,x.jsx)("span",{className:"ms-1",children:"Proceed"})]})]})]})})]})]})]})};S().extend(J());const fe=e=>{let{minTime:s="",value:a,invalid:l,...n}=e;(0,t.useEffect)((()=>{}),[s]);return(0,x.jsx)(G.A,{className:"custom-time-container ".concat(l?"invalid":""," "),placeholder:"",use12Hours:!0,format:"hh:mm A",...n,disabledTime:()=>{const[e,a]=(null===s||void 0===s?void 0:s.split(" "))||["",""];let[t,l]=e.split(":").map(Number);return"PM"===a&&12!==t?t+=12:"AM"===a&&12===t&&(t=0),59===l?(t+=1,l=0):l+=1,{disabledHours:()=>Array.from({length:t},((e,s)=>s)),disabledMinutes:e=>e===t?Array.from({length:l},((e,s)=>s)):[]}},value:a?S()(a,"hh:mm A"):null,inputReadOnly:!0,defaultOpenValue:s?S()(s,"hh:mm A").add(1,"minute"):null})};var ye=a(5878);const Ae=e=>{let{handleClose:s,show:a}=e;return(0,x.jsxs)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Update Venue Calendar"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:ye,alt:"img"}),(0,x.jsx)("h4",{className:"fw-bold my-4",children:"Update Successful!"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",onClick:s,children:"Okay"})})]})},Ie=e=>{let{show:s,handleClose:a,allVenueList:l,data:n,reload:i=(()=>{}),selectedVenue:d}=e;const[c,m]=(0,t.useState)({}),[u,h]=(0,t.useState)(!0),[v,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)(""),A=e=>{const{value:s,name:a}=e.target;let t={...c};t[a]=s,m(t)},I=(e,s)=>{let a={...c};"startDate"===s?(a[s]=e||"",a.endDate=""):a[s]=e||"",m(a)},C=(e,s)=>{let a={...c};"startTime"===s?(a[s]=e,a.endTime=""):a[s]=e,m(a)};(0,t.useEffect)((()=>{n&&s&&(n.data.venueId?m(n.data||{}):m({venueId:d>0?d:""}),b("edit"===n.action))}),[n,s]),(0,t.useEffect)((()=>{h(w())}),[c]);const w=()=>{const{venueId:e,reason:s,title:a}=c;return!e||!s||!a},k=(U("Calendar","Add"),U("Calendar","Edit")),S=U("Calendar","Delete");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(z.A,{show:s,onHide:a,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:" Update Venue Calendar"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[(0,x.jsx)("div",{className:"offcanvas-body-content p-3",children:(0,x.jsx)("div",{className:N?"":"readonly-form",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Venue *"}),(0,x.jsx)(oe.A,{dataSource:l,placeholder:"Select Venue",value:c.venueId,name:"venueId",onChange:A,readonly:!N})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Reason *"}),(0,x.jsx)(oe.A,{dataSource:Q.O.calenderReason.list,placeholder:"Select Reason",value:c.reason,name:"reason",onChange:A,readonly:!N})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Title",value:c.title,name:"title",onChange:A,readOnly:!N})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Description"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Description",value:c.description,name:"description",readOnly:!N,onChange:A})]}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("input",{style:{height:"20px",width:"20px"},type:"checkbox",className:"form-check-input custom-check m-0 me-2",id:"multiDate",onChange:e=>{const{name:s,checked:a}=e.target;m((e=>({...e,[s]:a,startDate:"",endDate:"",endTime:""})))},checked:c.multiDate,disabled:!N,name:"multiDate"}),(0,x.jsx)("label",{className:"text-nowrap label-for-minimum-revenue ".concat(""),htmlFor:"multiDate",children:"Create multi date update"})]})}),c.multiDate?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Start Date"}),(0,x.jsx)(X,{inputReadOnly:!0,onChange:e=>I(e,"startDate"),value:c.startDate||"",placeholder:"Select Date"})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"End Date"}),(0,x.jsx)(X,{inputReadOnly:!0,minDate:c.startDate,disabled:!c.startDate||!N,onChange:e=>I(e,"endDate"),value:c.endDate||"",placeholder:"Select Date"})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Select Date"}),(0,x.jsx)(X,{onChange:e=>I(e,"startDate"),value:c.startDate||"",placeholder:"Select Date",disabled:!N})]}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"Start Time"}),(0,x.jsx)(fe,{disabled:!N,className:"custom-time-select",onChange:(e,s)=>C(s,"startTime"),value:c.startTime||"",placeholder:"Select Time"})]}),(0,x.jsxs)("div",{className:"col-md-6",children:[(0,x.jsx)("label",{className:"form-label custom-form-label",children:"End Time"}),(0,x.jsx)(fe,{className:"custom-time-select",onChange:(e,s)=>C(s,"endTime"),value:c.endTime,placeholder:"Select Time",minTime:c.startTime,disabled:!c.startTime})]})]})})]}),f&&(0,x.jsx)("div",{className:"col- ms-12 text-danger",children:f})]})})}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex d-flex align-items-center justify-content-between w-100",children:[S?(0,x.jsx)(x.Fragment,{children:N&&c.id?(0,x.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-40",onClick:()=>g(!0),children:"Delete"}):(0,x.jsx)("div",{})}):(0,x.jsx)("div",{}),N?(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold btn-40",onClick:a,role:"button",children:"Discard"}),(0,x.jsx)("button",{className:"btn btn-primary btn-40",type:"button",disabled:u,onClick:async()=>{try{const{id:e,venueId:s,reason:t,description:l,multiDate:n,startDate:d,endDate:r,startTime:m,endTime:u}=c;let h={id:e||0,venueDetailId:s,reasonTypeId:t,title:c.title,description:l,isMultiDate:n,startDate:d&&(null===d||void 0===d?void 0:d.format("DD-MM-YYYY")),endDate:r&&(null===r||void 0===r?void 0:r.format("DD-MM-YYYY")),startTime:m,endTime:u};const x=e?await L.updateCalenderData(h):await L.addCalenderData(h),{title:v,detail:p}=x;v===o.A.success?(a(),i(),j(!0)):y(p)}catch(f){r.oR.error(f.message)}},children:(0,x.jsx)("span",{className:"ms-1",children:c.id?"Update":"Save"})})]}):k&&(0,x.jsx)("button",{className:"btn btn-primary btn-40",type:"button",onClick:()=>b(!0),children:(0,x.jsx)("span",{className:"ms-1",children:"Modify"})})]})})]})]}),(0,x.jsx)(Ae,{show:v,handleClose:()=>j(!1)}),(0,x.jsx)(Y,{show:p,handleClose:()=>g(!1),onConfirm:()=>{(async()=>{try{let e=c;const s=await L.deleteCalenderData(e),{title:t}=s;t===o.A.success&&(a(),i())}catch(f){r.oR.error(f.message)}finally{g(!1),a(),i()}})()}})]})},Ce=a.p+"static/media/buildings-img.c9c3625391386917fb54.png",we=()=>{const e=(0,l.Zp)(),s=U("Account","Add");return(0,x.jsx)("div",{className:"bg-custom-white mx-4 overflow-hidden h-100 pt-4",children:(0,x.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:Ce,alt:""}),(0,x.jsx)("h3",{className:"page-heading",children:"No Active Venue"}),(0,x.jsx)("p",{className:"description mt-2",children:"No active venue found. Make an existing venue active or add a new venue to display data on calendar."}),s&&(0,x.jsx)("button",{className:"btn btn-primary btn-sm btn-40 px-3 add-btn mx-auto",onClick:()=>e("/settings/account-details/venue-details"),children:(0,x.jsx)("span",{children:"Manage Venues"})})]})})})},ke=()=>{const e=(0,l.Zp)(),[s,a]=(0,t.useState)(""),[n,i]=(0,t.useState)({}),[d,c]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)(!1),[p,N]=(0,t.useState)([]),[b,f]=(0,t.useState)(!0),[y,A]=(0,t.useState)(S()());(0,t.useEffect)((()=>{I()}),[y]);const I=async()=>{try{const e=await L.getOneMonthDetails(y.format("MMMM YYYY")),{title:t,data:l}=e;if(t===o.A.success){const{venueDetail:e=[]}=l||[];N(l.venueDetail||[]),e.length>0&&(s||a(null===e||void 0===e?void 0:e.sort(((e,s)=>{var a;return null===(a=e.venueName)||void 0===a?void 0:a.localeCompare(s.venueName)}))[0].id))}}catch(e){r.oR.error(e.message)}finally{f(!1)}},C=U("Inquiries","Add"),w=U("Reminders","Add"),k=U("Calendar","Edit");U("Calendar","Delete");return(0,x.jsxs)(ae.Provider,{value:{selectedVenueDate:n,setSelectedVenueDate:i,getMonthInquiryDetails:I},children:[b?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("header",{className:"header px-4",children:[(0,x.jsx)("h4",{className:"heading-title",children:"Availability Calendar"}),(0,x.jsx)("div",{className:"calendar-action flex-grow-1 d-flex justify-content-end",children:(0,x.jsxs)("div",{className:"calendar-select d-flex align-items-center gap-4",children:[p.length>0&&(0,x.jsx)(oe.A,{customCss:"bordered border-calender",dataSource:[...p.map((e=>{let{id:s,venueName:a}=e;return{text:a,value:s}})),{text:"All Venue",value:-1}],placeholder:"Select Venue",value:s,onChange:e=>a(e.target.value)}),(w||C||k)&&(0,x.jsxs)("div",{className:"btn-group",children:[(0,x.jsx)("button",{type:"button",className:"btn btn-primary canvasbtn",children:"Action"}),(0,x.jsx)("button",{type:"button",className:"btn btn-primary canvasbtn-toggle dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)("span",{className:"toggle-hidden",children:(0,x.jsx)(j.p$,{strokeColor:"#FFFFFF"})})}),(0,x.jsxs)("ul",{className:"dropdown-menu",children:[w&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"dropdown-item cursor-pointer ",onClick:()=>v(!0),children:[(0,x.jsx)(j.jn,{})," Add Reminder"]})}),C&&(0,x.jsx)("li",{children:(0,x.jsxs)("span",{role:"button",className:"dropdown-item",onClick:()=>c(!0),children:[(0,x.jsx)(j.ls,{})," Create Inquiry"]})}),k&&(0,x.jsx)("li",{children:(0,x.jsxs)("span",{role:"button",className:"dropdown-item",onClick:()=>u({show:!0,data:{},action:"edit"}),children:[(0,x.jsx)(j.o,{})," Update Calender"]})})]})]})]})})]}),(0,x.jsx)("div",{className:"calender",children:p.length>0?(0,x.jsx)("div",{className:"bg-custom-white mx-4 overflow-hidden h-100 pt-4",children:-1===s?(0,x.jsx)(re,{reload:I,selectedMonth:y,setSelectedMonth:A,allVenueList:p,setAddUpdateCalender:u,selectedVenue:s}):(0,x.jsx)(xe,{reload:I,selectedMonth:y,setSelectedMonth:A,allVenueList:p,venueDetails:p.find((e=>{let{id:a}=e;return a===s}))||{},setAddUpdateCalender:u,selectedVenue:s})}):(0,x.jsx)(we,{})})]}),(0,x.jsx)(ee,{show:h,setShow:v}),(0,x.jsx)(Ie,{show:m.show,handleClose:()=>u({}),allVenueList:p.map((e=>{let{id:s,venueName:a}=e;return{text:a,value:s}})),reload:I,data:m,selectedVenue:s}),(0,x.jsx)(be,{show:d,handleClose:()=>c(!1),onSuccessProceed:s=>e("/inquiry-bookings/inquiry/new-"+s)})]})};var Se=a(7038),De=a(7904),Te=a(6969);const Oe=a.p+"static/media/guest-detail-design.43fcf818ad226aa78b2f.png",qe=e=>{let{setGuestCanvas:s,permission:a}=e;return(0,x.jsxs)("div",{className:"no-guest-data-wrapper h-100",children:[(0,x.jsx)("img",{src:Oe,alt:"no-guest"}),(0,x.jsx)("h3",{className:"heading",children:"No guest found?"}),(0,x.jsx)("p",{className:"desc",children:"Create a new lead and setup it from scratch"}),(null===a||void 0===a?void 0:a.canAdd)&&(0,x.jsx)("div",{className:"d-flex align-items-center mb-4",children:(0,x.jsxs)("button",{className:"btn btn-primary fw-bold fs-14 px-3 add-btn",onClick:()=>s(!0),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Create Guest"})]})})]})};var Pe=a(9015),Be=a.n(Pe);const Fe=e=>{let{data:s,getPaginatedData:a,searchText:l,filterApplied:n}=e;const[i,d]=(0,t.useState)([...s]),[c,r]=(0,t.useState)(-1),[o,m]=(0,t.useState)(0),[u,h]=(0,t.useState)(0),[v,j]=(0,t.useState)(0);(0,t.useEffect)((()=>{d([...s]),r(0)}),[s]),(0,t.useEffect)((()=>{r(0)}),[l,n]),(0,t.useEffect)((()=>{const e=Math.ceil(i.length/10);m(e);const s=10*c,t=Math.min(s+10-1,i.length-1);h(s),j(t);const l=i.slice(s,t+1);a(l)}),[i,c]);const p=e=>{let{selected:s}=e;r(s)},g="Showing ".concat(u+1,"-").concat(v+1," of ").concat(i.length);return 0===i.length?(0,x.jsx)(x.Fragment,{}):(0,x.jsxs)("div",{className:"custom-pagination me-5",children:[(0,x.jsx)("div",{className:"record-text",children:g}),(0,x.jsxs)("div",{className:"d-flex me-3",children:[(0,x.jsx)("div",{className:"first-page ".concat(0===c&&"arrow-disabled"," pe-2 "),role:"button",onClick:()=>p({selected:0}),title:"Go to first page"}),(0,x.jsx)(Be(),{pageCount:o,pageRangeDisplayed:3,marginPagesDisplayed:1,onPageChange:p,containerClassName:"pagination",activeClassName:"active",previousLabel:(0,x.jsx)("span",{title:"Go to previous page",children:"PREV"}),nextLabel:(0,x.jsx)("span",{title:"Go to next page",children:"NEXT"}),previousClassName:"previous",nextClassName:"next",forcePage:c}),(0,x.jsx)("div",{title:"Go to last page",className:"last-page ".concat(c===o-1&&"arrow-disabled"),role:"button",onClick:()=>p({selected:o-1})})]})]})};var Ee=a(6481);const Re=e=>{let{showFilter:s,closeFilter:a,setFilterApplied:l,setFilterCount:n,tableData:i,setFilteredData:d,onClearFilter:c,guestData:r}=e;const[o,m]=(0,t.useState)({startDate:null,endDate:null,location:""}),u=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;let t={...o};t[s]=a,m(t)},h=(0,t.useMemo)((()=>Array.from(new Set(r.map((e=>e.location))))),[i]);return(0,x.jsxs)(z.A,{show:s,onHide:a,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsxs)("div",{className:"offcanvas-body-container",children:[(0,x.jsx)("div",{className:"offCanvas-body",children:(0,x.jsxs)("div",{className:"row mx-3",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Customer Since"})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date ",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>u(e,"startDate"),value:o.startDate})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>u(e,"endDate"),value:o.endDate})}),(0,x.jsx)("div",{className:"col-md-12 mb-4 dropdown-wrapper",children:(0,x.jsx)(Ee.V,{dataSource:h,placeholder:"Location",onChange:e=>{const{value:s,name:a}=e.target;let t={...o};t[a]=s,m(t)},value:o.location,name:"location"})})]})}),(0,x.jsxs)("div",{className:"offCanvas-footer text-end p-3",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:()=>{m({startDate:null,endDate:null,location:""}),a(),d([]),n(0),c(),a()},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-primary px-4",onClick:()=>{let e=[...i],s=0,{startDate:t,endDate:c,location:r}=o;if(t&&c){const a=new Date(t),l=new Date(c),n=e.filter((e=>{const s=new Date(e.customerSince);return s>=a&&s<=l}));e=n,s++}if(r){const a=e.filter((e=>r===e.location));e=a,s++}s>0&&(d(e),n(s),l(!0),a())},disabled:(!o.endDate||!o.startDate)&&""===o.location,children:"Apply"})]})]})})]})},Me=a.p+"static/media/No-Filter.9bbb1211e8da1a020bf3.png",Ye=()=>(0,x.jsx)("div",{className:"bg-custom-white data-not-match",children:(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:Me,alt:"data-not-match"}),(0,x.jsx)("h2",{className:"mt-4 title",children:"Data didn\u2019t Match"}),(0,x.jsx)("div",{className:"description mt-3",children:"Lorep ipsum the dear the Lorep ipsum the dear the ."})]})})}),Le=e=>{let{setGuestCanvas:s,guestList:a,permission:n}=e;const i=(0,l.Zp)(),[d,c]=(0,t.useState)(!1),[r,o]=(0,t.useState)([...a]),[m,u]=(0,t.useState)([]),[h,v]=(0,t.useState)(""),[p,g]=(0,t.useState)([]),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)(null),A=e=>{const s=e;if(v(s),s.length){const e=r.filter((e=>{let{fullName:a,guestCode:t,mobileNumber:l}=e;return a.toLowerCase().includes(s.toLowerCase())||t.toString().includes(s.toLowerCase())||l.toString().includes(s.toLowerCase())}));g(e)}};let C=h.length||N?p:r;return(0,x.jsxs)("div",{className:"custom-data-table h-100",children:[(0,x.jsx)("div",{className:" d-flex justify-content-between align-items-center mb-4",children:r.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h6",{className:"mb-0",children:["Guest Listing",(0,x.jsxs)("span",{className:"listing-number ms-1",children:["(",r.length,")"]})]}),(0,x.jsxs)("div",{className:"search-wrapper-group d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{}),(0,x.jsx)("input",{type:"text",placeholder:"Search",value:h,onChange:e=>A(e.target.value)})]}),(0,x.jsxs)("button",{className:"btn btn-outline-secondary filter-btn-border btn-sm filter-btn ms-2 btn-34",onClick:()=>c(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),f>0&&(0,x.jsx)("span",{className:"filter-number",children:f})]}),(0,x.jsx)(Re,{showFilter:d,closeFilter:()=>{c(!1)},setFilterApplied:b,onClearFilter:()=>{h.length>0&&A(h),b(!1)},tableData:r,setFilteredData:g,setFilterCount:y,guestData:r})]})]})}),(0,x.jsxs)("div",{className:"custom-data-table pagination-table inquiries-table ",children:[r.length>0&&(0,x.jsxs)(x.Fragment,{children:[m.length>0?(0,x.jsxs)(Se._,{dataSource:m,pageSettings:{pageSize:10},allowSorting:!0,enableHover:!0,rowSelected:e=>{i("guest-details/".concat(e.data.guestId))},children:[(0,x.jsxs)(De.r,{children:[(0,x.jsx)(De.e,{field:"guestCode",headerText:"CUST ID",showSortIcon:!0,clipMode:"EllipsisWithTooltip",width:100}),(0,x.jsx)(De.e,{field:"fullName",headerText:"FULL NAME",template:e=>(0,x.jsx)("div",{role:"button",className:"fb-fullname-badge",children:e.fullName}),allowSorting:!1,clipMode:"EllipsisWithTooltip",width:200}),(0,x.jsx)(De.e,{field:"mobileNumber",headerText:"MOBILE NUMBER",template:e=>e.countryCode+" "+e.mobileNumber,allowSorting:!1,clipMode:"EllipsisWithTooltip",width:200}),(0,x.jsx)(De.e,{field:"emailAddress",headerText:"EMAIL ADDRESS",allowSorting:!1,clipMode:"EllipsisWithTooltip",width:200}),(0,x.jsx)(De.e,{field:"location",headerText:"LOCATION",template:e=>e.location||"-",showSortIcon:!0,clipMode:"EllipsisWithTooltip",width:200}),(0,x.jsx)(De.e,{field:"source",headerText:"SOURCE",showSortIcon:!0,clipMode:"EllipsisWithTooltip",width:200}),(0,x.jsx)(De.e,{field:"customerSince",headerText:"CUSTOMER SINCE",showSortIcon:!0,clipMode:"EllipsisWithTooltip",width:150})]}),(0,x.jsx)(I.y_,{services:[Te.F]})]}):(h.length||N)&&(0,x.jsx)(Ye,{}),(0,x.jsx)(Fe,{data:C,getPaginatedData:u,searchText:h||"",filterApplied:N})]}),0===r.length&&(0,x.jsx)(qe,{setGuestCanvas:s,permission:n})]})]})},Ve=e=>{let{showGuestCanvas:s,setGuestCanvas:a,guestList:n}=e;const i={mobileNumber:"",firstName:"",middleName:"",lastName:"",emailAddress:"",alternateMobileNumber:"",alternateEmailAddress:"",mobileCountryCode:Q.O.countryCodes.text[1],titleId:Q.O.titles.value.Mr,alternateMobileCountryCode:Q.O.countryCodes.text[1],sourceId:"",guestId:0,searchMobileNumber:""},[d,c]=(0,t.useState)(i),[h,v]=(0,t.useState)({}),[j,p]=(0,t.useState)([]),[g,N]=(0,t.useState)(!0),[b,f]=(0,t.useState)(""),[y,A]=(0,t.useState)([]),[I,C]=(0,t.useState)(!0),[w,k]=(0,t.useState)(!1),S=(0,l.Zp)(),[D,T]=(0,t.useState)(""),[O,q]=(0,t.useState)(!1);(0,t.useEffect)((()=>{B()}),[]),(0,t.useEffect)((()=>{v({})}),[s]),(0,t.useEffect)((()=>{const e=setTimeout((()=>{b.trim().length>=3&&P(b)}),800);return()=>clearTimeout(e)}),[b]);const P=async e=>{try{C(!0);const s=await ve.searchByMobileNumber(e),{detail:a,message:t,title:l,data:n}=s;l===o.A.success&&A(n.map((e=>{let{firstName:s,lastName:a,mobileNumber:t,guestId:l}=e;return{name:s+" "+a,mobileNumber:t+"",guestId:l}})))}catch(s){r.oR.error(s.message)}finally{C(!1)}},B=async()=>{try{N(!0);const e=await je.A.getSourceList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&p(l.map((e=>{let{id:s,title:a}=e;return{value:s,text:a}})))}catch(e){r.oR.error(e.message)}finally{N(!1)}},F=e=>{const{value:s,name:a}=e.target;let t={...d};t[a]=s,c(t)},E=y.map((e=>({value:e.guestId,label:(0,x.jsxs)("div",{className:"d-flex align-items-center item-container autocomplete-list-item",children:[(0,x.jsx)("div",{className:"user-img me-2 d-flex  justify-content-center align-items-center",children:(0,x.jsx)(u.FC,{})}),(0,x.jsxs)("div",{className:"user-data",children:[(0,x.jsx)("div",{className:"user-phone",children:e.mobileNumber}),(0,x.jsx)("div",{className:"user-name",children:e.name})]})]})})));return(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",className:"custom-modal",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:"Add / Select Guest"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[w&&(0,x.jsx)("div",{className:"selectedGuestSpinner d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}),(0,x.jsxs)("form",{noValidate:!0,onSubmit:async e=>{if(e.preventDefault(),(()=>{let{firstName:e,lastName:s,emailAddress:a,sourceId:t,guestId:l,alternateMobileNumber:n,alternateEmailAddress:i}={...d},c={},r=!0;0===e.length?(c.firstName="Please enter your first name",r=!1):e.length>=1&&e.length<=50&&(0,pe.pW)(e)||(c.firstName="Please enter valid first name",r=!1),0===s.length?(c.lastName="Please enter last name",r=!1):s.length>=1&&s.length<=50&&(0,pe.pW)(s)||(c.lastName="Please enter valid last name",r=!1);let o=/^(0|91)?[6-9][0-9]{9}$/;return l||(0===b.length?(c.searchMobileNumber="Please enter mobile number",r=!1):o.test(b)||(c.searchMobileNumber="Please enter a valid 10-digit mobile number",r=!1)),n.length&&(o.test(n)?n===b&&(c.alternateMobileNumber="Mobile and alternate mobile number cannot be same",r=!1):(c.alternateMobileNumber="Please enter a valid 10-digit mobile number",r=!1)),0===a.length?(c.emailAddress="Please enter email address",r=!1):(0,pe.DT)(a)||(c.emailAddress="Please enter valid email address",r=!1),i&&i.length>0&&((0,pe.DT)(i)?i===a&&(c.alternateEmailAddress="Email and alternate email address cannot be same",r=!1):(c.alternateEmailAddress="Please enter valid email address",r=!1)),t||(c.sourceId="Please select source",r=!1),v(c),r})())try{let e;if(d.guestId)S("/guest-management/guest-details/".concat(d.guestId));else{const s={...d,alternateMobileNumber:d.alternateMobileNumber||0,mobileNumber:b};e=await ve.addGuest(s);const{detail:t,message:l,title:n}=e;if(n===o.A.success)S("/guest-management/guest-details/".concat(t)),a(!1);else{let e=null===t||void 0===t?void 0:t.toLowerCase();null!==e&&void 0!==e&&e.includes("mobile")?v({searchMobileNumber:"This number already exists"}):null!==e&&void 0!==e&&e.includes("email")&&v({emailAddress:"This email address already exists"}),T(t)}}}catch(s){r.oR.error(s.message)}},className:"add-guest-form",children:[(0,x.jsx)("div",{className:"offcanvas-body-content p-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"error-boundary ".concat(h.searchMobileNumber?"error":""),children:(0,x.jsx)("label",{className:"form-label",children:"Mobile Number *"})})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsx)(oe.A,{onChange:F,value:Q.O.countryCodes.value[d.mobileCountryCode],name:"mobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"+91"})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.searchMobileNumber?"error":""),children:[(0,x.jsx)("div",{className:"guest-autocomplete-container pt-1",children:(0,x.jsx)(ge.A,{options:E,onSelect:e=>{let s=y.find((s=>s.guestId===e));f(s.mobileNumber),(async e=>{try{k(!0);const s=await ve.getGuestById(e.guestId),{detail:a,message:t,title:l,data:n}=s;if(l===o.A.success){const{guestDetailByIdDTO:e}=n,{emailAddress:s,firstName:a,lastName:t,middleName:l,mobileNumber:d,sourceID:r,alternateMobileNumber:o,alternateEmailAddress:m,guestId:u}=e;c({...i,emailAddress:s,firstName:a,lastName:t,middleName:l,mobileNumber:d,sourceId:r,alternateMobileNumber:o,alternateEmailAddress:m,guestId:u}),q(!0)}}catch(s){r.oR.error(s.message)}finally{k(!1)}})(s)},value:b,children:(0,x.jsx)(Ne.A,{size:"large",placeholder:"Enter Number",value:b,onChange:e=>{if("change"===e.type){const s=e.target.value;s.length<=10&&(f(s),c(i))}},className:"guest-autocomplete",maxLength:10,type:"number"})})}),h.searchMobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:h.searchMobileNumber})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.titleId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Title *"}),(0,x.jsx)(oe.A,{onChange:F,value:d.titleId,name:"titleId",dataSource:Q.O.titles.list,enabled:!O}),h.titleId&&(0,x.jsx)("div",{className:"input-error-text",children:h.titleId})]})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.firstName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"First Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Name",onChange:F,required:!0,name:"firstName",value:d.firstName,disabled:O}),h.firstName&&(0,x.jsx)("div",{className:"input-error-text",children:h.firstName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.middleName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Middle Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Name",onChange:F,name:"middleName",value:d.middleName,disabled:O}),h.middleName&&(0,x.jsx)("div",{className:"input-error-text",children:h.middleName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.lastName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Name",required:!0,onChange:F,name:"lastName",value:d.lastName,disabled:O}),h.lastName&&(0,x.jsx)("div",{className:"input-error-text",children:h.lastName})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"error-boundary ".concat(h.alternateMobileNumber?"error":""),children:(0,x.jsx)("label",{className:"form-label",children:"Alternate Mobile Number"})})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsx)(oe.A,{onChange:F,value:Q.O.countryCodes.value[d.alternateMobileCountryCode],name:"alternateMobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"Select",enabled:!O})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.alternateMobileNumber?"error":""),children:[(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Mobile Number",onChange:F,name:"alternateMobileNumber",value:d.alternateMobileNumber||"",maxLength:10,disabled:O}),h.alternateMobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:h.alternateMobileNumber})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.emailAddress?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Email Address *"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",placeholder:"Enter Email Address",required:!0,onChange:F,name:"emailAddress",value:d.emailAddress,disabled:O}),h.emailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:h.emailAddress})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.alternateEmailAddress?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Alternate Email Address"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",placeholder:"Enter Email Address",required:!0,onChange:F,name:"alternateEmailAddress",value:d.alternateEmailAddress,disabled:O}),h.alternateEmailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:h.alternateEmailAddress})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(h.sourceId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Guest Source *"}),(0,x.jsx)(oe.A,{onChange:F,value:d.sourceId,name:"sourceId",dataSource:j,placeholder:"Select source",enabled:!O}),h.sourceId&&(0,x.jsx)("div",{className:"input-error-text",children:h.sourceId})]})})]})}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex d-flex align-items-center justify-content-between w-100",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>(c(i),v({}),f(""),q(!1),void A([])),role:"button",children:"Reset"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>a(!1),role:"button",children:"Cancel"}),(0,x.jsx)("button",{className:"btn btn-primary px-4",type:"submit",disabled:""===d.firstName||""===d.lastName||""===d.emailAddress||!d.sourceId,children:"Proceed"})]})]})})]})]})]})},Ue=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!0),[n,i]=(0,t.useState)(!1);(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{l(!0);try{const e=await ve.getGuestList(),{title:a,data:t}=e;a===o.A.success&&s(t)}catch(e){r.oR.error(e.message)}finally{l(!1)}},c=U("GuestManagement","Add");U("GuestManagement","Edit"),U("GuestManagement","Delete");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("header",{className:"header px-4",children:[(0,x.jsx)("h4",{className:"heading-title",children:"Guest Management"}),c&&(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-end flex-grow-1",children:(0,x.jsxs)("button",{className:"btn btn-outline-primary px-3 add-btn import-btn",onClick:()=>i(!0),children:[(0,x.jsx)(u.FW,{color:"#7D63EC"}),(0,x.jsx)("span",{children:"Add New"})]})})]}),(0,x.jsx)("div",{className:"guest-data-container",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white",children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)(Le,{showGuestCanvas:n,setGuestCanvas:i,guestList:e,permission:c})})}),(0,x.jsx)(Ve,{guestList:e,showGuestCanvas:n,setGuestCanvas:i})]})},He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAeCAYAAAAy2w7YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJUSURBVHgB5VbNbtNAEJ5dx01aV5VzyhFHyilCqA8AaKn6AL3kApEKTwB9grhPQN4AVwqceQCoFnHhiPoA4L5BD0ZKItfLjL2EKP7ZFbSX9pNsr2dnvpnxzI4McNfAbBXF47FwHJigyT6A8lEkVZadnX/9ENnYOzZKh0/HE8YhwmWAV0eLA8bYUf/BI/h5efHFxMFNCgfi+UvFIKQ1Y3B6zZIuXYqpEy0LhRgLE0/LpMAUPy4I1ckn+X66tjXFTH0MYuIo+qQgm3iMGSEE3VJwo82NlLf+ON43cJgdKYArMMM3KRgdYVt+zxWz9M3mnpOlx3opTTzmGmEDKAUCn5ODJy+uMudXVDjefQ26SRTLzow8YIFDMQ5VUfASsBlOz+UsNHFYnaMf8YXs9x9eMmBUi4DqhhF+wyxffZazCO4lamtUMdtMaJx9lTWqmW0mNM6+UkY023DsvMs3saNSSKZSfmw8tEIc+Rw8tGNv6f2awTMpZ3Jdp3SOGmZbLXQgjbOvajIIulXNNhOaZh+vjzKymXF1Nr61o5tGqUYKVAz/gSp7hfOLYP3f8M/Olbp1HyvkB1YI0VosFh3XdXfm8/keijzf97e63S5PkoTyVg0cjOzjOO6gjYcc3nK53EW5C397YGVPgjY5gKJj/F6v5w0Gg7YOpil12nNIl2xwvac5aN2mIFaa9A21gIh38NrWa5JxwzdmOtDcPggCGlnbw+FwS3OWOpuPRiNHG1DaLXq3KaTuKq6zz+01l7MezSorRj9pYZjL8EkyEiqwA9vkhKI2tvY3g9/GQcquXIu/rwAAAABJRU5ErkJggg==",Qe=()=>{const e=(0,l.Zp)(),[s,a]=(0,t.useState)(""),i=(0,l.g)(),[d,c]=(0,t.useState)([]),[m,h]=(0,t.useState)(!1);let v=[{url:"/guest-management/guest-details/".concat(i.guestId),title:"Profile",end:!0},{url:"guest-inquiries",title:"Inquiries"},{url:"guest-bookings",title:"Bookings"}];(0,t.useEffect)((()=>{j()}),[]);const j=async()=>{h(!0);try{const e=await ve.getGuestById(i.guestId),{title:s,data:t}=e;if(s===o.A.success){c(t);const{guestDetailByIdDTO:e}=t;null!==e&&a((null===e||void 0===e?void 0:e.fullName)||"-")}}catch(e){r.oR.error(e.message)}finally{h(!1)}},p=U("Inquiries","Add"),g=U("GuestManagement","Add"),N=U("GuestManagement","Edit"),b=U("GuestManagement","Delete");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("header",{className:"header px-4",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:He,alt:""}),(0,x.jsx)("h4",{className:"users-profile mb-0 ms-2",children:s})]}),p&&(0,x.jsx)("div",{className:"d-flex justify-content-end",children:(0,x.jsxs)("button",{className:"enquiry-btn",onClick:()=>e("/inquiry-bookings/inquiry/new-".concat(i.guestId)),children:[(0,x.jsx)(u.FW,{color:"#FFFFFF"}),(0,x.jsx)("div",{className:"enquiry-btn-text ms-1",children:"Create Inquiry"})]})})]}),(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mx-4 mb-4",children:v.map((e=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsx)(n.k2,{className:"nav-link",to:e.url,end:e.end,children:e.title})})))}),(0,x.jsx)("div",{className:"guest-details",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4",children:m?(0,x.jsx)("div",{className:"loader-container bg-custom-white ",children:(0,x.jsx)("div",{className:"spinner-border",role:"status"})}):(0,x.jsx)(l.sv,{context:{guestData:d,getGuestData:j,permissions:{canAdd:g,canEdit:N,canDelete:b}}})})})]})};let We=e=>{switch(e){case"Active":return(0,x.jsx)("div",{className:"green-badge",children:"Active"});case"Deleted":return(0,x.jsx)("div",{className:"red-badge",children:"Deleted"});case"InActive":return(0,x.jsx)("div",{className:"yellow-badge",children:"Inactive"});case"UserVerificationPending":return(0,x.jsx)("div",{className:"blue-badge",children:"Pending Verification"});case"LinkExpired":return(0,x.jsx)("div",{children:"Link Expired"})}},ze=e=>{switch(e){case"Active":return(0,x.jsx)("div",{className:"green-badge",children:"Active"});case"InActive":return(0,x.jsx)("div",{className:"red-badge",children:"InActive"});case"Disposed":return(0,x.jsx)("div",{className:"red-badge",children:"Disposed"});case"Cancelled":return(0,x.jsx)("div",{className:"red-badge",children:"Cancelled"});case"High":return(0,x.jsx)("div",{className:"red-badge",children:"High"});case"Medium":return(0,x.jsx)("div",{className:"yellow-badge",children:"Medium"});case"Low":return(0,x.jsx)("div",{className:"blue-badge",children:"Low"})}};const Ge=e=>{let{viewDetails:s,setViewDetails:a}=e;const[l,n]=(0,t.useState)({...s});return(0,x.jsxs)("div",{className:"bg-custom-white",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center mb-4 cursor-pointer",onClick:()=>a({}),children:[(0,x.jsx)(j.Av,{}),(0,x.jsx)("span",{className:"ms-2 fw-bold",children:"Subscription Details"})]}),(0,x.jsxs)("div",{className:"row ms-1",children:[(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Subscription Plan"}),(0,x.jsx)("div",{children:l.subscriptionPackageName})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Subscription Type"}),(0,x.jsx)("div",{children:l.subscriptionTypeName})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"User Count"}),(0,x.jsx)("div",{children:l.userCount})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Venue Count"}),(0,x.jsx)("div",{children:l.venueCount})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Price"}),(0,x.jsxs)("div",{children:["\u20b9 ",l.pricePerUser.toLocaleString()]})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Total Cost"}),(0,x.jsxs)("div",{children:["\u20b9 ",l.totalAmount,"/-"]})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Mode of Payment"}),(0,x.jsx)("div",{children:l.modeofPaymentTypeName})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Start Date"}),(0,x.jsx)("div",{children:(0,B.Yq)(l.startDate,"Do MMM YY")})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Expiry Date"}),(0,x.jsx)("div",{children:(0,B.Yq)(l.expiryDate,"Do MMM YY")})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Validity"}),(0,x.jsx)("div",{children:l.subscriptionTypeName})]})}),(0,x.jsx)("div",{className:"col-md-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Status"}),(0,x.jsx)("div",{children:(e=>{switch(e){case 1:return(0,x.jsx)("div",{className:"sub-active-badge",children:"Active"});case 2:return(0,x.jsx)("div",{className:"sub-inactive-badge",children:"In-Active"})}})(l.statusId)||"-"})]})})]})]})},Ke=e=>{let{usersList:s,loading:a}=e;const t=(0,l.Zp)(),n=[{field:"id",headerText:"USER ID"},{field:"firstName",headerText:"FIRST NAME"},{field:"lastName",headerText:"LAST NAME"},{field:"mobileNumber",headerText:"MOBILE NUMBER"},{field:"emailAddress",headerText:"EMAIL ADDRESS",template:e=>{let{emailAddress:s}=e;return(0,x.jsx)("div",{className:"text-truncate",title:s,children:s})}},{field:"userRoleName",headerText:"ACCESS",template:e=>{let{userRoleName:s,userRoleId:a}=e;return a!==Q.O.userRolesEnum.value.Administrator?s:(0,x.jsxs)("div",{className:"d-flex flex-row",children:[(0,x.jsx)("div",{children:s}),(0,x.jsx)("div",{className:"account-primary-badge ms-2",children:"Primary"})]})}},{field:"status",headerText:"STATUS",template:e=>We(e.statusName)}];return(0,x.jsx)(x.Fragment,{children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)("div",{className:"users-table custom-data-table sub-plan-table",children:(0,x.jsx)(Se._,{dataSource:s,rowSelected:e=>{t("/settings/user-management/user-profile/".concat(e.data.id))},children:(0,x.jsx)(De.r,{children:n.map(((e,s)=>(0,x.jsx)(De.e,{...e,width:200},s)))})})})})},Ze=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[d,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),{profileDetails:v}=(0,t.useContext)(V.t0);(0,t.useEffect)((()=>{l(!0),b()}),[]);const p=(e,s,a,t)=>{var l,n;m(e+s+a);const i=null===(l=u.find((e=>e.roleName===a)))||void 0===l?void 0:l.roleId,d=null===(n=u.find((e=>e.roleName===a)))||void 0===n?void 0:n.rolePermissions.find((e=>e.featureName===s));if(d){const s=d.permissions.find((s=>s.permissionName===e));s&&f(i,d.featureId,s.permissionId,t)}},N=(e,s,a)=>Object.keys(e[s]).map(((t,l)=>(0,x.jsx)("div",{className:"mb-3 w-100 access-icon text-center p-1",children:n&&t+e.feature+s===d?(0,x.jsx)("div",{className:"spinner-border spinner-border-sm txt-primary",role:"status","aria-hidden":"true"}):e[s][t]?(0,x.jsx)("span",{onClick:a===Q.O.userRolesEnum.value.Administrator||"View"===t||"UserManagement"===e.feature?void 0:()=>p(t,e.feature,s,!1),className:"hover-row p-2 rounded-5",children:(0,x.jsx)(j.BU,{})}):(0,x.jsx)("span",{onClick:a===Q.O.userRolesEnum.value.Administrator?void 0:()=>p(t,e.feature,s,!0),children:(0,x.jsx)(j.Tj,{})})},l))),b=async()=>{try{const e=await c.getAccessPermissionList(),{data:s,detail:a,title:t}=e;t===o.A.success&&(h(s),y(s))}catch(e){r.oR.error(e.message)}finally{l(!1)}},f=async(e,s,a,t)=>{const l={featureId:s,permissionId:a,isAllowed:t,roleId:e};try{i(!0);const e=await c.updateAccessPermission(l),{data:s,detail:a,title:t}=e;t===o.A.success&&b()}catch(n){r.oR.error(n.message)}finally{i(!1)}},y=e=>{const a=[];null===e||void 0===e||e.forEach((e=>{e.rolePermissions.sort(((e,s)=>e.permissionId-s.permissionId)).forEach((s=>{const{featureName:t}=s,l=s.permissions.sort(((e,s)=>e.permissionId-s.permissionId)),n=a.find((e=>e.feature===t));n?n[e.roleName]=l.reduce(((e,s)=>(e[s.permissionName.trim()]=s.isAllowed,e)),{}):a.push({feature:t,actions:l.map((e=>e.permissionName.trim())),[e.roleName]:l.reduce(((e,s)=>(e[s.permissionName.trim()]=s.isAllowed,e)),{})})}))})),s(a)};return(0,x.jsx)("div",{className:"h-100 overflow-x-auto",children:a?(0,x.jsx)(g.A,{}):(0,x.jsxs)("table",{className:"table simple-table access-table ",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Features"}),(0,x.jsx)("th",{children:"Actions"}),u.map((e=>(0,x.jsx)("th",{className:"text-center",children:e.roleName},e.roleName)))]})}),(0,x.jsx)("tbody",{children:e.map(((e,s)=>{return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(t=e.feature,(0,x.jsx)("div",{className:"txt-dark-grey fw-bold p-1",children:t}))}),(0,x.jsx)("td",{children:(a=e.actions,(0,x.jsx)("div",{className:"d-flex flex-column align-items-start",children:a.map(((e,s)=>(0,x.jsx)("div",{className:"mb-3 txt-grey text-center p-1",children:e},s)))}))}),u.map((s=>(0,x.jsx)("td",{children:N(e,s.roleName,s.roleId)},s.roleId)))]},s);var a,t}))})]})})},Je=e=>{let{show:s,setShow:a,onConfirm:t}=e;return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirmation"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:ne,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Confirm"}),(0,x.jsxs)("p",{className:"description mb-3 text-center",children:["Once confirmed, user will be sent a link to",(0,x.jsx)("br",{})," verify mobile and email to access the account."]})]})}),(0,x.jsxs)(E.A.Footer,{className:"gap-2",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary me-2 cursor-pointer",onClick:()=>a(!1),children:"Discard"}),(0,x.jsx)(R.A,{variant:"primary",onClick:()=>{a(!1),t()},children:"Confirm"})]})]})})},Xe=a.p+"static/media/error-img.bf0edcfa7631bcfd72fc.png",_e=e=>{let{show:s,setShow:a}=e;const t=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:Xe,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Limit Reached"}),(0,x.jsxs)("p",{className:"description mb-3 text-center",children:["You have reached maximum user limit.",(0,x.jsx)("br",{}),"Contact Boozno.com to increase users in your subscription."]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",onClick:t,children:"Okay"})})]})})},$e=e=>{let{show:s,setShow:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirmation"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:ne,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Are you sure want to confirm ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Confirm changes"})]})}),(0,x.jsx)(E.A.Footer,{className:"gap-2",children:(0,x.jsx)(R.A,{variant:"primary",onClick:()=>{t(),a(!1)},children:"Submit"})})]})},es=e=>{let{show:s,setShow:a,userProfile:l,getUserData:n,getUsersList:i}=e;const[d,r]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[v,j]=(0,t.useState)({mobileCountryCode:Q.O.countryCodes.text[1],titleId:Q.O.titles.value.Mr,title:"",firstName:"",middleName:"",lastName:"",gender:"",genderId:null,mobileNumber:"",emailAddress:"",role:"",userRoleId:null}),[p,g]=(0,t.useState)({}),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)([]),[A,I]=(0,t.useState)(!1);(0,t.useEffect)((()=>{l.id&&j({...l})}),[l]),(0,t.useEffect)((()=>{s&&k()}),[s]);const C=e=>{const{value:s,name:a}=e.target;let t={...v};t[a]=s,j(t)},w=e=>{e.preventDefault(),(()=>{let{firstName:e,lastName:s,emailAddress:a,mobileNumber:t,userRoleId:l,genderId:n,titleId:i}={...v},d={},c=!0;return 0===e.length?(d.firstName="Please enter your first name",c=!1):e.length>=1&&e.length<=50&&(0,pe.pW)(e)||(d.firstName="Please enter valid first name",c=!1),0===s.length?(d.lastName="Please enter last name",c=!1):s.length>=1&&s.length<=50&&(0,pe.pW)(s)||(d.lastName="Please enter valid last name",c=!1),0===t.length?(d.mobileNumber="Please enter mobile number",c=!1):/^(0|91)?[6-9][0-9]{9}$/.test(t)||(d.mobileNumber="Please enter a valid 10-digit mobile number",c=!1),0===a.length?(d.emailAddress="Please enter email address",c=!1):(0,pe.DT)(a)||(d.emailAddress="Please enter valid email address",c=!1),i||(d.titleId="Please select title",c=!1),n||(d.genderId="Please select gender",c=!1),l||(d.userRoleId="Please select role",c=!1),g(d),c})()&&(null!==v&&void 0!==v&&v.id?h(!0):r(!0))},k=async e=>{try{b(!0);const e=await c.getUserRolesList(),{title:s,data:a,detail:t}=e;if(t===o.A.success){let e=a.filter((e=>e.id!==Q.O.userRolesEnum.value.Administrator)).map((e=>({text:e.title,value:e.id})));y(e)}}catch(s){console.log(s.message)}finally{b(!1)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Je,{setShow:r,show:d,onConfirm:async()=>{b(!0);let e={id:0,titleId:v.titleId,firstName:v.firstName,middleName:v.middleName,lastName:v.lastName,genderId:v.genderId,mobileCountryCode:Q.O.countryCodes.text[1],mobileNumber:v.mobileNumber,emailAddress:v.emailAddress,userRoleId:v.userRoleId,tenantId:"",userStatusId:0,countryId:0,stateId:0,cityId:0};try{let s=await c.addNewUser(e),{detail:t,title:l,data:n}=s;if(n&&!0===n)a(!1),i();else if(t.includes("limit"))I(!0);else{let e=null===t||void 0===t?void 0:t.toLowerCase();null!==e&&void 0!==e&&e.includes("mobile")?g({mobileNumber:t}):null!==e&&void 0!==e&&e.includes("email")&&g({emailAddress:t})}}catch(s){console.log(s)}finally{b(!1)}}}),(0,x.jsx)($e,{show:u,setShow:h,onConfirm:async()=>{b(!0);let e={...v};try{let s=await c.updateUserDetails(e),{detail:t,title:l}=s;if(l===o.A.success)a(!1),n(v.id);else{let e=null===t||void 0===t?void 0:t.toLowerCase();null!==e&&void 0!==e&&e.includes("mobile")?g({mobileNumber:t}):null!==e&&void 0!==e&&e.includes("email")&&g({emailAddress:t})}}catch(s){console.log(s)}finally{b(!1)}}}),(0,x.jsx)(_e,{show:A,setShow:I}),(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",className:"custom-modal",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:"Personal Info"})})," ",(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsx)("div",{className:"h-100 d-flex flex-column justify-content-between p-3",children:(0,x.jsxs)("form",{onSubmit:w,children:[(0,x.jsx)("div",{className:"offcanvas-body-content p-3",children:(0,x.jsxs)("div",{className:"offcanvas-form",children:[v.id&&(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Employee ID"}),(0,x.jsx)("div",{className:"fb-fullname-badge",children:v.id})]})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.titleId?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Title *"}),(0,x.jsx)(oe.A,{dataSource:Q.O.titles.list,value:v.titleId,name:"titleId",onChange:C}),p.titleId&&(0,x.jsx)("div",{className:"input-error-text",children:p.titleId})]})}),(0,x.jsx)("div",{className:"col-md-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.firstName?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"First Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"First Name",name:"firstName",value:v.firstName,onChange:C}),p.firstName&&(0,x.jsx)("div",{className:"input-error-text",children:p.firstName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.middleName?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Middle Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Middle Name",name:"middleName",value:v.middleName,onChange:C}),p.middleName&&(0,x.jsx)("div",{className:"input-error-text",children:p.middleName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.lastName?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Last Name",name:"lastName",value:v.lastName,onChange:C}),p.lastName&&(0,x.jsx)("div",{className:"input-error-text",children:p.lastName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.genderId?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Gender *"}),(0,x.jsx)(oe.A,{dataSource:Q.O.genderEnum.list,value:v.genderId,name:"genderId",onChange:C,placeholder:"Select gender"}),p.genderId&&(0,x.jsx)("div",{className:"input-error-text",children:p.genderId})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"error-boundary ".concat(p.mobileNumber?"error":""),children:(0,x.jsx)("label",{className:"form-label",children:"Mobile Number *"})})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-3 mb-3",children:(0,x.jsx)(oe.A,{value:Q.O.countryCodes.value[v.mobileCountryCode],name:"mobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"+91",onChange:C})}),(0,x.jsx)("div",{className:"col-md-9 col-sm-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.mobileNumber?"error":""),children:[(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Mobile Number",onChange:C,name:"mobileNumber",value:v.mobileNumber||"",maxLength:10}),p.mobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:p.mobileNumber})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.emailAddress?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Email Address *"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",placeholder:"Email Address",name:"emailAddress",onChange:C,value:v.emailAddress}),p.emailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:p.emailAddress})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(p.userRoleId?"error":""),children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Role *"}),(0,x.jsx)(oe.A,{dataSource:f,name:"userRoleId",placeholder:"Select role",value:v.userRoleId,onChange:C}),p.userRoleId&&(0,x.jsx)("div",{className:"input-error-text",children:p.userRoleId})]})})]})]})}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-end gap-2",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 cursor-pointer",onClick:()=>a(!1),children:"Cancel"}),(0,x.jsxs)("button",{className:"btn btn-primary",onClick:w,type:"submit",disabled:N,children:[N&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-2"}),v.id?"Update":"Add User"]})]})})]})})})]})]})},ss=e=>{let{show:s,setShow:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Account Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:M,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Delete Action?"}),(0,x.jsxs)("p",{className:"description mb-3 text-center",children:["Once deleted the action cannot be reversed.",(0,x.jsx)("br",{})," The user will not be able to access the account."]})]})}),(0,x.jsxs)(E.A.Footer,{className:"gap-2",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary me-2 cursor-pointer ",onClick:()=>{a(!1)},children:"Discard"}),(0,x.jsx)(R.A,{variant:"danger",onClick:()=>{t(),a(!1)},children:"Confirm"})]})]})},as=e=>{let{getUsersList:s,userProfile:a,updateUserStatus:n,getUserData:i}=e;const[d,c]=(0,t.useState)(!1),{Active:r,InActive:o,LinkExpired:m,UserVerificationPending:u,Deleted:h}=Q.O.userAccountStatus.value,[v,p]=(0,t.useState)(!1),{search:g}=(0,l.zy)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-between",children:null!==a&&void 0!==a&&a.id?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"name-wrapper txt-primary d-flex align-items-center justify-content-center",children:(0,x.jsx)("div",{className:"user-title",children:a.firstName+" "+a.lastName||"-"})}),a.statusId!==h&&a.userRoleId!==Q.O.userRolesEnum.value.Administrator&&(0,x.jsxs)("div",{className:"btn-group",children:[(0,x.jsx)("button",{type:"button",className:"btn btn-danger canvasbtn d-flex align-items-center",children:(0,x.jsx)("span",{className:"",children:"Action"})}),(0,x.jsx)("button",{type:"button",className:"btn btn-danger canvasbtn-toggle dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)("span",{className:"toggle-hidden",children:(0,x.jsx)(j.p$,{strokeColor:"#FFFFFF"})})}),(0,x.jsxs)("ul",{className:"dropdown-menu py-2 px-3",children:[a.statusId!==m&&a.statusId!==u&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>{let e=a.statusId===r?o:r;n(a.id,e)},children:[(0,x.jsx)(j.cv,{}),(0,x.jsx)("span",{className:"dropdown-title text-nowrap ",children:a.statusId===r?"Mark as Inactive":"Mark as Active"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>c(!0),children:[(0,x.jsx)(j.Hm,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Edit Details"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",onClick:()=>p(!0),children:[(0,x.jsx)(j.H_,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Delete User"})]})})]})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{className:"heading-title mb-0",children:"User Management"}),"?tab=users"===g&&(0,x.jsxs)("button",{className:"btn btn-primary d-flex align-items-center",onClick:()=>c(!0),children:[(0,x.jsx)("span",{className:"mb-1 me-2",children:(0,x.jsx)(j.c1,{})}),(0,x.jsx)("span",{className:"fs-14",children:"Add New"})]})]})}),(0,x.jsx)(es,{show:d,setShow:c,userProfile:null!==a&&void 0!==a&&a.id?a:{},getUserData:i,getUsersList:s}),(0,x.jsx)(ss,{show:v,setShow:p,onConfirm:()=>{n(a.id,h,!0)}})]})},ts=()=>{const[e]=(0,n.ok)(),s=(0,l.Zp)(),a=e.get("tab")||"users",[i,d]=(0,t.useState)(a);(0,t.useEffect)((()=>{s("?tab=".concat(i),{replace:!0})}),[i,s]);const[m,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)([]);(0,t.useEffect)((()=>{j()}),[]);const j=async()=>{try{u(!0);const e=await c.getUsersDetailsList(),{title:s,data:a,detail:t}=e;t===o.A.success&&v(a)}catch(e){r.oR.error(e.message)}finally{u(!1)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)(as,{getUsersList:j})}),(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mb-4 mx-4",children:[{id:"users",title:"Users"},{id:"access",title:"Access"}].map(((e,s)=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsx)("span",{className:"nav-link ".concat(i===e.id?"active":""),onClick:()=>d(e.id),role:"button",children:(0,x.jsx)("span",{className:"ms-1",children:e.title})})},s)))}),(0,x.jsx)("div",{className:"user-management",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4",children:(0,x.jsxs)("div",{className:"tab-content bg-custom-white h-100",children:["users"===i&&(0,x.jsx)(Ke,{usersList:h,loading:m}),"access"===i&&(0,x.jsx)(Ze,{})]})})})]})},ls=()=>{const[e,s]=(0,t.useState)(1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)("h4",{className:"heading-title",children:"Help & Supports"})}),(0,x.jsx)("div",{className:"help-support",children:(0,x.jsxs)("div",{className:"flex-grow-1 mx-4 bg-custom-white",children:[(0,x.jsx)("h5",{className:"main-headings mb-4",children:"Hello, how can we help?"}),(0,x.jsx)("div",{className:"row help-support-navbar",children:(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 px-3 pt-3 border-0 ",children:[{id:1,title:"Getting Started"},{id:2,title:"Account Details"},{id:3,title:"Inquiries & Bookings"}].map(((a,t)=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)("span",{className:"nav-link ".concat(e===a.id?"active":""),onClick:()=>s(a.id),role:"button",children:[e===a.id?a.activeIcon:a.inActiveIcon,(0,x.jsx)("span",{className:"ms-1",children:a.title})]})},t)))})}),(0,x.jsxs)("div",{className:"row mt-5",children:[(0,x.jsx)("div",{className:"col-md-9 pe-4",children:(0,x.jsxs)("div",{className:"setting-accordion",children:[1===e&&(0,x.jsx)(ns,{}),2===e&&(0,x.jsx)(is,{}),3===e&&(0,x.jsx)(ds,{})]})}),(0,x.jsxs)("div",{className:"col-md-3",children:[(0,x.jsx)("h5",{className:"main-headings mb-1",children:"Contact Us"}),(0,x.jsx)("p",{className:"desc-titles",children:" For all communications"}),(0,x.jsxs)("p",{className:"contact-details mt-4 mb-3",children:[" ","Email ID: customercare@boozno.com"]}),(0,x.jsx)("p",{className:"contact-details",children:" Call Us: +91 99222 45799"})]})]})]})})]})},ns=()=>(0,x.jsxs)("div",{className:"accordion",id:"accordionExample",children:[(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,x.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"What is Boozno?"})}),(0,x.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Boozno is a venue management platform designed to streamline operations in the hospitality and events industry. It helps manage bookings, inquiries, event coordination, and customer relationships for various venues, including hotels, restaurants, villas, and resorts."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwo",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Who can use Boozno?"})}),(0,x.jsx)("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Boozno is designed for venue administrators, managers, customer relationship executives, and sales staff who are involved in the operation and management of venues."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingThree",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"How do I register my venue in Boozno, and what is the process?"})}),(0,x.jsx)("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:(0,x.jsxs)("div",{className:"accordion-body",children:["To register as a Venue Admin on Boozno:",(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"Go to the Registration page."}),(0,x.jsx)("li",{children:"Enter your personal details including First Name, Last Name, Mobile Number, and Email."}),(0,x.jsx)("li",{children:"Agree to the Terms & Conditions by checking the box."}),(0,x.jsx)("li",{children:"Click Next to proceed to the company details section, where you\u2019ll need to input your GST number and company/entity details."}),(0,x.jsx)("li",{children:"Complete the OTP verification sent to your email and mobile number."}),(0,x.jsx)("li",{children:"After successful verification, your registration will be submitted, and you\u2019ll receive a confirmation message stating that your account is pending activation."})]})]})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFour",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour",children:"Can I edit my company details after registration?"})}),(0,x.jsx)("div",{id:"collapseFour",className:"accordion-collapse collapse","aria-labelledby":"headingFour","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"No, once you submit your company details during registration, you cannot directly edit them. If you need to update your company name, GST number, or other details, you will need to contact the Boozno Admin team to make those changes for you."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFive",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive",children:"How do I reset my password if I've forgotten it?"})}),(0,x.jsx)("div",{id:"collapseFive",className:"accordion-collapse collapse","aria-labelledby":"headingFive","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Currently, the Boozno Venue Management System does not use password-based login. Instead, users log in with OTPs sent to their registered email or mobile number. If you cannot access your email or mobile number, you will need to contact Boozno support for further assistance."})})]})]}),is=()=>(0,x.jsxs)("div",{className:"accordion",id:"accordionExample",children:[(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,x.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"How do I create a venue and start using the Boozno platform?"})}),(0,x.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"After registering on the Boozno website and verifying your account, log in using your credentials. Navigate to the Settings - Account Details section, where you can add your venue details, including the name, type, location, operational hours, food and beverage packages, item menu, rental costs, and amenities. If needed, create any required documents and add tax percentages for your items. Once everything is set up, you can start creating inquiries and bookings, as well as managing inquiries through the Boozno platform. For any questions, feel free to reach out to Boozno support for assistance."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwo",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Can I add multiple venues under my account?"})}),(0,x.jsx)("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Yes, you can add multiple venues under the same account. The Venue Details section allows you to add and manage multiple venues. Each venue must have a unique name and address, and the number of venues you can manage is determined by your subscription plan."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingThree",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"How do I create and manage guest in the Boozno system?"})}),(0,x.jsx)("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'To add a new guest, navigate to "Guest Management" and click on "Add New Guest." Fill out the guest\u2019s name, contact details, and any additional information to save their profile. You can view a guest\u2019s past bookings and inquiries by selecting their profile under "Guest Profile," which provides a detailed history of all related interactions. If you need to modify or update guest information, simply select the guest\u2019s profile under "Guest Management" and edit the details as needed.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFour",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour",children:"How do I create a user in Boozno?"})}),(0,x.jsx)("div",{id:"collapseFour",className:"accordion-collapse collapse","aria-labelledby":"headingFour","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'To create a user in Boozno, navigate to the User Management section and click on "Add User." Fill in the necessary details such as name, email, and select the appropriate predefined role (e.g., "Executive"). A verification link will be sent to the user\'s email, which they need to verify. Once verified, they can start using the system.'})})]})]}),ds=()=>(0,x.jsxs)("div",{className:"accordion",id:"accordionExample",children:[(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingOne",children:(0,x.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"How can i create a inquiry"})}),(0,x.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:(0,x.jsxs)("div",{className:"accordion-body",children:["To begin, complete the Guest Form. After submitting it, you\u2019ll automatically be redirected to the Inquiry form page.",(0,x.jsxs)("ul",{children:[(0,x.jsxs)("li",{children:["Enter Inquiry Details: The Inquiry form has three main sections:",(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"Inquiry Info"}),(0,x.jsx)("li",{children:"Venue Selection"}),(0,x.jsx)("li",{children:"Review Inquiry"})]})]}),(0,x.jsxs)("li",{children:["Select Inquiry Type: Choose the type of inquiry:",(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"Personal"}),(0,x.jsx)("li",{children:"Corporate"})]})]}),(0,x.jsxs)("li",{children:["Choose Booking Type: Select your booking duration:",(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"Regular - single"}),(0,x.jsx)("li",{children:"Multi-slot"})]})]}),(0,x.jsx)("li",{children:"Specify Purpose: Use the Purpose dropdown to specify your inquiry's purpose. Purpose options vary depending on whether you selected Personal or Corporate, and choosing one will update related fields automatically."}),(0,x.jsx)("li",{children:'Complete Required Fields: Fill in all fields marked with an asterisk (*). The "Next" button will become active only after all required fields are filled.'}),(0,x.jsx)("li",{children:'Add Additional Time Slots (Optional): If you need multiple slots, click "Add New Slot" to add date and time options.'}),(0,x.jsx)("li",{children:"Venue Selection: Next, in the Venue Selection section, you will select the venue as per their availability. And click next."}),(0,x.jsx)("li",{children:"Review: After completing the venue details, proceed to the Review Inquiry section, where you can review all the information you've entered. Here, ensure that all details are accurate before submission."}),(0,x.jsx)("li",{children:"Submit the Inquiry: After completing and reviewing all sections, submit the inquiry."})]})]})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwo",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"Can users discard the inquiry?"})}),(0,x.jsx)("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:(0,x.jsxs)("div",{className:"accordion-body",children:["Yes, users can discard the inquiry at any time. Here are some details:",(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"The Discard button is available throughout."}),(0,x.jsx)("li",{children:"Discarding in an empty (zero) state leaves no record."}),(0,x.jsx)("li",{children:"Discarding after entering details will create a record with the information entered."})]})]})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingThree",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"What happens if I skip selecting food and beverage preferences?"})}),(0,x.jsx)("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"If you initially skip the food and beverage preferences but wish to add packages later, you must edit the inquiry on the inquiry page to include these preferences. You will not be able to add packages unless you update this information."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFour",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour",children:"What if I enter a duplicate inquiry?"})}),(0,x.jsx)("div",{id:"collapseFour",className:"accordion-collapse collapse","aria-labelledby":"headingFour","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Duplicate entries will be highlighted in red for easy identification. If the system detects a duplicate inquiry based on the same purpose and name or the same booking date and time, a duplicate inquiry warning popup will appear. This popup will provide options to either update the primary inquiry, create a new inquiry, or create a duplicate inquiry with a reason."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFive",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive",children:"Can I go back and edit my inquiry after reviewing it?"})}),(0,x.jsx)("div",{id:"collapseFive",className:"accordion-collapse collapse","aria-labelledby":"headingFive","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Yes, you can navigate back to previous steps using the tabs to make any necessary edits to your inquiry before final submission."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingSix",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseSix","aria-expanded":"false","aria-controls":"collapseSix",children:"How can I add a note?"})}),(0,x.jsx)("div",{id:"collapseSix",className:"accordion-collapse collapse","aria-labelledby":"headingSix","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'To add a note, click the "Add Notes" button in the Notes tab. This will open the note creation screen where you can fill in the required fields: Tag: Select a predefined option from the dropdown. Title: Enter a summary of the note. Description: Elaborate on the details. The "Save" button will remain inactive until all required fields are filled.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingSeven",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseSeven","aria-expanded":"false","aria-controls":"collapseSeven",children:"Can I modify a note after saving?"})}),(0,x.jsx)("div",{id:"collapseSeven",className:"accordion-collapse collapse","aria-labelledby":"headingSeven","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'Yes, you can click the "Modify" button on a note card to edit its description. Note that the Tag and Title cannot be edited.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingEight",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseEight","aria-expanded":"false","aria-controls":"collapseEight",children:"How do I add a reminder?"})}),(0,x.jsx)("div",{id:"collapseEight",className:"accordion-collapse collapse","aria-labelledby":"headingEight","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'In the Reminders tab, click the "Add Reminder" button to open the form. Fill in the following fields: Title (required) Description (optional) Select Date (required) Select Time (required) Remind Me Before (required) You can then either "Discard" or "Save" your reminder.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingNine",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseNine","aria-expanded":"false","aria-controls":"collapseNine",children:"What happens if I discard a note or reminder?"})}),(0,x.jsx)("div",{id:"collapseNine",className:"accordion-collapse collapse","aria-labelledby":"headingNine","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"If you discard a note or reminder without saving, any changes made will be lost. However, if you have saved it, it will remain in the respective list until manually deleted."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTen","aria-expanded":"false","aria-controls":"collapseTen",children:'What is "Pre Buffer Time"?'})}),(0,x.jsx)("div",{id:"collapseTen",className:"accordion-collapse collapse","aria-labelledby":"headingTen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Pre Buffer Time is the additional time allocated before the start of a booking. This extra time allows venue staff to prepare, set up, or handle any pre-event requirements. Setting a Pre Buffer Time ensures the venue is ready and available for your booking start time."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingEleven",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseEleven","aria-expanded":"false","aria-controls":"collapseEleven",children:'What is "Post Buffer Time"?'})}),(0,x.jsx)("div",{id:"collapseEleven",className:"accordion-collapse collapse","aria-labelledby":"headingEleven","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Post Buffer Time refers to the additional time reserved after the end of a booking. This period provides time for clean-up, wrap-up, or other post-event tasks. Including Post Buffer Time helps ensure the venue can reset and prepare for the next event or activity without overlapping bookings."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwelve",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwelve","aria-expanded":"false","aria-controls":"collapseTwelve",children:"How does the buffer time impact check-in and check-out times?"})}),(0,x.jsx)("div",{id:"collapseTwelve",className:"accordion-collapse collapse","aria-labelledby":"headingTwelve","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"The selected Pre and Post Buffer Times are automatically added to the booking\u2019s start and end times, adjusting the check-in and check-out times accordingly."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingThirteen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThirteen","aria-expanded":"false","aria-controls":"collapseThirteen",children:"Can I exclude Pre and Post Buffer Time from a booking?"})}),(0,x.jsx)("div",{id:"collapseThirteen",className:"accordion-collapse collapse","aria-labelledby":"headingThirteen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'Yes, you can select the checkbox that indicates "This booking does not include Pre & Post buffer time." When checked, Pre and Post Buffer Time fields become inactive, and no additional time is added to the booking.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFourteen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFourteen","aria-expanded":"false","aria-controls":"collapseFourteen",children:"How do I add a reminder?"})}),(0,x.jsx)("div",{id:"collapseFourteen",className:"accordion-collapse collapse","aria-labelledby":"headingFourteen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'In the Reminders tab, click the "Add Reminder" button to open the form. Fill in the following fields: Title (required) Description (optional) Select Date (required) Select Time (required) Remind Me Before (required) You can then either "Discard" or "Save" your reminder.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingFifteen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFifteen","aria-expanded":"false","aria-controls":"collapseFifteen",children:"What happens if there\u2019s a conflict with buffer time?"})}),(0,x.jsx)("div",{id:"collapseFifteen",className:"accordion-collapse collapse","aria-labelledby":"headingFifteen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"If adding Pre or Post Buffer Time conflicts with existing bookings (including their buffer times), venue non-operational hours, or any overlapping slots within the same inquiry, the system will display an error message."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingSixteen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseSixteen","aria-expanded":"false","aria-controls":"collapseSixteen",children:"How do I add a Food & Beverage package to an inquiry?"})}),(0,x.jsx)("div",{id:"collapseSixteen",className:"accordion-collapse collapse","aria-labelledby":"headingSixteen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'On the Inquiry Details screen, click on "Package Info," then select "+ Add Package." This will open the package selection screen, where you can choose a Food, Beverage, or Food & Beverage package. Depending on the preferences chosen during inquiry creation, the following options may be displayed: Food + Beverage, Food, and Beverage.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingSeventeen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseSeventeen","aria-expanded":"false","aria-controls":"collapseSeventeen",children:"How can I edit or remove extra charges or discounts?"})}),(0,x.jsx)("div",{id:"collapseSeventeen",className:"accordion-collapse collapse","aria-labelledby":"headingSeventeen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Use the three dots on the billing summary for extra charges or discounts to edit or remove them. For discounts, this option allows only removal."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingEighteen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseEighteen","aria-expanded":"false","aria-controls":"collapseEighteen",children:"How do I modify details for extra charges or discounts?"})}),(0,x.jsx)("div",{id:"collapseEighteen",className:"accordion-collapse collapse","aria-labelledby":"headingEighteen","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'Open the Detail View Modal for extra charges or discounts, then click the "Modify" button to make fields editable. You can update the necessary information here.'})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingNineteen",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseNineteen","aria-expanded":"false","aria-controls":"collapseNineteen",children:"How can I create a Quotation?"})}),(0,x.jsx)("div",{id:"collapseNineteen",className:"accordion-collapse collapse","aria-labelledby":"headingNineteen","data-bs-parent":"#accordionExample",children:(0,x.jsxs)("div",{className:"accordion-body",children:["You can create a quotation for Booking types (F&B Individual, F&B Corporate, and Venue Rental) in two ways:",(0,x.jsxs)("ul",{children:[(0,x.jsxs)("li",{children:[" ",'Option 1: Click the "Create Quotation" button from the inquiry\'s "Actions" menu.']}),(0,x.jsx)("li",{children:'Option 2: Go to the "Quotation" tab and select "Create Quotation."'})]})]})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwenty",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwenty","aria-expanded":"false","aria-controls":"collapseTwenty",children:"Can I customize what is included in the Quotation?"})}),(0,x.jsx)("div",{id:"collapseTwenty",className:"accordion-collapse collapse","aria-labelledby":"headingTwenty","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:"Yes, you can select information to include via a multi-select checkbox, such as F&B, Venue Rental, and Extra Charges, based on the inquiry type."})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwentyOne",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwentyOne","aria-expanded":"false","aria-controls":"collapseTwentyOne",children:"How do I finalize and share a Quotation?"})}),(0,x.jsx)("div",{id:"collapseTwentyOne",className:"accordion-collapse collapse","aria-labelledby":"headingTwentyOne","data-bs-parent":"#accordionExample",children:(0,x.jsxs)("div",{className:"accordion-body",children:['In the "Share" tab, you can:',(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"Share via Email: Enter the recipient's email (auto-populated from guest profile) and add up to 5 additional recipients."}),(0,x.jsx)("li",{children:'Click "Send Quotation" to send it, with a success confirmation.'}),(0,x.jsx)("li",{children:'Download PDF: Click "Download" to save a PDF version.'}),(0,x.jsx)("li",{children:"More Actions: Allows for discarding or deleting drafts only."})]})]})})]}),(0,x.jsxs)("div",{className:"accordion-item",children:[(0,x.jsx)("h2",{className:"accordion-header",id:"headingTwentyTwo",children:(0,x.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwentyTwo","aria-expanded":"false","aria-controls":"collapseTwentyTwo",children:"What is a Booking Request (BR)?"})}),(0,x.jsx)("div",{id:"collapseTwentyTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwentyTwo","data-bs-parent":"#accordionExample",children:(0,x.jsx)("div",{className:"accordion-body",children:'A Booking Request (BR) is a formal request submitted by the lead owner, admin, or manager to approve a booking for an inquiry. It includes all relevant booking information and a billing summary. To initiate a Booking Request: Open the inquiry. Click the "Proceed to Booking" button.'})})]})]}),cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALpSURBVHgBzZm/btpQFMaPq/whaqRAh5ItpkuzVKB2SKYCUqWs7ZQtSZ+geQOSJ0j6BPmzZcweCehSZQLUiSWA1AG64EiNRJrh9nwXX2QSB3xtY/hJJzb2vfjLd6/PPTYG+UQIkeNNhiNrb+N2AIujaUeNo2QYRokmDYuKcxQ4ukKfBscJh0lhYws7EuFxEppQ/qJvwp9j42hw7FEQRLiuPccR6SL6Q1oU0VHBNXUEVkT0FN20vHARB8szFD05MW64ucGemD77Tk2GQ5zJG9hs0nRBkk9xYsd2aIgLNH1xADdLQX2QDtruNWi2SMBF5WCBJkCv90CWdUc+kXNROQj3TI3O8uKdTnfo2Nra68F+u92l8/Mr2Q7Ht7c/Uiy2QBpY7GDCEP2qpKjTs1z+JeMxu7ufpBglbmVlmdLplGy7upqQ5zXJz/GfnE6PWu1GXnBjY53j7dC5ePzlkDgIisXmWdwreazdtnjf+4LBZCAwrdOjWr2RLm1tvX9yzk0caLU6cqs+a5DDTWLq9Li9vWOnlsmrODUdstl30mFN0toC3fAiDuGDOARqTYoIxQ0EBuL6uk7IVqPEXVz84Hn4h/wAgRYFBMJGOVev/+aE/Zd8YM3ZAgMNM5Lx2dkV3d8/yCEPOKxOmhBYpQA3ChKxcmdxcZ7Tz4cn+TEALQgsc3wmn5hmUsaEqGIOVnV6JJMJmXh7vX+e2mPlAW650wMlVSxg1fc0DzHHMN+WlhZ4eN+MbIt/AgKxDu/saK/DTS4WUkrgAWmUXCihLi9/jk0dmJObm+ty3faxzJ2ywK9KINzr0myBsr8pE7Vd/3+n2QHuNbHjfGiCiyhcA+XEEGhy5JXAwVJnu3hI0+dQiXOFnTwW0+OYvCCifS+jqLhpea6a+UKaCTwgJY486SKiGW5vwzpCJN7XNET44KXoPoUBf5HJcSrCAyMTfjpzCG0IfeDYga4wg3wi+g/8CDy2mnY4f4ZA4EZDOVf1+zPEf+4+LrmI+qn8AAAAAElFTkSuQmCC",rs=a.p+"static/media/disposed-img.a721b2db8a1d910ab50a.png",os=e=>{let{show:s,setShow:a,setDeleteUserShow:t}=e;const l=()=>{a(!1)};return(0,x.jsxs)(E.A,{show:s,onHide:l,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:rs,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Active Inquiries & Bookings Found!"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Please re-assign the lead owner for the active inquiries and bookings before deleting the user"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",onClick:l,children:"Okay"})})]})},ms=a.p+"static/media/male_image.3a3255ad486dd50a95d5.png",us=a.p+"static/media/female_image.cca33bef842a4e477ed7.png",hs=()=>{const[e,s]=(0,t.useState)(null),[a,n]=(0,t.useState)({id:"",userSince:"-",userStatus:"-",firstName:"-",middleName:"-",lastName:"-",genderId:"-",genderName:"-",mobileNumber:"-",emailId:"-",userRoleId:"-",profileImage:null}),[i,d]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)(!1),[j,p]=(0,t.useState)(!1),N=(0,l.g)(),{UserVerificationPending:b}=Q.O.userAccountStatus.value;(0,t.useEffect)((()=>{f(N.userId)}),[]);const f=async e=>{try{d(!0);const s=await c.getUsersDetails(e),{title:a,data:t,detail:l}=s;l===o.A.success&&n(t)}catch(s){r.oR.error(s.message)}finally{d(!1)}},y=S()((null===a||void 0===a?void 0:a.updatedOn)||(null===a||void 0===a?void 0:a.createdOn)),A=S()().diff(y,"hour");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)(as,{userProfile:a,updateUserStatus:async(e,s,a)=>{try{d(!0);const a=await c.updateUserStatus(e,s),{title:t,detail:l}=a;t===o.A.success?f(N.userId):t===o.A.failure&&l.includes("Active inquiries or booking found")&&p(!0)}catch(t){r.oR.error(t.message)}finally{d(!1)}},getUserData:f})}),(0,x.jsx)("div",{className:"px-4 profile-container",children:i?(0,x.jsx)(g.A,{}):(0,x.jsxs)("div",{className:"row h-100",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"bg-custom-white h-100",children:[(0,x.jsx)("div",{className:"profile-uploader",children:(0,x.jsxs)("label",{htmlFor:"imageUpload",children:[(0,x.jsx)("div",{className:"image-container position-relative ",children:m?(0,x.jsx)(g.A,{}):(0,x.jsx)(x.Fragment,{children:a.profileImage?(0,x.jsx)("img",{src:a.profileImage,className:"profile-image position-absolute",alt:"profiledesign"}):(0,x.jsx)("img",{src:1===a.genderId?ms:2===a.genderId?us:null,className:"profile-image position-absolute",alt:"profiledesign"})})}),(0,x.jsx)("div",{className:"profile-upload",children:(0,x.jsx)("img",{src:cs,alt:"uploaddesign",className:"upload-img"})})]})}),(0,x.jsx)("input",{type:"file",id:"imageUpload",accept:"image/*",style:{display:"none"},onChange:async e=>{const s=e.target.files[0];if(s&&"image/jpeg"===s.type||"image/png"===s.type||"image/jpg"===s.type){if(s.size>2097152)return void alert("File size exceeds the maximum limit (2MB)");try{u(!0);const t=new FormData;t.append("File",s);const l=await c.updateUserProfileImage(a.id,t),{title:i,detail:d}=l;i===o.A.success&&(n({...a,profileImage:"".concat(d,"?timestamp=").concat(S()().valueOf())}),e.target.value="")}catch(t){console.error(t.message)}finally{u(!1)}}else alert("Please upload a valid image file.")}}),(0,x.jsxs)("div",{className:"d-flex gap-1 flex-column ",children:[(0,x.jsx)("h4",{className:"title user-heading text-center mt-3",children:a.firstName+" "+a.lastName}),(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("p",{className:"design-desc text-center fw-bold mb-2",children:a.userRoleName})}),a.userRoleId===Q.O.userRolesEnum.value.Administrator&&(0,x.jsx)("div",{className:"d-flex justify-content-center ",children:(0,x.jsx)("p",{className:"account-primary-badge",children:"Primary"})})]})]})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"bg-custom-white h-100",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center mb-4 gap-1",children:[(0,x.jsx)("div",{children:(0,x.jsx)("h4",{className:"title profile-heading mb-0",children:"Personal Info"})}),(0,x.jsx)("div",{className:"header-seperator"})]}),(0,x.jsxs)("div",{className:"row custom-inputs",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"User ID"}),(0,x.jsx)("div",{className:"profile-value",children:a.id})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"User Since"}),(0,x.jsx)("div",{className:"profile-value",children:a.userSince})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Status"}),(0,x.jsxs)("div",{className:"profile-value d-flex ",children:[A>24&&a.statusId===b?"Link Expired.":We(a.statusName),(0,x.jsx)(x.Fragment,{children:A>24&&a.statusId===b?(0,x.jsx)("div",{className:"verification-link text-nowrap",onClick:h?null:async()=>{try{v(!0);const e=await c.resendMemberVerifyLink(a),{title:s,data:t,detail:l}=e;s===o.A.failure?r.oR.error(l,{position:"top-center"}):(r.oR.success("Verification link has been resent.",{position:"top-center"}),f())}catch(e){r.oR.error(e.message)}finally{v(!1)}},children:h?"Sending...":"Resend Verification Link"}):null})]})]})})]}),(0,x.jsx)("div",{className:"heading-border mt-2"}),(0,x.jsxs)("div",{className:"row custom-inputs mt-4",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"First Name "}),(0,x.jsx)("div",{className:"profile-value",children:a.firstName})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Middle Name"}),(0,x.jsx)("div",{className:"profile-value",children:a.middleName||"-"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Last Name"}),(0,x.jsx)("div",{className:"profile-value",children:a.lastName})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Gender"}),(0,x.jsx)("div",{className:"profile-value",children:a.genderName})]})})]}),(0,x.jsxs)("div",{className:"row custom-inputs mt-4",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Mobile Number"}),(0,x.jsx)("div",{className:"profile-value",children:a.mobileCountryCode+" "+a.mobileNumber})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Email Address"}),(0,x.jsx)("div",{className:"profile-value text-truncate",title:a.emailAddress,children:a.emailAddress})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Access"}),(0,x.jsxs)("div",{className:"profile-value d-flex flex-row gap-2",children:[(0,x.jsx)("div",{children:a.userRoleName}),a.userRoleId===Q.O.userRolesEnum.value.Administrator&&(0,x.jsx)("p",{className:"account-primary-badge",children:"Primary"})]})]})})]})]})})]})}),(0,x.jsx)(os,{show:j,setShow:p})]})},xs=a.p+"static/media/sub-img-1.c8c6b9ff086a78de80bb.png",vs=a.p+"static/media/sub-img-2.5372afa79c8f18259cc6.png",js=a.p+"static/media/sub-img-3.dbd38000572ff56479fd.png",ps=e=>{let{details:s,setViewDetails:a}=e;const[l,n]=(0,t.useState)([]);(0,t.useEffect)((()=>{s&&n([...s])}),[]);const i=(e,s)=>(0,x.jsx)("div",{className:"".concat(e.statusId===Q.O.subscriptionPlanEnum.value.InActive?"inactive-plan":""),children:e[s]});return(0,x.jsxs)("div",{className:"custom-data-table sub-plan-table bg-custom-white subscription-table",children:[(0,x.jsx)("h6",{className:"mb-4 mt-3",children:"Subscription Plan & History"}),(0,x.jsx)(Se._,{dataSource:l,pageSettings:{pageSize:10},editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0},rowSelected:e=>{a(e.data)},enableHover:!0,children:(0,x.jsxs)(De.r,{children:[(0,x.jsx)(De.e,{field:"subscriptionPackageName",headerText:"SUBSCRIPTION PLAN",textAlign:"left",width:"200",clipMode:"EllipsisWithTooltip",template:e=>i(e,"subscriptionPackageName")}),(0,x.jsx)(De.e,{field:"subscriptionTypeName",headerText:"SUBSCRIPTION TYPE",textAlign:"left",width:"200",clipMode:"EllipsisWithTooltip",template:e=>i(e,"subscriptionTypeName")}),(0,x.jsx)(De.e,{field:"userCount",headerText:"USERS",textAlign:"left",width:"100",clipMode:"EllipsisWithTooltip",template:e=>i(e,"userCount")}),(0,x.jsx)(De.e,{field:"venueCount",headerText:"VENUES",textAlign:"left",width:"100",clipMode:"EllipsisWithTooltip",template:e=>i(e,"venueCount")}),(0,x.jsx)(De.e,{field:"startDate",headerText:"START DATE",textAlign:"left",width:"150",clipMode:"EllipsisWithTooltip",template:e=>{let{statusId:s,startDate:a}=e;return(0,x.jsx)("div",{className:"".concat(s===Q.O.subscriptionPlanEnum.value.InActive?"inactive-plan":""),children:(0,B.Yq)(a,"DD-MMM-YY","")})}}),(0,x.jsx)(De.e,{field:"expiryDate",headerText:"EXPIRY DATE",textAlign:"left",width:"150",clipMode:"EllipsisWithTooltip",template:e=>{let{statusId:s,expiryDate:a}=e;return(0,x.jsx)("div",{className:"".concat(s===Q.O.subscriptionPlanEnum.value.InActive?"inactive-plan":""),children:(0,B.Yq)(a,"DD-MMM-YY","")})}}),(0,x.jsx)(De.e,{field:"duration",headerText:"DURATION",textAlign:"left",width:"150",clipMode:"EllipsisWithTooltip",template:e=>i(e,"duration")}),(0,x.jsx)(De.e,{field:"pricePerUser",headerText:"PRICE/USER",textAlign:"left",width:"150",clipMode:"EllipsisWithTooltip",template:e=>i(e,"pricePerUser")}),(0,x.jsx)(De.e,{field:"totalAmount",headerText:"TOTAL AMOUNT",textAlign:"left",width:"150",clipMode:"EllipsisWithTooltip",template:e=>i(e,"totalAmount")})," ",(0,x.jsx)(De.e,{field:"modeofPaymentTypeName",headerText:"MODE OF PAYMENT",textAlign:"left",width:"200",clipMode:"EllipsisWithTooltip",template:e=>i(e,"modeofPaymentTypeName")})," ",(0,x.jsx)(De.e,{field:"statusName",headerText:"STATUS",textAlign:"left",template:e=>{let{statusId:s}=e;switch(s){case 1:return(0,x.jsx)("div",{className:"sub-active-badge",children:"Active"});case 2:return(0,x.jsx)("div",{className:"sub-inactive-badge",children:"In-Active"})}},width:"100",clipMode:"EllipsisWithTooltip"})]})})]})},gs=()=>{const[e,s]=(0,t.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)("h4",{class:"heading-title",children:"Settings - Account Details"})}),(0,x.jsx)("div",{className:"subscriptions",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4",children:e?(0,x.jsx)(Ge,{drill:e,setDrill:s}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"tab-wrapper",children:(0,x.jsxs)("div",{className:"row mb-4",children:[(0,x.jsx)("div",{className:"col-md-4 img-wrapper",children:(0,x.jsx)("img",{src:xs,alt:""})}),(0,x.jsx)("div",{className:"col-md-4 img-wrapper",children:(0,x.jsx)("img",{src:vs,alt:""})}),(0,x.jsx)("div",{className:"col-md-4 img-wrapper",children:(0,x.jsx)("img",{src:js,alt:""})})]})}),(0,x.jsx)(ps,{drill:e,setDrill:s})]})})})]})};var Ns=a(5947),bs=a(5629),fs=a(2400),ys=a(8665),As=a(7979),Is=a(6394),Cs=a(1096);const ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD6SURBVHgBlZJBagIxFIa/pFpKu/EEZeiqG8HSC+gJytBlKZ2eoFfoEeoJ2o3L0iNUd26UQTfuHERw60ZBR40vjoNRUfGHkMef709CXuBMqbT4+zY5rvjAEMjw1na4gPLzi/rZCgjsccm/lN6BjSOmlPx3FSWBiukegd3Qw8VvxQSSCjit3EIxyWjk3o5u7yD/CPEUOi3odTdrWvMkPAU3cJ+HbBaub5Lgjgp617FwqjjeC6Dlnaqu0azDeJTA7cYeH2aYU5NYMXUG/WQcUFkz48smOa3IlwZqacZQTvCtcQQOhSnZQrmuNNB+izdxizIPV6Ch5r+qz5RZAoFfRcp8xBj0AAAAAElFTkSuQmCC",ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEOSURBVHgBnZGxTsMwEIb/s+O2QhnSDcRAH4Ch2ZhK+iZlQWLqq8DEAoI+Aa9Qtm5lQCwMmA3EAIgKKbHsw00bCG3VSP0ky6fzf/5Pd4Q57+OrqNFwfYATx2gTEBFhaK0bhPvH14WOZuLzVr2ubnzYxmp0mppuMz7RecH3w8WTv1pYjy+SsZzcX/a8dQ/VRFK6NCDB/XJWhntQux3AZjCvI9iv5983QXQoaKFvtX0AEjWQCqF2Ov8sGEjEkrGs/cUuW3qeOgzLCfMyApsJ2IvN23hRfxc45lsiSoqM/XzMzyqcc2ciy4JTH2tUo6cLFM346IPIdCuK9Fwz23RBvhM/5tLkNDMPtnwX5D/GJvwAgc1g9E/rq0UAAAAASUVORK5CYII=",Ss=a.p+"static/media/bar-no-data.32a48c534af6068758d1.png",Ds=e=>{let{splineGraph:s}=e;return(0,x.jsx)("div",{className:"graph-no-data position-absolute ",children:(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{src:s?"data:image/png;base64,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":Ss,alt:"no-data"})}),(0,x.jsxs)("div",{className:"d-flex gap-1 flex-column justify-content-center ",children:[(0,x.jsx)("h1",{className:"content-title",children:"No Data"}),(0,x.jsx)("p",{className:"content-desc",children:"Dummy text here to explain the widget"})]})]})})},Ts={getInquiryList:()=>i.A.get(d.V.getInquiryList),addInquiryInfo:e=>i.A.post(d.V.addInquiryInfo,e),updateInquiryInfo:e=>i.A.post(d.V.updateInquiryInfo,e),discardInquiry:e=>i.A.post(d.V.discardInquiry,e),validateInquiryInfo:e=>i.A.post(d.V.validateInquiryInfo,e),getAvailableNotAvailableVenueList:e=>i.A.post(d.V.getAvailableNotAvailableVenueList,e),getInquiryById:e=>i.A.get(d.V.getInquiryById+"?InquiryInfoId="+e),deleteFoodPackageById:e=>i.A.post(d.V.deleteFoodPackage+"?inquiryFoodPackageId="+e.InquiryFoodPackageId+"&inquiryInfoId="+e.InquiryInfoId),getFoodPackageById:e=>i.A.get(d.V.getFoodPackageById+"?InquiryFoodPackageId="+e),addFoodPackage:e=>i.A.post(d.V.addFoodPackage,e),updateFoodPackage:e=>i.A.post(d.V.updateFoodPackage,e),deleteBeveragePackageById:e=>i.A.post(d.V.deleteBeveragePackage+"?InquiryBeveragePackageId="+e.InquiryBeveragePackageId+"&inquiryInfoId="+e.InquiryInfoId),getBeveragePackageById:e=>i.A.get(d.V.getBeveragePackageById+"?InquiryBeveragePackageId="+e),addBeveragePackage:e=>i.A.post(d.V.addBeveragePackage,e),updateBeveragePackage:e=>i.A.post(d.V.updateBeveragePackage,e),deleteFoodBeveragePackageById:e=>i.A.post(d.V.deleteFoodBeveragePackage+"?InquiryFoodBeverageId="+e.InquiryFoodBeverageId+"&inquiryInfoId="+e.InquiryInfoId),getFoodBeveragePackageById:e=>i.A.get(d.V.getFoodBeveragePackageById+"?InquiryFoodBeverageId="+e),addFoodBeveragePackage:e=>i.A.post(d.V.addFoodBeveragePackage,e),updateFoodBeveragePackage:e=>i.A.post(d.V.updateFoodBeveragePackage,e),updatePaxCount:e=>i.A.post(d.V.updatePaxCount,e),getFBTypeVenueInfo:(e,s,a)=>i.A.get(d.V.getFBTypeVenueInfo+"?InquiryInfoId=".concat(e,"&VenueDetailId=").concat(s,"&SlotId=").concat(a)),updateFBTypeVenueInfo:(e,s)=>{let{infoId:a,detailId:t,slotId:l,guestId:n,venueId:c}=s;return i.A.post(d.V.updateFBTypeVenueInfo+"?InquiryInfoId=".concat(a,"&VenueDetailId=").concat(t,"&SlotId=").concat(l,"&GuestDetailId=").concat(n,"&InquiryVenueInfoId=").concat(c),e)},getFBTypeCheckInOutDate:e=>{const{postBuffer:s,preBuffer:a,bookingEndDate:t,bookingStartDate:l,startTime:n,endTime:c,isBufferRequired:r}=e;return i.A.get(d.V.getFBTypeCheckInOutDate+"?BookingStartDateTime=".concat(l,"&BookingEndDateTime=").concat(t,"&StartTime=").concat(n,"&EndTime=").concat(c,"&PreBufferTime=").concat(a,"&PostBufferTime=").concat(s,"&IsBufferRequired=").concat(r))},getVenueRentalTypeVenueInfo:(e,s,a)=>i.A.get(d.V.getVenueRentalTypeVenueInfo+"?InquiryInfoId=".concat(e,"&VenueDetailId=").concat(s,"&SlotId=").concat(a)),venueRentalTypeDTO:e=>i.A.post(d.V.venueRentalTypeDTO,e),getVenueRentalTypeCheckInOutDate:e=>{const{postBuffer:s,preBuffer:a,bookingEndDate:t,bookingStartDate:l,startTime:n,endTime:c,isBufferRequired:r}=e;return i.A.get(d.V.getVenueRentalTypeCheckInOutDate+"?BookingStartDateTime=".concat(l,"&BookingEndDateTime=").concat(t,"&StartTime=").concat(n,"&EndTime=").concat(c,"&PreBufferTime=").concat(a,"&PostBufferTime=").concat(s,"&IsBufferRequired=").concat(r))},getVenueRentalAutoDetails:e=>{const{detailId:s,slotId:a,infoId:t,preBufferTime:l,postBufferTime:n,isBufferRequired:c,bookingEndDate:r,bookingStartDate:o,startTime:m,endTime:u,otherCost:h}=e;return i.A.get(d.V.getVenueRentalAutoDetails+"?InquiryInfoId=".concat(t,"&VenueDetailId=").concat(s,"&SlotId=").concat(a,"&BookingStartDateTime=").concat(o,"&BookingEndDateTime=").concat(r,"&StartTime=").concat(m,"&EndTime=").concat(u,"&PreBufferTime=").concat(l,"&PostBufferTime=").concat(n,"&IsBufferRequired=").concat(c,"&OtherCost=").concat(h,"&"))},updateVenueRentalTypeVenueInfo:(e,s)=>{const{infoId:a,detailId:t,slotId:l,guestId:n,venueId:c}=s;return i.A.post(d.V.updateVenueRentalTypeVenueInfo+"?InquiryInfoId=".concat(a,"&VenueDetailId=").concat(t,"&SlotId=").concat(l,"&GuestDetailId=").concat(n,"&InquiryVenueInfoId=").concat(c),e)},getBookingsList:()=>i.A.get(d.V.getBookingsList),confirmBooking:e=>i.A.post(d.V.confirmBooking,e),completeBooking:e=>i.A.post(d.V.completeBooking,e),cancelBooking:e=>i.A.post(d.V.cancelBooking,e),getBookingRequestList:()=>i.A.get(d.V.getBookingRequestList),getRequestsDiscountList:()=>i.A.get(d.V.getRequestsDiscountList),rejectDiscountRequest:e=>i.A.post(d.V.rejectDiscountRequest,e),approveDiscountRequest:e=>i.A.post(d.V.approveDiscountRequest,e),getBookingDates:e=>i.A.get(d.V.getBookingDates+"?InquiryInfoId=".concat(e)),sendBookingRequest:e=>i.A.post(d.V.sendBookingRequest,e),cancelBookingRequest:e=>i.A.post(d.V.cancelBookingRequest,e),rejectBookingRequest:e=>i.A.post(d.V.rejectBookingRequest,e),approveBookingRequest:e=>i.A.post(d.V.approveBookingRequest,e),getInquiryReview:e=>i.A.get(d.V.getInquiryReview+"?InquiryInfoId=".concat(e)),cancelInquiry:e=>i.A.post(d.V.cancelInquiry,e),reassignInquiry:(e,s)=>i.A.post(d.V.reassignInquiry+"?InquiryInfoId=".concat(e,"&LeadOwnerId=").concat(s)),getInquiryAmenities:(e,s,a)=>i.A.get(d.V.getInquiryAmenities+"?InquiryInfoId=".concat(e,"&InquirySlotId=").concat(s,"&VenueDetailId=").concat(a)),addInquiryAmenities:e=>i.A.post(d.V.addInquiryAmenities,e),getFoodPackageList:(e,s,a)=>i.A.get(d.V.getFoodPackageList+"?InquiryInfoId=".concat(e,"&InquirySlotId=").concat(s,"&VenueDetailId=").concat(a)),getBeveragePackageList:(e,s,a)=>i.A.get(d.V.getBeveragePackageList+"?InquiryInfoId=".concat(e,"&InquirySlotId=").concat(s,"&VenueDetailId=").concat(a)),getFoodBeveragePackageList:(e,s,a)=>i.A.get(d.V.getFoodAndBeveragePackageList+"?GuestDetailId=".concat(e,"&InquirySlotId=").concat(s,"&VenueDetailId=").concat(a)),getNotesList:(e,s)=>i.A.get(d.V.getNotesList+"?GuestId=".concat(e,"&InquiryInfoId=").concat(s)),addNoteDetails:e=>i.A.post(d.V.addNotesDetails,e),getTagsList:()=>i.A.get(d.V.getTagsList),deleteSpecialNote:(e,s)=>i.A.post(d.V.deleteSpecialNote+"?GuestId=".concat(e,"&NotesId=").concat(s)),getReminderDetailsList:(e,s)=>i.A.get(d.V.getReminderDetailsList+"?GuestId=".concat(e,"&InquiryInfoId=").concat(s)),addReminderDetails:e=>i.A.post(d.V.addReminderDetails,e),deleteReminder:(e,s)=>i.A.post(d.V.deleteReminder+"?GuestId=".concat(e,"&reminderId=").concat(s)),updateReminderStatus:e=>i.A.post(d.V.updateReminderStatus+"?ReminderId=".concat(e)),getVisitsDetailsList:(e,s)=>i.A.get(d.V.getVisitsDetailsList+"?GuestId=".concat(e,"&InquiryInfoId=").concat(s)),addVisitsDetails:e=>i.A.post(d.V.addVisitsDetails,e),deleteVisit:(e,s)=>i.A.post(d.V.deleteVisit+"?GuestId=".concat(e,"&visitId=").concat(s)),updateVisitStatus:e=>i.A.post(d.V.updateVisitsStatus+"?VisitsId=".concat(e)),getGuestInquiries:e=>i.A.get(d.V.getGuestInquiries+"?GuestDetailId=".concat(e)),getGuestBookings:e=>i.A.get(d.V.getGuestBookings+"?GuestDetailId=".concat(e)),getQuotationsList:(e,s)=>i.A.get(d.V.getQuotationsList+"?GuestId=".concat(e,"&InquiryInfoId=").concat(s)),saveDraftStatus:e=>i.A.post(d.V.saveQuotationDraftStatus+"?QuotationId=".concat(e)),addQuotationDetails:e=>i.A.post(d.V.addQuotationDetails,e),getQuotationById:e=>i.A.get(d.V.getQuotationById+"?QuotationId=".concat(e)),deleteQuotation:(e,s)=>i.A.post(d.V.deleteInquiryQuotation+"?InquiryInfoId=".concat(s,"&QuotationId=").concat(e)),getQuotationVenueDetails:e=>i.A.get(d.V.getQuotationVenueDetailsList+"?InquiryInfoId=".concat(e)),getInquiryAmenitiesList:e=>i.A.get(d.V.getInquiryAmenitiesList+"?InquiryInfoId=".concat(e)),saveQuotationPdf:e=>i.A.post(d.V.saveQuotationPdf,e),sendQuotation:e=>i.A.post(d.V.sendQuotation,e),downloadPdf:(e,s)=>i.A.get(d.V.downloadQuotationPdf+"?QuotationId=".concat(e,"&blobUrl=").concat(s),{responseType:"arraybuffer"}),getQuotationFoodPackage:e=>i.A.get(d.V.getQuotationPackages+"?InquiryInfoId=".concat(e)),getQuotationBeveragePackage:e=>i.A.get(d.V.getQuotationBeveragePackages+"?InquiryInfoId=".concat(e)),getQuotationFBPackage:e=>i.A.get(d.V.getQuotationFBPackages+"?InquiryInfoId=".concat(e)),getBillingSummary:e=>i.A.get(d.V.getBillingSummary+"?InquiryInfoId=".concat(e)),addExtraCharges:e=>i.A.post(d.V.addExtraCharge,e),updateExtraCharge:e=>i.A.post(d.V.updateExtraCharge,e),removeExtraCharge:e=>i.A.post(d.V.removeExtraCharge,e),removeDiscountCharge:e=>i.A.post(d.V.removeDiscountCharge,e),cancelDiscountCharge:(e,s)=>i.A.post(d.V.cancelDiscountCharge+"?InquiryInfoId=".concat(s,"&InquiryDiscountRequestId=").concat(e)),removeServicesCharges:e=>i.A.post(d.V.removeServicesCharges,e),addDiscountCharge:e=>i.A.post(d.V.addDiscountCharge,e),updateDiscountCharge:e=>i.A.post(d.V.updateDiscountCharge,e),getDiscountPendingStatus:e=>i.A.post(d.V.getDiscountPendingStatus+"?InquiryInfoId=".concat(e)),saveFinalAmountCost:e=>i.A.post(d.V.saveFinalAmountCost,e),getDiscountDetailsById:e=>i.A.get(d.V.getDiscountRequestDetailById+"?InquiryDiscountRequestId=".concat(e)),cancelDiscountRequest:e=>i.A.post(d.V.cancelDiscountRequest,e),getDiscountBookingHistoryList:e=>i.A.get(d.V.getDiscountBookingHistoryList+"?InquiryInfoId=".concat(e)),getPaymentList:e=>i.A.get(d.V.getPaymentList+"?InquiryInfoId=".concat(e)),addPayment:e=>i.A.post(d.V.addPayment,e),updatedPayment:e=>i.A.post(d.V.updatedPayment,e),paymentById:(e,s)=>i.A.get(d.V.paymentById+"?InquiryInfoId=".concat(e)+"&paymentFlowDetailId=".concat(s)),deletePayment:(e,s)=>i.A.post(d.V.deletePayment+"?PaymentFlowDetailsId=".concat(s,"+&InquiryInfoId=").concat(e)),getModeOfPaymentData:()=>i.A.get(d.V.getModeOfPaymentList),getDashboardCardDetails:()=>i.A.get(d.V.getDashboardCardDetails),getUpcomingBookingDetails:()=>i.A.get(d.V.getUpcomingBookings),getBookingDistributionDetails:e=>i.A.get(d.V.getBookingDistribution+"?Year=".concat(e)),getRevenueDetails:(e,s)=>i.A.get(d.V.getRevenueDetails+"?StartDate=".concat(e,"&EndDate=").concat(s)),getSourceDistributionDetails:(e,s)=>i.A.get(d.V.getSourceDistribution+"?StartDate=".concat(e,"&EndDate=").concat(s)),getUserPerformanceDetails:(e,s)=>i.A.get(d.V.getUserPerformance+"?StartDate=".concat(e,"&EndDate=").concat(s)),getOccupancyDetails:(e,s)=>i.A.get(d.V.getOccupancyDetails+"?VenueId=".concat(e,"&Year=").concat(s)),getInquiryDetailAlerts:(e,s,a,t,l)=>i.A.get(d.V.getInquiryDetailsAlerts+"?inquiryInfoId=".concat(l,"&SlotStartDate=").concat(e,"&SlotStartTime=").concat(t,"&SlotEndDate=").concat(s,"&SlotEndTime=").concat(a))},Os=e=>{let{activeVenueList:s}=e;const a=[{month:"Jan",personal:0,corporate:0},{month:"Feb",personal:0,corporate:0},{month:"Mar",personal:0,corporate:0},{month:"Apr",personal:0,corporate:0},{month:"May",personal:0,corporate:0},{month:"Jun",personal:0,corporate:0},{month:"Jul",personal:0,corporate:0},{month:"Aug",personal:0,corporate:0},{month:"Sep",personal:0,corporate:0},{month:"Oct",personal:0,corporate:0},{month:"Nov",personal:0,corporate:0},{month:"Dec",personal:0,corporate:0}],[l,n]=(0,t.useState)(!1),[i,d]=(0,t.useState)({}),[c,m]=(0,t.useState)([]),[u,h]=(0,t.useState)(null),[v,j]=(0,t.useState)(null),p=(new Date).getFullYear(),[N,b]=(0,t.useState)({personal:!0,corporate:!0}),[f,y]=(0,t.useState)([]);(0,t.useEffect)((()=>{m([{text:"All",value:9999},...s])}),[s]),(0,t.useEffect)((()=>{A(null!==v?v:p)}),[v]),(0,t.useEffect)((()=>{k(i,u)}),[u]);const A=async e=>{n(!0);try{let s=await Ts.getBookingDistributionDetails(e),{data:a,detail:t}=s;(t=o.A.success)&&(d(a),C(a))}catch(s){r.oR.error(s.message)}finally{n(!1)}},C=e=>{const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=Object.keys(e).map(((a,t)=>{var l,n;const i=(null===(l=e[a])||void 0===l?void 0:l.personal)||[],d=(null===(n=e[a])||void 0===n?void 0:n.corporate)||[],c=i.reduce(((e,s)=>{const a=s.inquiryPurpose;return e[a]||(e[a]=0),e[a]++,e}),{}),r=d.reduce(((e,s)=>{const a=s.inquiryPurpose;return e[a]||(e[a]=0),e[a]++,e}),{}),o=Object.keys(c).map((e=>({purpose:e,count:c[e]}))),m=Object.keys(r).map((e=>({purpose:e,count:r[e]})));return{month:s[t],personal:i.length,corporate:d.length,bookingPurposePersonal:o,bookingPurposeCorporate:m}}));Object.values(a).every((e=>{let{personal:s,corporate:a}=e;return(!s||0===s.length)&&(!a||0===a.length)}))?y([]):y(a)},w=function(e){var s;const a=f[e.index];if(!a)return;const t=e.series.properties.name,l=null===(s=a["Personal"===t?"bookingPurposePersonal":"bookingPurposeCorporate"])||void 0===s?void 0:s.sort(((e,s)=>s.count-e.count)),n=l.slice(3).reduce(((e,s)=>e+s.count),0);if(l.length<1)return;return(0,x.jsxs)("div",{className:"donut-tooltip",children:[(0,x.jsxs)("div",{className:"tooltip-header d-flex align-items-center",children:[(0,x.jsx)("span",{className:"header-label",children:"Personal"===t?"Personal":"Corporate"}),(0,x.jsx)("span",{children:"Personal"===t?a.personal:a.corporate})]}),(0,x.jsx)("hr",{className:"divider"}),null===l||void 0===l?void 0:l.map(((e,s)=>s<3&&(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:e.purpose}),(0,x.jsx)("span",{className:"status-value",children:e.count})]},e.purpose))),n>0&&(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Others"}),(0,x.jsx)("span",{className:"status-value",children:n})]},"others")]})};const k=(e,s)=>{if(9999===s)C(e);else{const a={};Object.keys(e).forEach((t=>{const l=e[t].personal||[],n=e[t].corporate||[],i=l.filter((e=>e.venueDetailId===s)),d=n.filter((e=>e.venueDetailId===s));a[t]={personal:i,corporate:d}})),C(a)}},S=e=>{const{value:s,name:a}=e.target;"venueId"===a&&h(s),"year"===a&&j(s)};return(0,x.jsx)("div",{className:"col-lg-8 col-md-12 col-sm-12 d-flex",children:(0,x.jsxs)("div",{className:"booking-distribution flex-grow-1 position-relative",children:[l?(0,x.jsx)("div",{className:"dashboard-loader position-absolute",children:(0,x.jsx)(g.A,{})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap ",children:[(0,x.jsx)("h5",{className:"card-header-text",children:"Booking Distribution"}),(0,x.jsxs)("div",{className:"d-flex justify-content-between gap-3 flex-wrap",children:[(0,x.jsx)("div",{className:"dashboard-dropdown-wrapper",children:(0,x.jsx)(oe.A,{id:"graph-venueList",dataSource:c,placeholder:"Select Venue",value:u||9999,name:"venueId",onChange:S})}),(0,x.jsx)("div",{className:"dashboard-dropdown-wrapper year-list",children:(0,x.jsx)(oe.A,{id:"graph-yearList",placeholder:"Select year",value:v||p,name:"year",onChange:S,dataSource:[{text:"2024",value:2024},{text:"2025",value:2025},{text:"2026",value:2026}]})})]})]}),(0,x.jsx)(qs,{visibility:N,handleLegendClick:e=>{b((s=>({...s,[e]:!s[e]})))},chartData:f}),(0,x.jsx)("div",{className:"mt-4 position-relative graph-container",children:(0,x.jsxs)(Ns.Q,{id:"booking-distribution",primaryXAxis:{valueType:"Category",majorGridLines:{width:0},labelStyle:{color:"#666666 ",fontSize:"14px",fontWeight:"500",fontFamily:"Lato"},majorTickLines:{width:0}},primaryYAxis:{labelFormat:"{value}",majorGridLines:{width:1,dashArray:"5"},minorGridLines:{width:1,dashArray:"5"},labelStyle:{size:0},lineStyle:{width:0},majorTickLines:{width:0},minorTickLines:{width:0}},chartArea:{border:{width:0}},tooltip:{enable:!0,template:w},legendSettings:{visible:!1},tooltipRender:e=>{const s=e.point.series.chart.element.offsetWidth,a=e.point.series.chart.element.offsetHeight,t=150;e.point.symbolLocations[0].x+t+10>s&&(e.point.symbolLocations[0].x-=160),e.point.symbolLocations[0].y+t>a&&(e.point.symbolLocations[0].y-=70)},height:"238px",margin:{bottom:0},children:[(0,x.jsx)(I.y_,{services:[bs.k,fs.s,ys.m,As.b,Is.P]}),(0,x.jsxs)(Cs.v,{children:[(0,x.jsx)(Cs.H,{dataSource:f.length?f:a,xName:"month",yName:"personal",name:"Personal",type:"Column",marker:{dataLabel:{visible:!1}},columnSpacing:.2,columnWidth:.75,fill:"#AFA5FF",cornerRadius:{topLeft:2,topRight:2,bottomLeft:2,bottomRight:2},visible:N.personal}),(0,x.jsx)(Cs.H,{dataSource:f.length?f:a,xName:"month",yName:"corporate",name:"Corporate",type:"Column",marker:{dataLabel:{visible:!1}},columnSpacing:.2,columnWidth:.75,fill:"#FBD89A",cornerRadius:{topLeft:2,topRight:2,bottomLeft:2,bottomRight:2},visible:N.corporate})]})]})})]}),0===(null===f||void 0===f?void 0:f.length)&&!l&&(0,x.jsx)(Ds,{})]})})},qs=e=>{let{visibility:s,handleLegendClick:a,chartData:t}=e;const l=t.reduce(((e,s)=>e+s.personal),0),n=t.reduce(((e,s)=>e+s.corporate),0);return(0,x.jsxs)("div",{className:"legend",children:[(0,x.jsxs)("div",{onClick:()=>a("personal"),className:"".concat(!s.personal&&"opacity"," cursor-pointer d-flex align-items-center"),children:[(0,x.jsx)("span",{className:"legend-icon",children:(0,x.jsx)("img",{src:ws})}),(0,x.jsxs)("span",{className:"ms-1",children:["Personal(",l,")"]})]}),(0,x.jsxs)("div",{onClick:()=>a("corporate"),className:" ".concat(!s.corporate&&"opacity"," cursor-pointer d-flex align-items-center"),children:[(0,x.jsx)("span",{className:"legend-icon",children:(0,x.jsx)("img",{src:ks,width:"100%",height:"100%"})}),(0,x.jsxs)("span",{className:"ms-1",children:["Corporate(",n,")"]})]})]})},Ps=e=>{let{value:s,onChange:a}=e;const{RangePicker:t}=K.A;return(0,x.jsx)(t,{value:s,format:"DD MMM'YY",onChange:a,className:"date-range",suffixIcon:(0,x.jsx)(j.yQ,{}),separator:(0,x.jsx)(j.Tj,{})})},Bs=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)([]);(0,t.useEffect)((()=>{d()}),[]);const d=()=>{const e=S()().startOf("month"),a=S()().endOf("month");s([e,a]),c(e.format("DD-MM-YYYY").toString(),a.format("DD-MM-YYYY").toString())},c=async(e,s)=>{l(!0);try{let a=await Ts.getRevenueDetails(e,s),{data:t,detail:l}=a;(l=o.A.success)&&i(t)}catch(a){r.oR.error(a.message)}finally{l(!1)}},m=function(e){const s=(a=e.yValue,a>=1e7?"\u20b9".concat((a/1e7).toFixed(2)," Cr"):a>=1e5?"\u20b9".concat((a/1e5).toFixed(2)," Lakhs"):"\u20b9".concat(a.toLocaleString("en-IN")));var a;return(0,x.jsx)("div",{className:"revenue-tooltip",children:s})};const u=[{category:"Total Billing",value:(null===n||void 0===n?void 0:n.totalBilling)||0,color:"#AFA5FF"},{category:"Total Received",value:(null===n||void 0===n?void 0:n.totalReceived)||0,color:"#8AF1B9"},{category:"Total Pending",value:(null===n||void 0===n?void 0:n.totalPending)||0,color:"#FBD89A"},{category:"Projected Billing",value:(null===n||void 0===n?void 0:n.projectedBilling)||0,color:"#FFA6AE"}];return(0,x.jsx)("div",{className:"col-lg-4 col-md-12",children:(0,x.jsx)("div",{className:"revenue-details position-relative ",children:a?(0,x.jsx)("div",{className:"dashboard-loader position-absolute",children:(0,x.jsx)(g.A,{})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center ",children:[(0,x.jsx)("h5",{className:"card-header-text",children:"Revenue Details "}),(0,x.jsx)("div",{className:"graph-daterange-wrapper",children:(0,x.jsx)(Ps,{value:e,onChange:e=>{if(s(e),e){let s=S()(e[0].$d).format("DD-MM-YYYY"),a=S()(e[1].$d).format("DD-MM-YYYY");c(s,a)}else d()}})})]}),(0,x.jsxs)("div",{className:"graph-container",children:[(0,x.jsxs)(Ns.Q,{id:"revenue-chart",primaryXAxis:{valueType:"Category",majorGridLines:{width:0},majorTickLines:{width:0},labelStyle:{color:"#666666 ",fontSize:"12px",fontWeight:"400",fontFamily:"Lato"},labelIntersectAction:"Wrap"},primaryYAxis:{visible:!0,majorGridLines:{width:1,dashArray:"5"},minorGridLines:{width:1,dashArray:"5"},labelStyle:{size:0},lineStyle:{width:0},majorTickLines:{width:0},minorTickLines:{width:0}},tooltip:{enable:!0,template:m},chartArea:{border:{width:0}},pointRender:e=>{e.fill=u[e.point.index].color},height:"314px",margin:{bottom:0},children:[(0,x.jsx)(I.y_,{services:[bs.k,fs.s,ys.m,As.b,Is.P]}),(0,x.jsx)(Cs.v,{children:(0,x.jsx)(Cs.H,{dataSource:u,xName:"category",yName:"value",type:"Column",columnWidth:.5,cornerRadius:{topLeft:4,topRight:4,bottomLeft:4,bottomRight:4}})})]}),!(null!==n&&void 0!==n&&n.totalBilling)&&!(null!==n&&void 0!==n&&n.totalReceived)&&!(null!==n&&void 0!==n&&n.totalPending)&&!(null!==n&&void 0!==n&&n.projectedBilling)&&(0,x.jsx)(Fs,{})]})]})})})},Fs=()=>(0,x.jsx)("div",{className:"graph-no-data position-absolute w-100",children:(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{src:Ss,alt:"no-data"})}),(0,x.jsxs)("div",{className:"d-flex gap-1 flex-column justify-content-center ",children:[(0,x.jsx)("h1",{className:"content-title",children:"No Data"}),(0,x.jsx)("p",{className:"content-desc",children:"Dummy text here to explain the widget"})]})]})}),Es=()=>{const[e,s]=(0,t.useState)([]),[a,n]=(0,t.useState)(!0),i=(0,l.Zp)();(0,t.useEffect)((()=>{(async()=>{n(!0);try{let e=await Ts.getUpcomingBookingDetails(),{data:a,detail:t}=e;(t=o.A.success)&&s(a)}catch(e){r.oR.error(e.message)}finally{n(!1)}})()}),[]);return(0,x.jsx)("div",{className:"upcoming-bookings",children:a?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h5",{className:"card-header-text",children:["Upcoming Bookings (",(null===e||void 0===e?void 0:e.length)||0,")"]}),(0,x.jsx)("div",{className:"booking-list h-100 ",children:(null===e||void 0===e?void 0:e.length)>0?e.map((e=>{var s,a,t,l;return(0,x.jsxs)("div",{className:"booking-item",children:[(0,x.jsxs)("div",{className:"list-header",children:[(0,x.jsxs)("div",{className:"header-text",children:[(0,x.jsxs)("div",{className:"id",children:["E-ID : ",e.inquiryInfoId]}),(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{className:"new-custom-dropdown",children:[(0,x.jsx)(W.A.Toggle,{variant:"",id:"dropdown-basic",children:(0,x.jsx)(j.as,{})}),(0,x.jsx)(W.A.Menu,{children:(0,x.jsx)(W.A.Item,{onClick:()=>{return s=e.inquiryInfoId,void i("/inquiry-bookings/inquiry-info/"+s);var s},children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.bM,{})," ",(0,x.jsx)("span",{className:"ms-1  dropdown-title",children:"View Details"})]})})})]})})]}),(0,x.jsxs)("div",{className:"description",children:[e.inquiryPurpose,(null===e||void 0===e?void 0:e.brideName)&&(null===e||void 0===e?void 0:e.groomName)&&(0,x.jsxs)("span",{children:["- ",(null===e||void 0===e?void 0:e.brideName)+"&"+(null===e||void 0===e?void 0:e.groomName)]}),(null===e||void 0===e?void 0:e.companyName)&&(0,x.jsxs)("span",{children:["- ",null===e||void 0===e?void 0:e.companyName]})]})]}),(0,x.jsxs)("div",{className:"date-text",children:[(0,x.jsx)(j.Xq,{}),(0,x.jsxs)("span",{className:"ms-1",children:[null===(s=e.inquirySlotOutDTO[0])||void 0===s?void 0:s.bookingStartDate," |"," ",null===(a=e.inquirySlotOutDTO[0])||void 0===a?void 0:a.startTime," -"," ",null===(t=e.inquirySlotOutDTO[0])||void 0===t?void 0:t.bookingStartDate," |"," ",null===(l=e.inquirySlotOutDTO[0])||void 0===l?void 0:l.endTime]})]})]},e.inquiryInfoId)})):(0,x.jsxs)("div",{className:"no-bookings h-100",children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"no-bookings"}),(0,x.jsx)("h3",{className:"card-header-text",children:"No Upcoming Booking"})]})})]})})};var Rs=a(7794);const Ms=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)([]);(0,t.useEffect)((()=>{d()}),[]);const d=()=>{const e=S()().startOf("month"),a=S()().endOf("month");s([e,a]),c(e.format("DD-MM-YYYY").toString(),a.format("DD-MM-YYYY").toString())},c=async(e,s)=>{l(!0);try{let a=await Ts.getUserPerformanceDetails(e,s),{data:t,detail:l}=a;(l=o.A.success)&&i(t)}catch(a){r.oR.error(a.message)}finally{l(!1)}};return(0,x.jsx)("div",{className:"performance-table position-relative",children:a?(0,x.jsx)("div",{className:"dashboard-loader position-absolute",children:(0,x.jsx)(g.A,{})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3 flex-wrap",children:[(0,x.jsx)("h5",{children:"User Performance"}),(0,x.jsx)("div",{className:"graph-daterange-wrapper",children:(0,x.jsx)(Ps,{onChange:e=>{if(s(e),e){let s=S()(e[0].$d).format("DD-MM-YYYY"),a=S()(e[1].$d).format("DD-MM-YYYY");c(s,a)}else d()},value:e,id:"user-performance"})})]}),(null===n||void 0===n?void 0:n.length)>0?(0,x.jsx)("div",{className:"table-container",children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsxs)("thead",{className:"bold-header text-center",children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"ps-4 text-start",rowSpan:"2",children:"User Name"}),(0,x.jsx)("th",{colSpan:"3",className:"custom-header border-end border-start ",children:"Inquiries"}),(0,x.jsx)("th",{colSpan:"2",className:"custom-header border-end",children:"Bookings"}),(0,x.jsx)("th",{rowSpan:"2",children:"Revenue Generated"})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"border-start",children:"Total"}),(0,x.jsx)("th",{children:"Active"}),(0,x.jsx)("th",{className:"border-end",children:"In-Active"}),(0,x.jsx)("th",{children:"Confirmed"}),(0,x.jsx)("th",{className:"border-end",children:"Completed"})]})]}),(0,x.jsx)("tbody",{className:"text-center",children:null===n||void 0===n?void 0:n.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"user-name border-end",children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"User Avatar",className:"user-avatar"}),e.userName]}),(0,x.jsx)("td",{className:"table-values",children:e.totalInquiries||"--"}),(0,x.jsx)("td",{className:"table-values",children:e.activeInquiries||"-"}),(0,x.jsx)("td",{className:"table-values",children:e.inactiveInquiries||"--"}),(0,x.jsx)("td",{className:"table-values",children:e.totalConfirmedBookings||"--"}),(0,x.jsx)("td",{className:"border-end table-values",children:e.totalCompletedBookings||"--"}),(0,x.jsx)("td",{className:"table-values",children:e.revenueGenerated?(0,B.wp)(e.revenueGenerated):"--"})]},s)))})]})}):(0,x.jsx)(Ds,{})]})})};var Ys=a(1548);const Ls=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[n,i]=(0,t.useState)(!1),[d,c]=(0,t.useState)({inquiries:!0,bookings:!0});(0,t.useEffect)((()=>{m()}),[]);const m=()=>{const e=S()().startOf("month"),a=S()().endOf("month");s([e,a]),u(e.format("DD-MM-YYYY").toString(),a.format("DD-MM-YYYY").toString())},u=async(e,s)=>{i(!0);try{let a=await Ts.getSourceDistributionDetails(e,s),{data:t,detail:n}=a;(n=o.A.success)&&l(t)}catch(a){r.oR.error(a.message)}finally{i(!1)}},h=function(e){return(0,x.jsxs)("div",{className:"revenue-tooltip",children:[(0,x.jsx)("span",{className:"label me-2",children:"Total Inquiries"===e.series.properties.name?"Inquiries":"Bookings"}),(0,x.jsx)("span",{children:e.y})]})};const v=(0,t.useMemo)((()=>null===a||void 0===a?void 0:a.every((e=>0===e.inquiryCount&&0===e.bookingCount))),[a]);return(0,x.jsx)("div",{className:"source-distribution position-relative",children:n?(0,x.jsx)("div",{className:"dashboard-loader position-absolute",children:(0,x.jsx)(g.A,{})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3 flex-wrap",children:[(0,x.jsx)("h5",{className:"card-header-text",children:"Source Distribution"}),(0,x.jsx)("div",{className:"graph-daterange-wrapper",children:(0,x.jsx)(Ps,{value:e,onChange:e=>{if(s(e),e){let s=S()(e[0].$d).format("DD-MM-YYYY"),a=S()(e[1].$d).format("DD-MM-YYYY");u(s,a)}else m()}})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-12 col-md-2",children:(0,x.jsx)(Vs,{sourceDistribution:a,handleLegendClick:e=>{c((s=>({...s,[e]:!s[e]})))},visibility:d})}),(0,x.jsx)("div",{className:"col-sm-12 col-md-10",children:(0,x.jsxs)("div",{className:"mt-4 graph-container",children:[(0,x.jsxs)(Ns.Q,{primaryXAxis:{valueType:"Category",majorGridLines:{width:0},majorTickLines:{width:0}},primaryYAxis:{majorGridLines:{width:1,dashArray:"5"},minorGridLines:{width:1,dashArray:"5"},labelStyle:{color:"transparent"},lineStyle:{width:0},majorTickLines:{width:0},minorTickLines:{width:0},labelIntersectAction:"Hide"},chartArea:{border:{width:0}},tooltip:{enable:!0,template:h},legendSettings:{visible:!1},height:"225px",children:[(0,x.jsx)(I.y_,{services:[Ys.i,As.b,fs.s,ys.m,Is.P]}),(0,x.jsxs)(Cs.v,{children:[(0,x.jsx)(Cs.H,{dataSource:a,xName:"sourceName",yName:"inquiryCount",name:"Total Inquiries",type:"StackingColumn",fill:"#AFA5FF",legendShape:"Image",legendImageUrl:ws,visible:d.inquiries,cornerRadius:{bottomLeft:2,bottomRight:2}}),(0,x.jsx)(Cs.H,{dataSource:a,xName:"sourceName",yName:"bookingCount",name:"Total Bookings",type:"StackingColumn",fill:"#FBD89A",legendShape:"Image",legendImageUrl:ks,cornerRadius:{topLeft:2,topRight:2},visible:d.bookings})]})]}),v&&(0,x.jsx)(Ds,{})]})})]})]})})},Vs=e=>{let{sourceDistribution:s,handleLegendClick:a,visibility:t}=e;const l=null===s||void 0===s?void 0:s.reduce(((e,s)=>e+s.inquiryCount),0),n=null===s||void 0===s?void 0:s.reduce(((e,s)=>e+s.bookingCount),0);return(0,x.jsxs)("div",{className:"custom-legend-source",children:[(0,x.jsxs)("div",{className:"".concat(!t.inquiries&&"opacity"),children:[(0,x.jsx)("div",{className:"total",children:l||"--"}),(0,x.jsxs)("div",{className:"item",children:[(0,x.jsx)("div",{className:"legend-icon ",children:(0,x.jsx)("img",{src:ws,width:"100%",height:"100%",alt:"inquiries"})}),(0,x.jsx)("div",{className:"text-nowrap legend-text",onClick:()=>a("inquiries"),role:"button",children:"Total Inquiries"})]})]}),(0,x.jsxs)("div",{className:"".concat(!t.bookings&&"opacity"),children:[(0,x.jsx)("div",{className:"total",children:n||"--"}),(0,x.jsxs)("div",{className:"item",children:[(0,x.jsx)("div",{className:"legend-icon ",children:(0,x.jsx)("img",{src:ks,width:"100%",height:"100%",alt:"bookings"})}),(0,x.jsx)("div",{className:"text-nowrap legend-text",onClick:()=>a("bookings"),role:"button",children:"Total Bookings"})]})]})]})};var Us=a(8263),Hs=a(7789);const Qs=e=>{let{activeVenueList:s}=e;const a=[{month:"Jan",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Feb",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Mar",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Apr",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"May",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Jun",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Jul",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Aug",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Sep",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Oct",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Nov",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null},{month:"Dec",daysWorking:null,daysHours:null,occupancy:null,occupancyHours:null}],[l,n]=(0,t.useState)(null),[i,d]=(0,t.useState)(null),[c,r]=(0,t.useState)([]),[m,u]=(0,t.useState)({daysWorking:!0,occupancy:!0}),h=(new Date).getFullYear(),[v,j]=(0,t.useState)([]),[p,N]=(0,t.useState)([]),[b,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(s.length){var e;const a=s.sort(((e,s)=>e.value-s.value));r(a),n(null===(e=a[0])||void 0===e?void 0:e.value),d(h)}}),[s]),(0,t.useEffect)((()=>{i&&l&&y(l,i)}),[i,l]),(0,t.useEffect)((()=>{let e=A(v);N(e)}),[v]);const y=async(e,s)=>{f(!0);try{let t=await Ts.getOccupancyDetails(e,s),{data:l,detail:n}=t;if(n=o.A.success){var a;let e=null===(a=Object.keys(l[0]))||void 0===a?void 0:a.every((e=>l[0][e].daysWorking.days>0));e&&j(l)}}catch(t){console.log(t.message)}finally{f(!1)}},A=e=>{var s;return Object.keys(e).length&&(null===(s=Object.entries(e[0]))||void 0===s?void 0:s.map((e=>{let[s,a]=e;return{month:s.slice(0,1).toUpperCase()+s.slice(1),daysWorking:a.daysWorking.days,daysHours:a.daysWorking.hours,occupancy:a.totalOccupancy.days,occupancyHours:a.totalOccupancy.hours,percentageDay:a.totalOccupancy.percentageDay,percentageHours:a.totalOccupancy.percentageHours}})))||[]},C=function(e){const s=p[e.index];if(0===p.length)return;return(0,x.jsxs)("div",{className:"donut-tooltip",children:[(0,x.jsx)("div",{className:"tooltip-header",children:(0,x.jsx)("span",{className:"header-label",children:"Days Working"===e.series.properties.name?"Operational":"Occupancy"})}),(0,x.jsx)("hr",{className:"divider"}),(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Days"}),(0,x.jsx)("span",{className:"status-value",children:"Days Working"===e.series.properties.name?null===s||void 0===s?void 0:s.daysWorking:null===s||void 0===s?void 0:s.occupancy})]}),(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Hours"}),(0,x.jsx)("span",{className:"status-value",children:"Days Working"===e.series.properties.name?null===s||void 0===s?void 0:s.daysHours:null===s||void 0===s?void 0:s.occupancyHours})]})]})};const w=e=>{const{value:s,name:a}=e.target;"venueId"===a&&n(s),"year"===a&&d(s)};return(0,x.jsx)("div",{className:"occupancy-details position-relative",children:(0,x.jsx)(x.Fragment,{children:b?(0,x.jsx)("div",{className:"dashboard-loader position-absolute",children:(0,x.jsx)(g.A,{})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,x.jsx)("h5",{className:"card-header-text",children:"Occupancy Details"}),(0,x.jsxs)("div",{className:"d-flex justify-content-between gap-3 flex-wrap ",children:[(0,x.jsx)("div",{className:"dashboard-dropdown-wrapper",children:(0,x.jsx)(oe.A,{id:"graph-venueList",dataSource:c,placeholder:"Select Venue",value:l,name:"venueId",onChange:w})}),(0,x.jsx)("div",{className:"dashboard-dropdown-wrapper year-list",children:(0,x.jsx)(oe.A,{id:"graph-yearList",placeholder:"Select year",value:i||h,name:"year",onChange:w,dataSource:[{text:"2024",value:2024},{text:"2025",value:2025},{text:"2026",value:2026}]})})]})]}),(0,x.jsx)(Ws,{visibility:m,handleLegendClick:e=>{u((s=>({...s,[e]:!s[e]})))},chartData:p,occupancyData:v}),(0,x.jsxs)("div",{className:"graph-container",children:[(0,x.jsxs)(Ns.Q,{primaryXAxis:{valueType:"Category",labelFormat:"MMM",intervalType:"Months",majorGridLines:{width:1,dashArray:"5"},minorGridLines:{width:1,dashArray:"5"},visible:!0,majorTickLines:{width:0},labelStyle:{color:"#666666 ",fontSize:"14px",fontWeight:"500",fontFamily:"Lato"}},primaryYAxis:{title:"Days / Hours",labelFormat:"{value} Days",visible:!1},tooltip:{enable:!0,template:C,fadeOutDuration:100},legendSettings:{visible:!1},chartArea:{border:{width:0}},tooltipRender:e=>{const s=e.point.series.chart.element.offsetWidth;e.point.symbolLocations[0].x+150+10>s&&(e.point.symbolLocations[0].x-=160),e.point.symbolLocations[0].y-=110},height:"100%",margin:{bottom:0},children:[(0,x.jsx)(I.y_,{services:[Us.f,Hs.c,fs.s,ys.m,As.b]}),(0,x.jsxs)(Cs.v,{children:[(0,x.jsx)(Cs.H,{dataSource:p.length?p:a,xName:"month",yName:"daysWorking",name:"Days Working",type:"Spline",marker:{visible:!0,imageUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPySURBVHgB1VfNTxNBFJ/d7tJPbStFINRYCEICEUyIidFEajxbvHAULt78I4A/wD+BhEQDJiZE03gxIalEPfHh10UTsMESOJDUBiltaHd8b3mzzpZtt/XGSyb7ujPzfu/jt2+mjJ0H4Zwr8FBIZ5Ku0BKFtShaM4sQYG5uzgIBYQ66+Rsdo3fcza7S5LzioNca5zXvjDrrzhivN2eBjo2NqSsrK+OBQGBK07S7EN1VE8EwvoD+8+jo6HkymXzd19eHoGx4eJjPzMxYwLDGNROinioNDwxta2vrWqVSecddBBzJ4lrYo09OTuJeVeKEq1jRQhQaRKvv7e3dBAN53oJAFh6jA+i8IGpDJyQGi4h1iGKgVWDKwG90Gp0XGWAOJbbYTgy1Iu/v71d7e3vfgh6RN2S/n7BMusj2cxVWKnKWGNDZjdteGD4m2Qp3dna+LBQKg9vb2/gKecBZDQFVitpEnp2dtaJfW1tLCVIJQdCFpwWW/XFiApvOgP5q4Y85Jwvu3djYmDo+PrYR1zFydEB8sxC14vf7U/LCTx9LZwBqHYu0q7YMgI1HxWLxmVPUVuTkqekd1EkplUoqfE4jdvAyc5PaNR6PZySbzYovBzNry4BKwKZHwHBlfX1dyeVyiqqqNvD9XJW5CZZAFqz9/Py84MyZtNtqnslkBNtb7tP1BDJoZZQ4ZQd3EnBoR/7dFfcwN+m6otXaKExPTxcSiQSDjLJG4DIhlHK5/F5emHwQYG5y677P9hu64tdYLKZA3W0+2cCx5uAVh5qLSQ4bluQdiUG9oQM4JzMdJZ/PLx4cHAgwxJCPYFttURfdCFujBqx/4/V678gG8ZNDVgtyOTUZlGq1+gvqfR1UXFilYdCQ8nDqjdlWsSXG43E/6BfT6fQotkr+H7K8vDyKNmBgutrQNkTuzDF0gCYxai+MYDQaDa+uro634gBEXNjd3X0C+7HFBuHpI5uYVdsBIzcZoRpDQ0NYJwNqZqRSqc8QxT1MI3MRIOkHcHaip6dnEffrui7SbMABI3Ccz3WKXI4+AGy9AM8ojHbo9w8PDw9fAMg3ESkwegfeLW1ubk7gmnA4HKU9AbKh0cnWsHeI1mcdqfB9+sjIhQgIPC8hAIxYKBTqgHEZ9A78jXNYJgIOErCZbgyKN3Op4P9uMuYtBg4ZNIIEDJHhMDs9ZiMYJen4DskVorUWsADlTd5ozOjRW0oXti0vZcGPJCIihWgEu7u7MTt+XINfC+2pe4lwdQAzIHFAo4GG28gReXiBpG149ZKA3a9PTTpiNiDKhEdyRH7KF0b5z0V9w8xF6JLBZYPi1iEOCrwi0zsZzf2q3ILUtmJFjvLcyV8I4ojJkFgMNQAAAABJRU5ErkJggg==",shape:"Image",height:25,width:25},fill:"#8AA7F1",width:2,visible:m.daysWorking}),(0,x.jsx)(Cs.H,{dataSource:p.length?p:a,xName:"month",yName:"occupancy",name:"Total Occupancy",type:"Spline",marker:{visible:!0,imageUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAeCAYAAADU8sWcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQDSURBVHgB1Va9T1NRFD+371Hoh/3iK0QSG+kCTkpi4oAyyaQbq4uj/gEMGkASE3XCycRNTByYHNkKgZhIojFgw+AAoQ4otFBJy0fb6zmXc8t9rxBeYdFfctL7bu89v/N1z70A/wOklAJ/BI/BGAteIqBB+LwsIoLx8XFN7hNC+IxxzSj6HRsb84FHQ4TH/4VrLRFI11rpmqsae9xrPRlGJBbJ4OCgPTc3114qlSbK5fIsRiMvj5CvVqtpnH+4vr6eonXDw8MWRYAipsUTo5HPGjFK0+Hh4TN5NvL7+/sTtJ4MIB2cBs/eKqHN/f39TTMzMx2VSuWbbAAHBwfvUIcfxWZynxfvtcckdl9fnx9D/FGeA2jAa9pPaWB9gqPqIDOhQyRwo7W4uPggGAy+NRcUKiX4UlyDzF4W9qtliFgB6PYn4FYopcYmcrnc3YGBgdlMJkPFV+Fp6SY7mj0yTXmPlotAIPDETfw+twBfi6uKWM9lSj9hOv9ZjU1EIpGnpAeMdILhsI9JlfCZBfRaYGUP4ucVUxkRaFI3iHimsOSYs217YHJyMm6QypM8F9w4AHMkisWiLxqN3jYVfUfv3J65kT3IKTGBYb+nebD46j1HYmURVrhIp9NidXVVoNUOr3+X/4AX/CoX3FNxk8uEDruyZnp6ui4vF4VlWVE4KmDBnjvJ4YT2hx3LkcB2+xJ4QYcdcXxvb28vd3d3A1Y8YGThJHKzIBS2trYc5KmWzrqj5IY+diaWl5eXstnsiZGs5RxDYlome3p65jEdO3qiWdhwP3b9VANofjh+0zGHLXl+aGhoTTuFaQUz9KZFZndrQrE2Nzcft7a2PjcVUsV/2v0B2cOcGkd8AbgWuAzXQ0lloImVlZV7vb29aRzS+aQmU2U5TjMXnLpIqB2mUqlmHIfj8Xh0b29vXp4D2N1eoI4YSogCB8d9vh7UZPhPMp8uhUBbW9slnEtil1pqhHh3d/cD7o/TfvwNsj665RzXa80Sbm7KDrzN1LnHsFexQ+VRyR305BWcAbzXCxsbG0/C4fAj+sRjpsNcdVd6HfT1x95T3ls6OzspbHRW41NTUzcKhcIbPIYLeM3ukJf0S6nB0/FyZGTkKvbzBKWLw03V6ee73fPTShnAuScFYVZI3YrOUht6147SgeN2+qb5GCKRSNBBD5PhYNzp0niAngrpfMmoO50VhTiHEY5EDPs/GRNj0aRBXq9OjH5QSo9PKaEX80YKmV9HoaurK8ipCLOE+DuYTCZb2Ngm3qdfso21a75mzbecrgM/kbB3WpqJlJ5dvM4ynYALQCuwuHBMQ8xfRWq+293PpjrF0IARWqF+dFBLJoyOjkqeq7Hxuobf614NEZ4q+F/FX8cTnmm1UhCsAAAAAElFTkSuQmCC",shape:"Image",height:25,width:25},fill:"#8EE8B7",width:2,visible:m.occupancy})]})]}),0===Object.keys(v).length&&(0,x.jsx)(Ds,{splineGraph:!0})]})]})})})},Ws=e=>{let{handleLegendClick:s,visibility:a,chartData:t=[],occupancyData:l=[]}=e;const n=null===t||void 0===t?void 0:t.reduce(((e,s)=>e+s.daysWorking),0),i=null===t||void 0===t?void 0:t.reduce(((e,s)=>e+s.daysHours),0),d=null===t||void 0===t?void 0:t.reduce(((e,s)=>e+s.occupancy),0),c=null===t||void 0===t?void 0:t.reduce(((e,s)=>e+s.occupancyHours),0),r=d/n*100,o=c/i*100;return(0,x.jsxs)("div",{className:"custom-legend-occupancy",children:[(0,x.jsxs)("div",{className:"legend-item ".concat(!a.daysWorking&&"opacity"),children:[(0,x.jsx)("div",{className:"icon-box me-1",children:(0,x.jsx)("div",{className:"legend-icon",children:(0,x.jsx)("img",{src:ws,height:"100%",width:"100%",alt:"Days Working Icon"})})}),(0,x.jsxs)("div",{className:"legend-text",onClick:()=>s("daysWorking"),role:"button",children:[(0,x.jsx)("strong",{children:"Days Working"}),l.length>0&&(0,x.jsxs)("div",{className:"legend-details",children:[(0,x.jsxs)("div",{children:["Days: ",(0,x.jsx)("strong",{children:n||"-"})]}),(0,x.jsxs)("div",{children:["Hours: ",(0,x.jsx)("strong",{children:i||"-"})]})]})]})]}),(0,x.jsxs)("div",{className:"legend-item ".concat(!a.occupancy&&"opacity"),children:[(0,x.jsx)("div",{className:"icon-box me-1",children:(0,x.jsx)("div",{className:"legend-icon",children:(0,x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEgSURBVHgBnVGxSgNBFJzd7IVDNF6rWCSllRHSe7Z2phDs4hfEUgTBSizPL9BUgiB2KSV+gabRMrHx2iM5dM15+9y9SzQ5QgIZ2OXtmxn28YZhiOPOtbNsF+oAuWAog+DodkvFqnGxcXAz0jFznfi3RUHWQyKcAgbWjTDYvVw77CaGM/++Q6AiZsCY+rK3nTv172r6UcN8OHme/xaceD0dLMWmvY7qagVSRWj223iTH/8kZzs8O/feyhZsZsHJLaFaqGR/cXm2Y3Prr5YUZWkYQ2u80ey1EcSfifgxfJ0QE8OLgKInPZs7aj5/vSdnGuhHXXExEB7plWEOjMYEyM9L+0GsQ5llMpzRmJqNEyaT4ZrLqRA6WWqEMvS80lGARfALKbFno/mBebMAAAAASUVORK5CYII=",height:"100%",width:"100%",alt:"Occupancy Icon"})})}),(0,x.jsxs)("div",{className:"legend-text",onClick:()=>s("occupancy"),role:"button",children:[(0,x.jsx)("strong",{children:"Total Occupancy"}),l.length>0&&(0,x.jsxs)("div",{className:"legend-details",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{children:["Days: ",(0,x.jsx)("strong",{children:d||""})]}),r>0?(0,x.jsxs)("span",{className:"occupancy-percent-text",children:["(",r.toFixed(2)+"%",")"]}):null]}),(0,x.jsxs)("div",{children:["Hours: ",(0,x.jsx)("strong",{children:c||""}),o>0?(0,x.jsxs)("span",{className:"occupancy-percent-text",children:["(",o.toFixed(2)+"%",")"]}):null]})]})]})]})]})};var zs=a(7093);const Gs=e=>{let{data:s}=e;const[a]=(0,t.useState)(null===s||void 0===s?void 0:s.revenueCurrentMonth);return(0,x.jsxs)("div",{className:"data-card",children:[(0,x.jsxs)("div",{className:"data",children:[(0,x.jsx)("h3",{className:"card-title",children:"Revenue this month"}),(0,x.jsx)("div",{className:"card-value",children:a?(0,x.jsx)(zs.Ay,{start:0,end:a,separator:",",duration:1,formattingFn:e=>{if(e<1e5)return"\u20b9 "+e.toLocaleString();const s=1e7,a=1e5;return e>=s?"\u20b9 "+(e/s).toFixed(2)+" Cr":e>=a?"\u20b9 "+(e/a).toFixed(2)+" Lakh":void 0}}):"--"})]}),(0,x.jsx)("div",{className:"scale-graph-container",children:a>0&&(0,x.jsx)("img",{src:"data:image/png;base64,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",width:"100%",height:"100%"})})]})};var Ks=a(4131),Zs=a(6161),Js=a(8529),Xs=a(884);const _s=e=>{let{data:s}=e;const{active:a,activeCurrentMonth:t,activePast:l,cancelled:n,cancelledCurrentMonth:i,cancelledPast:d,disposed:c}=(null===s||void 0===s?void 0:s.totalInquiry)||{},r=[{x:"Active",y:a,color:"#f9e997",currentMonth:t,past:l},{x:"Disposed",y:c,color:"#fda8ff",currentMonth:0,past:0},{x:"Cancelled",y:n,color:"#afa5ff",currentMonth:i,past:d}],o=function(e){const s=r[e.index];return(0,x.jsxs)("div",{className:"donut-tooltip",children:[(0,x.jsxs)("div",{className:"tooltip-header",children:[(0,x.jsx)("span",{className:"header-label",children:s.x}),(0,x.jsx)("span",{className:"header-value",children:s.y})]}),"Disposed"!==s.x?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("hr",{className:"divider"}),(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Current Month"}),(0,x.jsx)("span",{className:"status-value",children:s.currentMonth})]}),(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Past"}),(0,x.jsx)("span",{className:"status-value",children:s.past})]})]}):""]})};const m=a+n+c;return(0,x.jsxs)("div",{className:"data-card data-card-graph",children:[(0,x.jsxs)("div",{className:"data",children:[(0,x.jsx)("h3",{className:"card-title",children:"Total Inquiries"}),(0,x.jsx)("div",{className:"card-value",children:m>0?(0,x.jsx)(zs.Ay,{start:0,end:m,duration:1}):"--"})]}),(0,x.jsx)("div",{className:"card-graph",children:m>0&&(0,x.jsxs)(Ks.h,{id:"total-inquiry",tooltip:{enable:!0,template:o},enableBorderOnMouseMove:!1,style:{height:"100%",width:"100%"},children:[(0,x.jsx)(I.y_,{services:[Zs.X,Js.S]}),(0,x.jsx)(Xs.e,{children:(0,x.jsx)(Xs.C,{xName:"x",yName:"y",dataSource:r,innerRadius:"60%",pointColorMapping:"color",dataLabel:{visible:!1}})})]})})]})},$s=e=>{let{data:s}=e;const{totalGuest:a,currentMonth:t,previousMonth:l}=(null===s||void 0===s?void 0:s.totalGuest)||{},n=l>0?(t-l)/l*100:0;return(0,x.jsxs)("div",{className:"data-card",children:[(0,x.jsxs)("div",{className:"data",children:[(0,x.jsx)("h3",{className:"card-title",children:"Total Guests"}),(0,x.jsx)("div",{className:"card-value",children:a?(0,x.jsx)(zs.Ay,{start:0,end:a,duration:1}):"--"})]}),a>0&&(0,x.jsxs)("div",{className:"card-right",children:[(0,x.jsx)("div",{className:"guest-percent",children:n>=0?(0,x.jsxs)("span",{className:"increase",children:[(0,x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADNSURBVHgB7VTLDcIwDLVN2YELUldhBDZoJ2EUugFiAkZpjgwBCTE0lVVCYhRxoX1SZMWR3yeKArDg74FQiO257R1A/YHcEBTCJs5YuDiBxObU1GvCi0xUnCBG7pcJfcwNVQDNDaC77jujJb9bt6sIe0glCENAeODKey25NEO5Id5zjYnkyKMCb3fph7hORXLkw4xBjSPur3wfX8/OOOtaJDymnAegNq4UkS5T5KOA5i6nIhryp4CWXIponu4oEP4SraNvUQ1/yU/IF8wED0yLwoaMZ9XKAAAAAElFTkSuQmCC",alt:"increase",className:"me-1 "}),n.toFixed(0),"%"]}):(0,x.jsxs)("span",{className:"decrease",children:[(0,x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAynAAAMpwHBgI7MAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAYxJREFUSIntkTFrU2EUhp/33mtxE7I10Iu3i4Pg4qYIzeAiXFIxF3RyKoJU/QMOLs4ihKL4E25LlQqCgyn6G+wkFgK9xkXUsW3u65BG09hgQhzzTB/fd3if75wDM2ZMiwA6WZrY4Xtbj6sbm89GFX/MsjmA83m+P64gAJjj9DdgX/Lal0b97kmFRZbGlfJgp1Ie7BRZGk8kqOT5D6tbA3ZBzWFJkaWxHLYQi4hFOdweVxL0D9V8q11GXsJ8BjU7jeV7AHs36wsqw3dAgrhv6w5wVg4/dLI0+ZdAwxe/fwsJ0iPs20ACXp1ff7UG0OtQTWDX6taq+VZ7bMGAZLsXjAfD+4ySFNnyRZknhzq8tZC/3gv+ju+Ny+ouCd5KrAyHA/TuvAokctjq7yQodRm4Ejm6MLKDSShuXF+R/BxoS90aZZRafgpcm19/+ebEDiahurH54mjxsR22kI8tfmpBX3I0rtjwYPAtmib4a6N+qUQPLU4ZkPkJnPlvghLOAVfl4zmC74HDT9Nkz5jxh1/KYp8qzo+/MQAAAABJRU5ErkJggg==",alt:"decrease",className:"me-1"}),Math.abs(n.toFixed(0)),"%"]})}),(0,x.jsxs)("div",{className:"guest-label",children:["Current Month : ",(0,x.jsx)("span",{className:"guest-value",children:t})]})]})]})},ea=e=>{let{data:s}=e;const{cancelled:a,cancelledCurrentMonth:l,cancelledPast:n,completed:i,completedCurrentMonth:d,completedPast:c,confirmed:r,confirmedCurrentMonth:o,confirmedPast:m}=(null===s||void 0===s?void 0:s.totalBooking)||{},u=[{x:"Confirmed",y:r,color:"#92EDC7",currentMonth:o,past:m},{x:"Completed",y:i,color:"#fda8ff",currentMonth:d,past:c},{x:"Cancelled",y:a,color:"#afa5ff",currentMonth:l,past:n}],h=(0,t.useRef)(),v=function(e){const s=u[e.index];return(0,x.jsxs)("div",{className:"donut-tooltip",children:[(0,x.jsxs)("div",{className:"tooltip-header",children:[(0,x.jsx)("span",{className:"header-label",children:s.x}),(0,x.jsx)("span",{className:"header-value",children:s.y})]}),(0,x.jsx)("hr",{className:"divider"}),(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Current Month"}),(0,x.jsx)("span",{className:"status-value",children:s.currentMonth})]}),(0,x.jsxs)("div",{className:"status-item",children:[(0,x.jsx)("span",{className:"status-label",children:"Past"}),(0,x.jsx)("span",{className:"status-value",children:s.past})]})]})};const j=a+i+r;return(0,x.jsxs)("div",{className:"data-card data-card-graph",children:[(0,x.jsxs)("div",{className:"data",children:[(0,x.jsx)("h3",{className:"card-title",children:"Total Bookings"}),(0,x.jsx)("div",{className:"card-value",children:j>0?(0,x.jsx)(zs.Ay,{start:0,end:a+i+r,duration:1}):"--"})]}),(0,x.jsx)("div",{className:"card-graph ",children:j>0&&(0,x.jsxs)(Ks.h,{id:"total-booking",tooltip:{enable:!0,fadeOutMode:"Move",template:v},enableBorderOnMouseMove:!1,ref:h,style:{height:"100%",width:"100%"},children:[(0,x.jsx)(I.y_,{services:[Zs.X]}),(0,x.jsx)(Xs.e,{children:(0,x.jsx)(Xs.C,{xName:"x",yName:"y",dataSource:u,innerRadius:"60%",pointColorMapping:"color",dataLabel:{visible:!1}})})]})})]})},sa=t.memo((()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{l(!0);try{let e=await Ts.getDashboardCardDetails(),{data:a,detail:t}=e;(t=o.A.success)&&s(a)}catch(e){r.oR.error(e.message)}finally{l(!1)}})()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 card-min-height",children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)(_s,{data:e})}),(0,x.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 card-min-height",children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)(ea,{data:e})}),(0,x.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 card-min-height",children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)($s,{data:e})}),(0,x.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 card-min-height",children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)(Gs,{data:e})})]})})),aa=()=>{const[e,s]=(0,t.useState)([]);(0,t.useEffect)((()=>{a()}),[]);const a=async()=>{try{let e=await c.getVenueListing(),{data:a,detail:t}=e;if(t=o.A.success){const e=a.filter((e=>"Active"===(null===e||void 0===e?void 0:e.venueStatus))).map((e=>{var s;return{text:null===(s=e.venueName)||void 0===s?void 0:s.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),value:e.id}}));s(e)}}catch(e){r.oR.error(e.message)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)("h4",{className:"heading-title",children:"Dashboard"})}),(0,x.jsx)("div",{className:"dashboard-container px-4",children:(0,x.jsxs)("div",{className:"flex-grow-1",children:[(0,x.jsx)("div",{className:"row dashboard-card-container",children:(0,x.jsx)(sa,{})}),(0,x.jsxs)("div",{className:"row mt-4 graph-data ",children:[(0,x.jsxs)("div",{className:"col-lg-9 col-md-12 ",children:[(0,x.jsxs)("div",{className:"row row-gap-4",children:[(0,x.jsx)(Os,{activeVenueList:e}),(0,x.jsx)(Bs,{})]}),(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsx)("div",{className:"col-lg-12",children:(0,x.jsx)(Qs,{activeVenueList:e})})})]}),(0,x.jsx)("div",{className:"col-lg-3 col-md-12 d-flex",children:(0,x.jsx)(Es,{})})]}),(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsx)("div",{className:"col-md-12 user-performance",children:(0,x.jsx)(Ms,{})})}),(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)(Ls,{})})})]})})]})};var ta=a(5303);const la=a.p+"static/media/leave-page-img.03f0ca9d9feb0ec411eb.png",na=e=>{let{show:s,handleClose:a,leaveThisPage:t,stayOnThisPage:l}=e;return(0,x.jsxs)(E.A,{scrollable:!0,show:s,onHide:l,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:120,width:120,src:la,alt:"add-img",className:"mb-3"}),(0,x.jsx)("h2",{className:"page-heading mb-3",children:"Want to leave the page ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})})})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-40 fw-bold",onClick:t,children:"Leave This Page"}),(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:l,children:(0,x.jsx)("span",{className:"ms-1",children:"Stay On This Page"})})]})]})},ia=e=>{window.onbeforeunload=s=>{if(e)return s.preventDefault(),s&&(s.returnValue=""),""}};function da(e){const[s,a]=(0,t.useState)(e);return window.onload=function(){ia(s)},(0,t.useEffect)((()=>(ia(s),()=>{window.onbeforeunload=null})),[s]),[s,a]}const ca=()=>{var e;const[s,a]=(0,t.useState)(""),n=(0,l.g)(),i=null===(e=n.inquiryId)||void 0===e?void 0:e.split("-")[1],[d,u]=(0,t.useState)({}),[h,v]=(0,t.useState)(!0),[p,g]=da(!1),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)(null),[A,I]=(0,t.useState)([]),[C,w]=(0,t.useState)([]);let k=(0,l.KP)((e=>{let{nextLocation:s}=e;return N&&!s.pathname.startsWith("/inquiry-bookings/inquiry/"+n.inquiryId)&&!s.pathname.startsWith("/inquiry-bookings/inquiry-info/")&&!s.state}));(0,t.useEffect)((()=>{T()}),[]),(0,t.useEffect)((()=>(N&&g(!0),()=>{g(!1)})),[N]),(0,t.useEffect)((()=>{var e;null!==(e=n.inquiryId)&&void 0!==e&&e.startsWith("new")&&S(i),isNaN(n.inquiryId)||D(n.inquiryId)}),[n.inquiryId]);const S=async e=>{try{v(!0);const s=await ve.getGuestById(e),{title:t,data:l}=s;if(t===o.A.success){const{guestDetailByIdDTO:e}=l;a(e.firstName+" "+e.lastName)}}catch(s){r.oR.error(s.message)}finally{v(!1)}},D=async e=>{try{v(!0);const s=await Ts.getInquiryById(e),{detail:t,title:l,data:n}=s;if(l===o.A.success){a(n.guestUserName);let e={...n,inquirySlotDTO:n.inquirySlotOutDTO.map((e=>({...e,slotTempId:(0,ta.A)()})))};u(e)}}catch(s){r.oR.error(s.message)}finally{v(!1)}},T=async()=>{try{const e=await c.getUsersDetailsList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success?I(null===l||void 0===l?void 0:l.filter((e=>e.statusId===Q.O.userAccountStatus.value.Active)).map((e=>({value:e.id,text:e.firstName+" "+e.lastName})))):r.oR.error(s||a)}catch(e){r.oR.error(e.message)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"heading-title d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsx)("div",{className:"ms-2",children:s})]})}),(0,x.jsx)("div",{className:"inquiry-booking",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white",children:h?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsx)(l.sv,{context:{inquiryInfoData:d,setInquiryInfoData:u,setIsDataChange:b,reload:()=>D(n.inquiryId),activeStep:f,setActiveStep:y,assignUserList:A,duplicateInquiryData:C,setDuplicateInquiryData:w}})})}),(0,x.jsx)(na,{show:"blocked"===k.state,leaveThisPage:k.proceed,stayOnThisPage:k.reset})]})},ra=e=>{let{id:s}=e;const a=Q.O.inquiryState.value;return s&&s==a.InquiryActive?(0,x.jsx)("div",{className:"inquiry-status-badge active-inquiry ms-2",children:"Inquiry Active"}):s&&s==a.InquiryActiveWaitList?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"inquiry-status-badge active-inquiry ms-2",children:"Inquiry Active"}),(0,x.jsx)("div",{className:"inquiry-status-badge waitlist  ms-2",children:"Waitlist"})]}):s&&s==a.InquiryActiveNewBookingOverlap||s&&s==a.InquiryActiveVenueNotOperational||s&&s==a.InquiryActiveVenueClosed||s&&s==a.InquiryActiveVenueInactiveOrDeleted?(0,x.jsx)("div",{className:"inquiry-status-badge active-inquiry ms-2",children:"Inquiry Active"}):s&&s==a.InquiryActiveTentativeBlock?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"inquiry-status-badge active-inquiry ms-2",children:"Inquiry Active"}),(0,x.jsx)("div",{className:"inquiry-status-badge active-inquiry ms-2",children:"Tentative Block"})]}):s&&s==a.InquiryCancelled?(0,x.jsx)("div",{className:"inquiry-status-badge cancelled-inquiry ms-2",children:"Inquiry Cancelled"}):s&&s==a.InquiryDisposed?(0,x.jsx)("div",{className:"inquiry-status-badge cancelled-inquiry ms-2",children:"Inquiry Disposed"}):s&&s==a.BookingConfirmed?(0,x.jsx)("div",{className:"inquiry-status-badge booking-confirmed  ms-2",children:"Booking Confirmed"}):s&&s==a.BookingConfirmedModified?(0,x.jsx)("div",{className:"inquiry-status-badge booking-confirmed  ms-2",children:"Booking Confirmed - Modified"}):s&&s==a.BookingCancelled?(0,x.jsx)("div",{className:"inquiry-status-badge cancelled-inquiry ms-2",children:"Booking Cancelled"}):s&&s==a.BookingCompleted?(0,x.jsx)("div",{className:"inquiry-status-badge booking-completed  ms-2",children:"Booking Completed"}):(0,x.jsx)("div",{})},oa=e=>{let{show:s,setShow:a,getInquiryInfo:n}=e;const[i,d]=(0,t.useState)([{title:"Reason 1",desc:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",id:1},{title:"Reason 2",desc:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",id:2},{title:"Reason 3",desc:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",id:3},{title:"Other",desc:"",id:4}]),c=(0,l.g)(),[u,h]=(0,t.useState)(""),[v,j]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(""),f=()=>a(!1);return(0,x.jsx)("div",{className:"custom-m-dal",children:(0,x.jsxs)(E.A,{show:s,onHide:f,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Cancel Action"})}),(0,x.jsxs)(E.A.Body,{className:"inquiry-cancel-modal",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-3 ",children:[(0,x.jsx)("img",{src:te,alt:"",className:"popup-img"}),(0,x.jsxs)("div",{className:"ms-2",children:[(0,x.jsx)("h5",{className:"heading ",children:"Cancel Inquiry?"}),(0,x.jsx)("p",{className:"inquiry-question",children:"Are you sure you want to cancel this inquiry?"})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("h6",{className:"mb-3 reasons-header",children:"Any Specific Reason? "}),i.map(((e,s)=>(0,x.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,x.jsx)("input",{type:"radio",className:"form-check-input custom-check m-0 me-2",checked:e.id===v,id:e.id,onChange:()=>{j(e.id),h("")}}),(0,x.jsxs)("div",{className:"reason-check-title ".concat(e.id!==v?"title-light":"fw-bold"),children:[4==e.id?(0,x.jsx)("span",{children:e.title}):(0,x.jsxs)("span",{children:[e.title," : "]}),e.desc]})]},s)))]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Write Comments",name:"otherReason",value:u,disabled:4!==v,onChange:e=>h(e.target.value)})]}),(0,x.jsxs)("div",{className:"cancel-input-wrapper",children:[(0,x.jsx)("div",{className:"txt-grey mb-2",children:"Type \u201cCancel\u201d to proceed"}),(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"C a n c e l",value:N,onChange:e=>b(e.target.value)})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",onClick:async()=>{if("Cancel"===N&&v){if(4===v&&0===u.trim().length)return;try{g(!0);let e={inquiryInfoId:c.inquiryId,reason:4===v?u:i.find((e=>e.id===v)).desc};const s=await Ts.cancelInquiry(e),{title:a}=s;a===o.A.success&&(j(null),h(""),b(""),f(),n())}catch(e){r.oR.error(e.message)}finally{g(!1)}}},children:[p&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Submit"]})})]})})},ma=e=>{let{show:s,setShow:a,inquiryId:l,getInquiryInfo:n}=e;const[i,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(null),[v,j]=(0,t.useState)(!1);(0,t.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=await c.getUsersDetailsList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success?d(null===l||void 0===l?void 0:l.filter((e=>e.statusId===Q.O.userAccountStatus.value.Active)).map((e=>({value:e.id,text:e.firstName+" "+e.lastName})))):r.oR.error(s||a)}catch(e){r.oR.error(e.message)}},g=()=>{a(!1),h(null)};return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:g,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirmation"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inquiry-reassign-modal",children:[(0,x.jsx)("img",{src:ne,alt:""}),(0,x.jsx)("h4",{className:"heading",children:"Re-assign the Inquiry"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once you change the lead owner the previous lead owner wont be able to access the inquiry and perform any tasks"}),(0,x.jsx)("p",{className:"dropdown-header",children:"Choose new Lead Owner"}),(0,x.jsx)("div",{className:"w-50",children:(0,x.jsx)(oe.A,{onChange:e=>{const{value:s}=e.target;h(s)},value:u,name:"leadOwnerId",dataSource:i,placeholder:"Select"})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",onClick:async()=>{try{j(!0);const e=await Ts.reassignInquiry(l,u),{title:s}=e;s===o.A.success&&(g(),n())}catch(e){r.oR.error(e.message)}finally{j(!1)}},className:" fw-bolder fs-15",disabled:!u,children:[v&&(0,x.jsx)(m.A,{animation:"border",size:"sm"}),(0,x.jsx)("span",{className:"ms-2",children:"Confirm"})]})})]})})},ua=e=>{let{show:s,setShow:a,description:t}=e;const l=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:l,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:Xe,alt:"pending"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Warning !"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:t})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:l,children:"Okay"})})]})})},ha=e=>{let{show:s,setShow:a}=e;const t=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:Xe,alt:"pending"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Warning !"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:"Your discount is pending approval, please approve or reject it before you can proceed."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:t,children:"Okay"})})]})})},xa=e=>{let{show:s,setShow:a,inquiryInfo:l,onConfirm:n}=e;const[i,d]=(0,t.useState)([{title:"Reason 1",desc:"Nunc vulputate libero et velit interdum.",id:1},{title:"Reason 2",desc:"Nunc vulputate libero et velit interdum.",id:2},{title:"Reason 3",desc:"Nunc vulputate libero et velit interdum.",id:3},{title:"Other",desc:"",id:4}]),[c,u]=(0,t.useState)(""),[h,v]=(0,t.useState)(null),[j,p]=(0,t.useState)(!1),[g,N]=(0,t.useState)(""),b=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:b,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Cancel Action"})}),(0,x.jsxs)(E.A.Body,{className:"inquiry-cancel-modal",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-3 ",children:[(0,x.jsx)("img",{src:te,alt:"",className:"popup-img"}),(0,x.jsxs)("div",{className:"ms-2",children:[(0,x.jsx)("h5",{className:"heading ",children:"Cancel Booking Request"}),(0,x.jsx)("p",{className:"inquiry-question",children:"Are you sure you want to cancel this inquiry?"})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("h6",{className:"mb-3 reasons-header",children:"Any Specific Reason? "}),i.map(((e,s)=>(0,x.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,x.jsx)("input",{type:"radio",className:"form-check-input custom-check m-0 me-2",checked:e.id===h,id:e.id,onChange:()=>{v(e.id),u("")}}),(0,x.jsxs)("div",{className:"reason-check-title ".concat(e.id!==h?"title-light":"fw-bold"),children:[4==e.id?(0,x.jsx)("span",{children:e.title}):(0,x.jsxs)("span",{children:[e.title," : "]}),e.desc]})]},s)))]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Write Comments",name:"otherReason",value:c,disabled:4!==h,onChange:e=>u(e.target.value)})]}),(0,x.jsxs)("div",{className:"cancel-input-wrapper",children:[(0,x.jsx)("div",{className:"txt-grey mb-2",children:"Type \u201cCancel\u201d to proceed"}),(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"C a n c e l",value:g,onChange:e=>N(e.target.value)})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",onClick:async()=>{if("Cancel"===g&&h){if(4===h&&0===c.trim().length)return;try{p(!0);let e={inquiryInfoId:l.inquiryInfoId,guestDetailId:l.guestDetailId,bookingCancelReason:4===h?c:i.find((e=>e.id===h)).desc};const s=await Ts.cancelBookingRequest(e),{title:a}=s;a===o.A.success&&(v(null),u(""),N(""),b(),n())}catch(e){r.oR.error(e.message)}finally{p(!1)}}},disabled:"Cancel"!==g||4===h&&0===c.trim().length||!h,children:[j&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Submit"]})})]})})},va=e=>{let{show:s,setShow:a}=e;const[n,i]=(0,t.useState)([{title:"Reason 1",desc:"Nunc vulputate libero et velit interdum.",id:1},{title:"Reason 2",desc:"Nunc vulputate libero et velit interdum.",id:2},{title:"Reason 3",desc:"Nunc vulputate libero et velit interdum.",id:3},{title:"Other",desc:"",id:4}]),d=(0,l.g)(),[c,u]=(0,t.useState)(""),[h,v]=(0,t.useState)(null),[j,p]=(0,t.useState)(!1),[g,N]=(0,t.useState)(""),b=()=>a(!1);return(0,x.jsx)("div",{className:"custom-m-dal",children:(0,x.jsxs)(E.A,{show:s,onHide:b,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Cancel Action"})}),(0,x.jsxs)(E.A.Body,{className:"inquiry-cancel-modal",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-3 ",children:[(0,x.jsx)("img",{src:te,alt:"",className:"popup-img"}),(0,x.jsxs)("div",{className:"ms-2",children:[(0,x.jsx)("h5",{className:"heading ",children:"Cancel Booking Approval"}),(0,x.jsx)("p",{className:"inquiry-question",children:"Are you sure you want to cancel this inquiry?"})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("h6",{className:"mb-3 reasons-header",children:"Any Specific Reason? "}),n.map(((e,s)=>(0,x.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,x.jsx)("input",{type:"radio",className:"form-check-input custom-check m-0 me-2",checked:e.id===h,id:e.id,onChange:()=>{v(e.id),u("")}}),(0,x.jsxs)("div",{className:"reason-check-title ".concat(e.id!==h?"title-light":"fw-bold"),children:[4===e.id?(0,x.jsx)("span",{children:e.title}):(0,x.jsxs)("span",{children:[e.title," : "]}),e.desc]})]},s)))]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Write Comments",name:"otherReason",value:c,disabled:4!==h,onChange:e=>u(e.target.value)})]}),(0,x.jsxs)("div",{className:"cancel-input-wrapper",children:[(0,x.jsx)("div",{className:"txt-grey mb-2",children:"Type \u201cCancel\u201d to proceed"}),(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"C a n c e l",value:g,onChange:e=>N(e.target.value)})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",onClick:async()=>{if("Cancel"===g&&h){if(4===h&&0===c.trim().length)return;try{p(!0);let e={inquiryInfoId:d.inquiryId,reason:4===h?c:n.find((e=>e.id===h)).desc};const s=await Ts.cancelInquiry(e),{title:a}=s;a===o.A.success&&(v(null),u(""),N(""),b())}catch(e){r.oR.error(e.message)}finally{p(!1)}}},children:[j&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Submit"]})})]})})},ja=a.p+"static/media/information-img.35e2f63c139b2b1d280a.png",pa=e=>{let{show:s,setShow:a,onConfirm:l}=e;const[n,i]=(0,t.useState)("");return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:e=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:ja,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Mark as Complete ?"}),(0,x.jsx)("p",{className:"description fw-normal mb-3 text-center fs-16-px ",children:"Once you confirm, you wont be able to perform any actions."}),(0,x.jsx)("p",{className:"mb-3 description fw-medium text-center type-text",children:'Type "Confirm" to proceed'}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"Confirm",value:n,onChange:e=>{i(e.target.value)}})})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:()=>{"Confirm"===n&&(i(""),a(!1),l())},disabled:"Confirm"!==n.trim(),children:"Submit"})})]})})},ga=e=>{let{show:s,setShow:a,onConfirm:t}=e;return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:()=>{a(!1)},className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center p-4",children:[(0,x.jsx)("img",{src:ne,alt:"pending",width:150,height:150}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Are you sure want to proceed ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:"Other bookings are in process, you will be put on waitlist."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:t,children:"Proceed"})})]})})},Na=e=>{let{show:s,setShow:a}=e;const t=()=>{a(!1)};return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning "})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center p-4",children:[(0,x.jsx)("img",{src:ne,alt:"pending",width:150,height:150}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Warning"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:"5 Waitlists already exists, please wait till any of them gets updated"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:t,children:"Okay"})})]})})},ba=e=>{let{inquiryInfo:s,getInquiryInfo:a,alertsData:i={}}=e;const[d,c]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),f=(0,l.Zp)(),y=(0,l.g)(),[A,I]=(0,t.useState)(!1),[C,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),[O,q]=(0,t.useState)(!1),{profileDetails:P}=(0,t.useContext)(V.t0),{InquiryCancelled:B,InquiryDisposed:F,BookingCancelled:E,InquiryActiveNewBookingOverlap:R,InquiryActiveVenueNotOperational:M,InquiryActiveVenueClosed:Y,InquiryActiveVenueInactiveOrDeleted:L,BookingCompleted:H,BookingConfirmed:W,BookingConfirmedModified:z,InquiryActiveWaitList:G}=Q.O.inquiryState.value,{Pending:K,Rejected:Z,Approved:J,Cancelled:X}=Q.O.bookingRequestStatus.value,{inquiryStateId:_,inquiryInfoId:$,guestUserName:ee,guestDetailId:se,bookingStatusId:ae}=s;(0,t.useEffect)((()=>{S(te())}),[s]);const te=()=>{const{inquirySlotOutDTO:e}=s;if(e){const s=new Date,{bookingEndDate:a,endTime:t}=e[(null===e||void 0===e?void 0:e.length)-1],[l,n,i]=a.split("-");return new Date("".concat(i,"-").concat(n,"-").concat(l," ").concat(t))<s}return!1},le=()=>{var e;const{bookingRequest:s}=i;(null===s||void 0===s||null===(e=s.filter((e=>e.inquiryStateId!==G)))||void 0===e?void 0:e.length)>0?T(!0):ne()},ne=()=>{var e;T(!1);const{bookingRequest:s}=i;5===(null===s||void 0===s||null===(e=s.filter((e=>e.inquiryStateId===G)))||void 0===e?void 0:e.length)?q(!0):f("/inquiry-bookings/".concat($,"/review-booking/booking-details"))},ie=()=>{var e;return null===s||void 0===s||null===(e=s.inquirySlotOutDTO)||void 0===e?void 0:e.every((e=>{var s;return null===e||void 0===e||null===(s=e.selectedVenueDTOs)||void 0===s?void 0:s.every((e=>""!==e.preBuffer.trim()&&""!==e.postBuffer.trim()))}))},de=async()=>{try{const e=await Ts.getDiscountPendingStatus(y.inquiryId),{title:s,data:a}=e;return s===o.A.success&&(I(!0),!0)}catch(e){r.oR.error(e.message)}},ce=(U("Account","Edit"),U("Bookings","Cancel")),re=U("Bookings","Confirm"),oe=U("Bookings","MarkAsComplete"),me=U("Quotation","Add"),ue=U("Payment","Add"),he=U("BillingSummary","Add"),xe=U("Inquiries","Cancel"),ve=U("Inquiries","ReAssign");return(0,x.jsxs)("div",{className:"w-100 ",children:[s.inquirySlotOutDTO&&s.inquirySlotOutDTO.length>0&&(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 flex-wrap gap-2 ",children:[(0,x.jsx)("div",{className:"name-wrapper txt-primary d-flex align-items-center",children:ee&&$&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.TH,{}),(0,x.jsx)(n.N_,{className:"ms-2 header-info text-decoration-none ",to:"/guest-management/guest-details/".concat(se),children:ee+" / "+$}),(0,x.jsx)(ra,{id:_})]})}),![B,F,E].includes(_)&&((null===P||void 0===P?void 0:P.id)===(null===s||void 0===s?void 0:s.leadOwnerId)||(null===P||void 0===P?void 0:P.userRoleId)===Q.O.userRolesEnum.value.Administrator)&&(0,x.jsxs)("div",{className:"btns-wrapper",children:[(0,x.jsx)(x.Fragment,{children:![H,W,z,G].includes(_)&&![R,M,Y,L].includes(s.venueStateId)&&![K,J].includes(ae)&&(0,x.jsxs)("button",{className:"btn btn-success me-2 px-3 p-2 d-flex align-items-center",onClick:async()=>{await de()||(ie()?le():w(!0))},children:[(0,x.jsx)(j.ow,{}),(0,x.jsx)("span",{className:"ms-2",children:"Proceed to Booking"})]})}),re&&(0,x.jsx)(x.Fragment,{children:ae===J&&(0,x.jsxs)("button",{className:"btn btn-success me-2 px-3 p-2 d-flex align-items-center",onClick:()=>f("/inquiry-bookings/".concat($,"/confirm-booking")),children:[(0,x.jsx)(j.ow,{}),(0,x.jsx)("span",{className:"ms-2",children:"Proceed To Confirm Booking"})]})}),k&&[W].includes(_)&&(0,x.jsx)(x.Fragment,{children:oe&&(0,x.jsxs)("button",{className:"btn btn-success me-2 px-3 p-2 d-flex align-items-center",onClick:()=>g(!0),children:[(0,x.jsx)(j.ow,{}),(0,x.jsx)("span",{className:"ms-2",children:"Mark as Complete"})]})}),(0,x.jsxs)("div",{className:"btn-group",children:[(0,x.jsxs)("button",{type:"button",className:"btn btn-primary canvasbtn d-flex align-items-center",children:[(0,x.jsx)(j.CK,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Action"})]}),(0,x.jsx)("button",{type:"button",className:"btn btn-primary canvasbtn-toggle dropdown-toggle dropdown-toggle-split","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)("span",{className:"toggle-hidden",children:(0,x.jsx)(j.p$,{strokeColor:"#FFFFFF"})})}),(0,x.jsxs)("ul",{className:"dropdown-menu py-2 px-3",children:[![K,J,Z].includes(s.bookingStatusId)&&![W,H].includes(_)&&(0,x.jsxs)(x.Fragment,{children:[me&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",children:[(0,x.jsx)(j.lx,{})," ",(0,x.jsx)("span",{className:"dropdown-title",onClick:async()=>{await de()||f("/inquiry-bookings/inquiry-info/".concat(y.inquiryId,"/quotation/create/new"))},children:"Create Quotation"})]})}),ve&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>b(!0),children:[(0,x.jsx)(j.Q$,{})," ",(0,x.jsx)("span",{className:"dropdown-title",children:"Re-Assign"})]})}),xe&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>c(!0),children:[(0,x.jsx)(j.IU,{})," ",(0,x.jsx)("span",{className:"dropdown-title",children:"Cancel Inquiry"})]})})]}),ce&&(0,x.jsxs)(x.Fragment,{children:[[K,Z].includes(s.bookingStatusId)&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>u(!0),children:[(0,x.jsx)(j.IU,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Cancel Booking Request"})]})}),ae===J&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>v(!0),children:[(0,x.jsx)(j.IU,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Cancel Booking Approval"})]})})]}),[W].includes(_)&&(0,x.jsxs)(x.Fragment,{children:[ue&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",children:[(0,x.jsx)(j.XW,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Add Payment Details"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",children:[(0,x.jsx)(j.ev,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Download Booking Summary"})]})}),he&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",children:[(0,x.jsx)(j.Ct,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Add Extra Charges"})]})}),ve&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>b(!0),children:[(0,x.jsx)(j.Q$,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Re-Assign"})]})}),ce&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",onClick:()=>f("/inquiry-bookings/".concat($,"/cancel-booking")),children:[(0,x.jsx)(j.IU,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Cancel Booking"})]})})]}),[H].includes(_)&&(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1 cursor-pointer",children:[(0,x.jsx)(j.ev,{}),(0,x.jsx)("span",{className:"dropdown-title",children:"Download Booking Summary"})]})})]})]})]})]}),(0,x.jsx)(ma,{show:N,setShow:b,inquiryId:$,getInquiryInfo:a}),(0,x.jsx)(oa,{getInquiryInfo:a,show:d,setShow:c}),(0,x.jsx)(ua,{show:C,setShow:w,description:"Please add Pre & Post Buffer time for your selected venues"}),(0,x.jsx)(xa,{show:m,setShow:u,onConfirm:()=>a(),inquiryInfo:s}),(0,x.jsx)(ha,{setShow:I,show:A}),(0,x.jsx)(va,{show:h,setShow:v,inquiryInfo:s}),(0,x.jsx)(pa,{show:p,setShow:g,onConfirm:()=>(async()=>{try{let e={inquiryInfoId:y.inquiryId,guestDetailId:s.guestDetailId};const t=await Ts.completeBooking(e),{title:l,data:n}=t;l===o.A.success&&a()}catch(e){r.oR.error(e.message)}})()}),(0,x.jsx)(ga,{show:D,setShow:T,onConfirm:()=>ne()}),(0,x.jsx)(Na,{show:O,setShow:q})]})},fa=()=>{const e=(0,l.g)(),[s]=(0,t.useState)([{url:"/inquiry-bookings/inquiry-info/"+e.inquiryId,title:"Details",end:!0},{url:"billings-summary",title:"Billing Summary"},{url:"vision-board",title:"Vision Board"},{url:"quotations",title:"Quotations"},{url:"payment",title:"Payment"},{url:"requests",title:"Requests"}]),[a,i]=(0,t.useState)([]),d=(0,l.g)(),[c,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(0),v=(0,l.zy)(),[j,p]=(0,t.useState)({}),[N,b]=(0,t.useState)(null),{profileDetails:f}=(0,t.useContext)(V.t0);(0,t.useEffect)((()=>{y()}),[]);const y=async()=>{m(!0);try{const s=await Ts.getInquiryById(d.inquiryId),{title:a,data:t}=s;if(a===o.A.success){var e;let s={...t,inquirySlotOutDTO:null===(e=t.inquirySlotOutDTO)||void 0===e?void 0:e.map(((e,s)=>({...e,slotTempId:s})))};i(s);const{inquirySlotOutDTO:a,inquiryInfoId:l}=t;A(a[0],l)}}catch(s){r.oR.error(s.message)}finally{m(!1)}},A=async(e,s)=>{const{bookingStartDate:a,bookingEndDate:t,endTime:l,startTime:n}=e;try{let e=await Ts.getInquiryDetailAlerts(a,t,l,n,s),{data:i,detail:d}=e;(d=o.A.success)&&p(i)}catch(i){console.log(i)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)(ba,{inquiryInfo:a,getInquiryInfo:y,alertsData:j})}),(0,x.jsxs)("div",{className:"inquiry-info",children:[(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mx-4 mb-4 sticky-nav",children:s.map((e=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)(n.k2,{className:"nav-link",to:e.url,end:e.end,children:[e.title,"requests"===e.url&&v.pathname.includes("/requests")&&(0,x.jsx)("span",{className:"pending-request-count ms-2",children:u})]})},e.title)))}),c?(0,x.jsx)("div",{className:"px-4 h-100",children:(0,x.jsx)(g.A,{})}):(0,x.jsx)(l.sv,{context:{inquiryData:a,loading:c,getInquiryInfo:y,setPendingRequestCount:h,alertsData:j,selectSlotId:N,setSelectSlotId:b,profileDetails:f}})]})]})},ya=e=>{let{show:s,setShow:a,deleteNote:t}=e;return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Delete Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:M,alt:"delete-note"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Delete Action ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Are you sure want to delete?"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:t,children:"Confirm"})})]})})},Aa=(0,t.createContext)(),Ia=()=>{const e={tagId:"",title:"",description:"",date:(new Date).toLocaleString()},[s,a]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[d,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[v,p]=(0,t.useState)([]),[N,b]=(0,t.useState)(!0),[f,y]=(0,t.useState)(!1),[A,I]=(0,t.useState)(e),[C,w]=(0,t.useState)(null),{inquiryDetails:k,hideButtons:S}=(0,t.useContext)(Aa),[D,T]=(0,t.useState)(null),O=(0,l.g)();(0,t.useEffect)((()=>{f&&I(u.find((e=>e.noteId===C)))}),[u]),(0,t.useEffect)((()=>{E(),F()}),[k]);const q=e=>{const{value:s,name:a}=e.target,t={...A};t[a]=s,I(t)},P=()=>{a(!1),i(!1),y(!1),I(e)},F=async()=>{try{const e=await Ts.getTagsList(),{title:s,data:a}=e;s===o.A.success&&p(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}},E=async()=>{b(!0);let e=null===k||void 0===k?void 0:k.guestDetailId,s=(null===k||void 0===k?void 0:k.InquiryInfoId)||O.inquiryId;try{const a=await Ts.getNotesList(e,s),{title:t,data:l}=a;t===o.A.success&&h(l)}catch(a){r.oR.error(a.message)}finally{b(!1)}};return(0,x.jsxs)(x.Fragment,{children:[N?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[s?(0,x.jsx)("div",{className:"add-note-form-wrapper px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Tag *"}),(0,x.jsx)(oe.A,{dataSource:v,value:A.tagId,onChange:q,name:"tagId",placeholder:"Select",enabled:!n,customCss:"border-none"})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter title",value:A.title,onChange:q,name:"title",disabled:n})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Description *"}),(0,x.jsx)("textarea",{className:"form-control input-one-line notes-desc",placeholder:"Enter Description",value:A.description,onChange:q,name:"description"})]})})]})}):f?(0,x.jsx)("div",{className:"add-note-form-wrapper px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3 d-flex justify-content-between ",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Tag "}),(0,x.jsx)("div",{className:"data-desc",children:Q.O.tagsType.text[A.tagId]})]}),A.isEdited&&(0,x.jsx)("div",{className:"status-bg-edited h-50 ",children:"Edited"})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Title"}),(0,x.jsx)("div",{className:"data-desc text-break",children:A.title})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0 ",children:"Description"}),(0,x.jsx)("div",{className:"data-desc text-break ",children:A.description})]})})]})}):(0,x.jsx)("div",{className:"details-cards-wrapper px-3",children:u.length>0?u.map(((e,s)=>(0,x.jsxs)("div",{className:"note-wrapper",onClick:()=>(e=>{let s=u.find((s=>s.noteId===e));I(s),T(s),y(!0),w(e)})(e.noteId),children:[(0,x.jsx)("div",{className:"title fw-bold mb-2 fs-14 text-break",children:e.title}),(0,x.jsx)("p",{className:"bind-note-desc mb-1",children:e.description}),e.isEdited&&(0,x.jsx)("div",{className:"text-end edit",children:"Edited"}),(0,x.jsx)("hr",{className:"my-3"}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2   ",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.jH,{})," ",(0,x.jsx)("span",{className:"ms-1 calender",children:(0,B.Yq)(e.createdOn,"DD MMM, YYYY | hh:mm A")})]}),e.tagId===Q.O.tagsType.value.SpecialRequest?(0,x.jsx)("div",{className:"note-badge",children:"Special Request"}):(0,x.jsx)("div",{className:"venue-details-badge",children:Q.O.tagsType.text[e.tagId]})]})]},s))):!N&&u.length<1&&(0,x.jsx)(Ca,{setAdd:a,hideButtons:S})}),(0,x.jsx)("div",{className:"buttons-container",children:!S&&(0,x.jsxs)(x.Fragment,{children:[(s||n)&&!f&&(0,x.jsxs)("div",{className:"notes-action-btns",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary txt cursor-pointer",onClick:()=>{n?(a(!1),i(!1),y(!0),I(D)):P()},role:"button",children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary fw-bold txt",onClick:async()=>{try{b(!0);const s={guestId:k.guestDetailId,inquiryInfoId:k.inquiryInfoId,tagID:A.tagId,title:A.title,description:A.description,noteId:n?A.noteId:0},t=await Ts.addNoteDetails(s),{title:l}=t;l===o.A.success&&(A.noteId?(a(!1),i(!1),y(!0)):(I(e),P()),E())}catch(s){r.oR.error(s.message)}finally{b(!1)}},disabled:!A.tagId||""===A.description||""===A.title,children:[N&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),n?"Update":"Save"]})]}),!s&&!n&&!f&&u.length>0&&(0,x.jsx)("div",{className:"d-flex justify-content-end  ",children:(0,x.jsx)("button",{className:"btn btn-primary fw-bold fs-13-px txt",onClick:()=>{a(!0),T(null)},children:"Add Notes"})}),f&&(0,x.jsxs)("div",{className:"notes-action-btns",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary txt",onClick:P,role:"button",children:"Back"}),(0,x.jsxs)("div",{children:[A.tagId===Q.O.tagsType.value.SpecialRequest&&(0,x.jsxs)("button",{className:"btn btn-outline-danger fw-bold px-3 fs-13-px me-2",onClick:()=>c(!0),children:[N&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Delete"]}),(0,x.jsx)("button",{className:"btn btn-primary txt fw-bold",onClick:()=>{a(!0),i(!0),y(!1)},children:"Modify"})]})]})]})})]}),(0,x.jsx)(ya,{show:d,setShow:c,deleteNote:async()=>{c(!1);try{b(!0);let e=k.guestDetailId,s=A.noteId||"";const a=await Ts.deleteSpecialNote(e,s),{title:t}=a;t===o.A.success&&(P(),E())}catch(e){r.oR.error(e.message)}finally{b(!1)}}})]})},Ca=e=>{let{setAdd:s,hideButtons:a}=e;return(0,x.jsxs)("div",{className:"empty-state h-100 d-flex justify-content-center align-items-center ",children:[(0,x.jsx)("div",{className:"state-header",children:"Add Notes"}),(0,x.jsxs)("div",{className:"state-info txt-grey",children:["You don't have any notes added yet,",(0,x.jsx)("br",{})," Create new to get started !"]}),(0,x.jsx)("div",{className:"text-center",children:!a&&(0,x.jsx)("button",{className:"btn btn-outline-primary  px-3 state-button",onClick:()=>s(!0),children:(0,x.jsx)("span",{children:"Add Notes"})})})]})},wa=e=>{let{show:s,setShow:a,handleDeleteReminder:t}=e;return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:()=>{a(!1)},className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Delete Reminder"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center",children:[(0,x.jsx)("img",{src:M,alt:""}),(0,x.jsx)("h4",{className:"modal-question",children:"Are You Sure ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16",children:"Once deleted the action cannot be reversed."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px fw-bold",onClick:t,children:"Confirm"})})]})})};S().extend(J());const ka=()=>{const e={title:"",description:"",selectDate:"",selectTime:"",remindBeforeTime:""},[s,a]=(0,t.useState)(!1),[l,n]=(0,t.useState)(null),[i,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!0),[h,v]=(0,t.useState)(!1),[p,N]=(0,t.useState)(!1),[b,f]=(0,t.useState)([]),[y,A]=(0,t.useState)({title:"",description:"",selectDate:"",selectTime:"",remindBeforeTime:""}),[I,C]=(0,t.useState)(null),{inquiryDetails:w,hideButtons:k}=(0,t.useContext)(Aa),[D,T]=(0,t.useState)(null);(0,t.useEffect)((()=>{h&&A(b.find((e=>e.reminderId===I)))}),[b]),(0,t.useEffect)((()=>{F()}),[]);const O=e=>{if(e){const[s,a]=e.split(" ");let[t,l]=s.split(":");return t=parseInt(t,10),l=parseInt(l,10),"".concat(t<10?"0"+t:t,":").concat(l<10?"0"+l:l," ").concat(a)}},q=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;if("remindBeforeTime"===s&&a){const e=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);"00:00"!==e&&A({...y,[s]:e})}else if("selectTime"===s&&a){const e=a;A({...y,[s]:O(e.toLocaleTimeString("en-US"))})}else null===e&&A({...y,[s]:e})},P=e=>{const{value:s,name:a}=e.target,t={...y};t[a]=s,A(t)},F=async()=>{try{u(!0);let e=null===w||void 0===w?void 0:w.guestDetailId,s=null===w||void 0===w?void 0:w.inquiryInfoId;const a=await Ts.getReminderDetailsList(e,s),{title:t,data:l}=a;if(t===o.A.success){let e=null===l||void 0===l?void 0:l.map((e=>{var s;const a={...e},[t,l,n]=null===a||void 0===a||null===(s=a.selectDate)||void 0===s?void 0:s.split("-"),i="".concat(n,"-").concat(l,"-").concat(t,"T00:00:00.000Z");return a.selectDate=i,a}));f(e)}}catch(e){r.oR.error(e.message)}finally{u(!1)}},E=()=>{a(!1),N(!1),v(!1),A(e)};return(0,x.jsxs)(x.Fragment,{children:[c?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[s?(0,x.jsx)("div",{className:"reminder-form-wrapper px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Title",value:y.title,name:"title",onChange:P})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Description "}),(0,x.jsx)("textarea",{className:"form-control input-one-line",placeholder:"Enter Description",value:y.description,name:"description",onChange:P})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Date *"}),(0,x.jsx)(X,{name:"selectDate",value:y.selectDate,onChange:e=>((e,s)=>{if(e){const a=null===e||void 0===e?void 0:e.$d;A({...y,[s]:a})}else A({...y,[s]:e})})(e,"selectDate"),placeholder:"DD / MM / YY",minDate:S()(new Date)})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Time *"}),(0,x.jsx)($,{value:y.selectTime,handleChange:e=>q(e,"selectTime"),selectedDate:y.selectDate})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Remind me Before *"}),(0,x.jsx)(G.A,{value:y.remindBeforeTime?S()(y.remindBeforeTime,"hh:mm"):null,onChange:e=>q(e,"remindBeforeTime"),name:"remindBeforeTime",format:"HH:mm",placeholder:"00:00 AM / PM",className:"custom-time-select"})]})})]})}):h?(0,x.jsx)("div",{className:"reminder-form-wrapper px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3 d-flex justify-content-between ",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Title"}),(0,x.jsx)("div",{className:"data-desc text-break ",children:y.title})]}),y.isEdited&&(0,x.jsx)("div",{className:"status-bg-edited h-50 ",children:"Edited"})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Description "}),(0,x.jsx)("div",{className:"description-data data-desc",children:y.description})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Date"}),(0,x.jsx)("div",{className:"data-desc",children:(0,B.Yq)(y.selectDate,"DD-MMM-YY")})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Time"}),(0,x.jsx)("div",{className:"data-desc",children:y.selectTime})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Remind me Before"}),(0,x.jsx)("div",{className:"data-desc",children:(e=>{if(null!==e){const[s,a]=null===e||void 0===e?void 0:e.split(":").map((e=>e));return 0===s&&0!==a?"".concat(a," Mins"):0!==s&&0===a?"".concat(s," Hr"):0!==s&&0!==a?"".concat(s," Hr ").concat(a," Mins"):""}})(y.remindBeforeTime)})]})})]})}):(0,x.jsx)("div",{className:"details-cards-wrapper px-3",children:b.length>0?b.map(((e,s)=>(0,x.jsxs)("div",{className:"reminder-wrapper note-wrapper",onClick:()=>(e=>{let s=b.find((s=>s.reminderId===e));A(s),T(s),v(!0),C(e)})(e.reminderId),children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,x.jsx)("h6",{className:"title fw-bold mb-0",children:e.title}),(0,x.jsxs)(W.A,{className:"new-custom-dropdown",onClick:e=>e.stopPropagation(),children:[(0,x.jsx)(W.A.Toggle,{variant:"",id:"dropdown-basic",children:e.statusId!==Q.O.statusEnum.value.Completed&&e.statusId!==Q.O.statusEnum.value.Deleted&&!k&&(0,x.jsx)(j.as,{})}),(0,x.jsxs)(W.A.Menu,{children:[(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>(async e=>{try{u(!0);const s=await Ts.updateReminderStatus(e),{title:a}=s;a===o.A.success&&F()}catch(s){r.oR.error(s.message)}finally{u(!1)}})(e.reminderId),children:[(0,x.jsx)(j.LH,{})," ",(0,x.jsx)("span",{className:"ms-1  dropdown-title",children:"Mark as Completed"})]})}),(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>(e=>{let s=b.find((s=>s.reminderId===e));A(s),T(s),N(!0),a(!0),C(e)})(e.reminderId),children:[(0,x.jsx)(j.WR,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Edit Reminder"})]})}),(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>{d(!0),n(e.reminderId)},children:[(0,x.jsx)(j.Xn,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Delete Reminder"})]})})]})]})]}),(0,x.jsx)("p",{className:"bind-reminder-desc mb-2",children:e.description}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.jH,{})," ",(0,x.jsxs)("div",{className:"ms-1 calender",children:[(0,B.Yq)(e.selectDate,"DD MMM, YYYY")," |"," ",e.selectTime]})]}),e.statusId===Q.O.statusEnum.value.Upcoming?(0,x.jsx)("div",{className:"status status-bg-yellow txt-yellow",children:"Upcoming"}):e.statusId===Q.O.statusEnum.value.Completed?(0,x.jsx)("div",{className:"status status-bg-success txt-success-light",children:"Completed"}):e.statusId===Q.O.statusEnum.value.Deleted?(0,x.jsx)("div",{className:"status status-bg-danger txt-danger",children:"Deleted"}):""]})]},s))):!c&&b.length<1&&(0,x.jsx)(Sa,{setAdd:a,hideButtons:k})}),(0,x.jsx)("div",{className:"buttons-container",children:!k&&(0,x.jsxs)(x.Fragment,{children:[(s||p)&&(0,x.jsxs)("div",{className:"w-100 notes-action-btns ",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary txt cursor-pointer",onClick:()=>{p?(a(!1),N(!1),v(!0),A(D)):E()},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary txt fw-bold",onClick:async()=>{try{u(!0);const s={inquiryInfoId:null===w||void 0===w?void 0:w.inquiryInfoId,guestId:null===w||void 0===w?void 0:w.guestDetailId,title:y.title,description:y.description,selectDate:S()(y.selectDate).format("DD-MM-YYYY"),selectTime:y.selectTime,remindBeforeTime:y.remindBeforeTime,reminderId:p?y.reminderId:0},t=await Ts.addReminderDetails(s),{title:l}=t;l===o.A.success&&(y.reminderId?(a(!1),N(!1),v(!0)):(A(e),E()),F())}catch(s){r.oR.error(s.message)}finally{u(!1)}},disabled:""===y.title||!y.selectDate||!y.selectTime||!y.remindBeforeTime,children:[c&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),p?"Update":"Save"]})]}),!s&&!p&&!h&&b.length>0&&(0,x.jsx)("div",{className:"w-100  notes-action-btns ",children:(0,x.jsx)("button",{className:"btn btn-primary txt fw-bold fs-13-px",onClick:()=>{a(!0),T(null)},children:"Add Reminder"})}),h&&(0,x.jsxs)("div",{className:"w-100 notes-action-btns",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary txt me-4",onClick:E,role:"button",children:"Back"}),y.statusId!==Q.O.statusEnum.value.Completed&&y.statusId!==Q.O.statusEnum.value.Deleted&&(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"btn btn-primary txt fw-bold",onClick:()=>{a(!0),N(!0),v(!1)},children:"Modify"})})]})]})})]}),(0,x.jsx)(wa,{show:i,setShow:d,handleDeleteReminder:()=>(async()=>{d(!1);try{let e=w.guestDetailId,s=l;u(!0);const a=await Ts.deleteReminder(e,s),{title:t}=a;t===o.A.success&&F()}catch(e){r.oR.error(e.message)}finally{u(!1)}})()})]})},Sa=e=>{let{setAdd:s,hideButtons:a}=e;return(0,x.jsxs)("div",{className:"empty-state h-100 d-flex justify-content-center align-items-center  ",children:[(0,x.jsx)("div",{className:"state-header",children:"Add Reminder"}),(0,x.jsxs)("div",{className:"state-info txt-grey",children:["You dont have any reminder added yet,",(0,x.jsx)("br",{})," Create new to get started !"]}),(0,x.jsx)("div",{className:" text-center  ",children:!a&&(0,x.jsx)("button",{className:"btn btn-outline-primary fs-13-px fw-bold  px-3 state-button",onClick:()=>s(!0),children:(0,x.jsx)("span",{children:"Add Reminder"})})})]})},Da=e=>{let{show:s,setShow:a,handleDeleteVisit:t}=e;return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Cancel Visit"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper text-center ",children:[(0,x.jsx)("img",{src:M,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Are You Sure ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once cancelled the action cannot be reversed."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px fw-bold",onClick:t,children:"Confirm"})})]})})};S().extend(J());const Ta=()=>{const e={purpose:"",visitByName:"",description:"",selectDate:"",selectTime:"",remindBefore:""},[s,a]=(0,t.useState)(!1),[l,n]=(0,t.useState)(0),[i,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)(!1),[p,N]=(0,t.useState)(!0),[b,f]=(0,t.useState)([]),[y,A]=(0,t.useState)(e),[I,C]=(0,t.useState)(null),{inquiryDetails:w,hideButtons:k,checkForBookingReqStatus:D}=(0,t.useContext)(Aa),[T,O]=(0,t.useState)(null);(0,t.useEffect)((()=>{R()}),[]),(0,t.useEffect)((()=>{c&&A(b.find((e=>e.visitId===I)))}),[b]);const q=e=>{if(e){const[s,a]=e.split(" ");let[t,l]=s.split(":");return t=parseInt(t,10),l=parseInt(l,10),"".concat(t<10?"0"+t:t,":").concat(l<10?"0"+l:l," ").concat(a)}},P=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;if("remindBefore"===s&&a){const e=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);"00:00"!==e&&A({...y,[s]:e})}else if("selectTime"===s&&a){const e=new Date(a);A({...y,[s]:q(e.toLocaleTimeString("en-Us"))})}else null===e&&A({...y,[s]:e})},F=e=>{const{value:s,name:a}=e.target,t={...y};t[a]=s,A(t)},E=()=>{a(!1),v(!1),u(!1),A(e)},R=async()=>{try{N(!0);let e=null===w||void 0===w?void 0:w.guestDetailId,s=null===w||void 0===w?void 0:w.inquiryInfoId;const a=await Ts.getVisitsDetailsList(e,s),{title:t,data:l}=a;t===o.A.success&&f(l)}catch(e){r.oR.error(e.message)}finally{N(!1)}};return(0,x.jsxs)(x.Fragment,{children:[p?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[s?(0,x.jsx)("div",{className:"reminder-form-wrapper px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Visit Purpose *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:y.visitPurpose,onChange:F,placeholder:"Enter",name:"visitPurpose"})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Visit By (Name) *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:y.visitByName,onChange:F,placeholder:"Enter Name",name:"visitByName"})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Description"}),(0,x.jsx)("textarea",{className:"form-control input-one-line",value:y.description,onChange:F,placeholder:"Enter Comments",name:"description"})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Select Date *"}),(0,x.jsx)(X,{name:"selectDate",value:y.selectDate,onChange:e=>((e,s)=>{if(e){const a=null===e||void 0===e?void 0:e.$d;A({...y,[s]:a})}else A({...y,[s]:e})})(e,"selectDate"),placeholder:"DD / MM / YY",minDate:S()(new Date)})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Select Time *"}),(0,x.jsx)(G.A,{value:y.selectTime?S()(y.selectTime,"hh:mm A"):null,onChange:e=>P(e,"selectTime"),name:"selectTime",format:"hh:mm A",placeholder:"00:00 AM / PM",className:"custom-time-select"})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Remind me Before"}),(0,x.jsx)(G.A,{value:y.remindBefore?S()(y.remindBefore,"hh:mm"):null,onChange:e=>P(e,"remindBefore"),name:"remindBefore",format:"HH:mm",placeholder:"00:00 AM / PM",className:"custom-time-select"})]})})]})}):c?(0,x.jsx)("div",{className:"reminder-form-wrapper px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3 d-flex justify-content-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Purpose"}),(0,x.jsx)("div",{className:"data-desc",children:y.visitPurpose})]}),(0,x.jsx)("div",{className:"status-bg-edited h-50 ",children:y.isEdited?"Edited":""})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Visit By\xa0(Name)"}),(0,x.jsx)("div",{className:"data-desc",children:y.visitByName})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Description"}),(0,x.jsx)("div",{className:"description-data data-desc",children:y.description})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Date"}),(0,x.jsx)("div",{className:"data-desc",children:(0,B.Yq)(y.selectDate,"DD-MMM-YY")})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Time"}),(0,x.jsx)("div",{className:"data-desc",children:y.selectTime})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Remind me Before"}),(0,x.jsx)("div",{className:"data-desc",children:y.remindBefore?(e=>{if(e){const[s,a]=e.split(":").map(Number);return 0===s&&0!==a?"".concat(a," Mins"):0!==s&&0===a?"".concat(s," Hr"):0!==s&&0!==a?"".concat(s," Hr ").concat(a," Mins"):""}})(y.remindBefore):"-"})]})})]})}):(0,x.jsx)("div",{className:"details-cards-wrapper px-3",children:b.length>0?b.map(((e,s)=>(0,x.jsxs)("div",{className:"reminder-wrapper note-wrapper",onClick:()=>(e=>{const s=b.find((s=>s.visitId===e));A(s),O(s),u(!0),C(e)})(e.visitId),children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,x.jsx)("h6",{className:"title fw-bold mb-0",children:e.visitPurpose}),(0,x.jsxs)(W.A,{className:"new-custom-dropdown",onClick:e=>e.stopPropagation(),children:[(0,x.jsx)(W.A.Toggle,{variant:"",id:"dropdown-basic",children:e.statusId!==Q.O.statusEnum.value.Deleted&&e.statusId!==Q.O.statusEnum.value.Completed&&!k&&!D()&&(0,x.jsx)(j.as,{})}),(0,x.jsxs)(W.A.Menu,{children:[(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.LH,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",onClick:()=>(async e=>{try{N(!0);const s=await Ts.updateVisitStatus(e),{title:a}=s;a===o.A.success&&R()}catch(s){r.oR.error(s.message)}finally{N(!1)}})(e.visitId),children:"Mark as Completed"})]})}),(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>(e=>{const s=b.find((s=>s.visitId===e));A(s),O(s),v(!0),a(!0),C(e)})(e.visitId),children:[(0,x.jsx)(j.WR,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Edit Visit"})]})}),(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>{d(!0),n(e.visitId)},children:[(0,x.jsx)(j.Xn,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Cancel Visit"})]})})]})]})]}),(0,x.jsx)("div",{className:"fs-7",children:e.visitByName}),(0,x.jsx)("p",{className:"bind-reminder-desc mb-2 mt-2",children:e.description}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.jH,{})," ",(0,x.jsxs)("div",{className:"ms-1 calender",children:[(0,B.Yq)(e.selectDate,"DD MMM, YYYY")," |"," ",e.selectTime]})]}),e.statusId===Q.O.statusEnum.value.Upcoming&&(0,x.jsx)("div",{className:"status status-bg-yellow txt-yellow",children:"Upcoming"}),e.statusId===Q.O.statusEnum.value.Completed&&(0,x.jsx)("div",{className:"status status-bg-success txt-success",children:"Completed"}),e.statusId===Q.O.statusEnum.value.Deleted&&(0,x.jsx)("div",{className:"status status-bg-danger txt-danger",children:"Cancelled"}),e.statusId===Q.O.statusEnum.value.NoTag&&(0,x.jsx)("div",{className:"status reminder-status-badge"}),e.statusId===Q.O.statusEnum.value.Rescheduled&&(0,x.jsx)("div",{className:"status status-bg-yellow txt-yellow",children:"Rescheduled"})]})]},s))):b.length<1&&!p&&(0,x.jsx)(Oa,{setAdd:a,hideButtons:k,checkForBookingReqStatus:D})}),(0,x.jsx)("div",{className:"buttons-container",children:!k&&!D()&&(0,x.jsxs)(x.Fragment,{children:[(s||h)&&(0,x.jsxs)("div",{className:"w-100 notes-action-btns",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary txt cursor-pointer",onClick:()=>{h?(a(!1),v(!1),u(!0),A(T)):E()},role:"button",children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary txt fw-bold",onClick:async()=>{try{N(!0);const s={inquiryInfoId:null===w||void 0===w?void 0:w.inquiryInfoId,guestId:null===w||void 0===w?void 0:w.guestDetailId,visitPurpose:y.visitPurpose,visitByName:y.visitByName,description:y.description,selectDate:new Date(y.selectDate),selectTime:y.selectTime,remindBefore:y.remindBefore,visitId:h?y.visitId:0},t=await Ts.addVisitsDetails(s),{title:l}=t;l===o.A.success&&(y.visitId?(a(!1),v(!1),u(!0)):(A(e),E()),R())}catch(s){r.oR.error(s.message)}finally{N(!1)}},disabled:""===y.visitPurpose||""===y.visitByName||!y.selectDate||!y.selectTime,children:[p&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),h?"Update":"Save"]})]}),!s&&!h&&!c&&b.length>0&&(0,x.jsx)("div",{className:"w-100 d-flex notes-action-btns",children:(0,x.jsx)("button",{className:"btn btn-primary txt fw-bold fs-13-px",onClick:()=>{a(!0),O(null)},children:"Add Visit"})}),c&&(0,x.jsxs)("div",{className:"w-100 notes-action-btns",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary txt me-4",onClick:E,role:"button",children:"Back"}),y.statusId!==Q.O.statusEnum.value.Completed&&y.statusId!==Q.O.statusEnum.value.Deleted&&(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"btn btn-primary fw-bold txt",onClick:()=>{a(!0),v(!0),u(!1)},children:"Modify"})})]})]})})]}),(0,x.jsx)(Da,{show:i,setShow:d,handleDeleteVisit:()=>(async()=>{d(!1);try{N(!0);let e=null===w||void 0===w?void 0:w.guestDetailId,s=l;const a=await Ts.deleteVisit(e,s),{title:t}=a;t===o.A.success&&R()}catch(e){r.oR.error(e.message)}finally{N(!1)}})()})]})},Oa=e=>{let{setAdd:s,hideButtons:a,checkForBookingReqStatus:t}=e;return(0,x.jsxs)("div",{className:"empty-state h-100 d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"state-header",children:"Add Visits"}),(0,x.jsxs)("div",{className:"state-info txt-grey",children:["You dont have any visits added yet,",(0,x.jsx)("br",{})," Create new to get started !"]}),(0,x.jsx)("div",{className:" text-center  ",children:!a&&!t()&&(0,x.jsx)("button",{className:"btn btn-outline-primary   px-3 state-button",onClick:()=>s(!0),children:(0,x.jsx)("span",{children:"Add Visit"})})})]})},qa=()=>{const e=[{id:"notes",title:"Notes",activeIcon:(0,x.jsx)(j.iJ,{}),inActiveIcon:(0,x.jsx)(j.q4,{})},{id:"reminders",title:"Reminders",activeIcon:(0,x.jsx)(j.eM,{}),inActiveIcon:(0,x.jsx)(j.yH,{})},{id:"visits",title:"Visits",activeIcon:(0,x.jsx)(j.bG,{}),inActiveIcon:(0,x.jsx)(j.Zj,{})}],[s,a]=(0,t.useState)("notes");return(0,x.jsxs)("div",{className:"details-tab h-100",children:[(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 px-3 pt-3 ",children:e.map(((e,t)=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)("span",{className:"nav-link ".concat(s===e.id?"active":""),onClick:()=>a(e.id),role:"button",children:[s===e.id?e.activeIcon:e.inActiveIcon,(0,x.jsx)("span",{className:"ms-1",children:e.title})]})},t)))}),(0,x.jsxs)("div",{className:"tab-content custom-tab-content h-100",children:["notes"===s&&(0,x.jsx)(Ia,{}),"reminders"===s&&(0,x.jsx)(ka,{}),"visits"===s&&(0,x.jsx)(Ta,{})]})]})},Pa=e=>{let{show:s,setShow:a}=e;const[l,n]=(0,t.useState)(!1),[i,d]=(0,t.useState)(null),[c,r]=(0,t.useState)(""),[o,m]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[v,p]=(0,t.useState)(""),[g,N]=(0,t.useState)([{name:"Rajesh Saxena",relation:"Manager",contact:"+91 7654 83473",email:"rajesh.saxena@gmail.com"}]),b=()=>""!==c&&""!==o&&""!==u&&""!==v;return(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:"Point of Contact"})}),(0,x.jsx)(z.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex flex-column justify-content-between align-items-start h-100",children:[(0,x.jsxs)("div",{className:"upper-wrapper",children:[(0,x.jsxs)("div",{className:"default-info",children:[(0,x.jsx)("div",{className:"fw-bold txt-green mb-2",children:"Primary Contact"}),(0,x.jsxs)("div",{className:"row mb-2",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Full Name"}),(0,x.jsx)("div",{children:"Rajesh Saxena"})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mobile Number"}),(0,x.jsx)("div",{children:"+91 99222 45799"})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Email Address"}),(0,x.jsx)("div",{children:"rajesh.saxena@gmail.com"})]})})]})]}),(0,x.jsx)("div",{className:"additional-info-cards-wrapper",children:g.map(((e,s)=>(0,x.jsxs)("div",{className:"additional-info-card",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,x.jsxs)("div",{className:"fw-bold txt-green mb-2",children:["Additional Contact ",s+1]}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("span",{className:"cursor-pointer",onClick:()=>(e=>{const s=[...g];s.splice(e,1),N(s)})(s),children:(0,x.jsx)(j.Ol,{})}),(0,x.jsx)("span",{className:"cursor-pointer ms-2",onClick:()=>d(s),children:(0,x.jsx)(j.j1,{})})]})]}),i===s?(0,x.jsxs)("div",{className:"row mb-3",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Full Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter full name",name:e.name,value:e.name})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Relation"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter relation",value:e.relation})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mobile Number"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter contact",value:e.contact})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Email Address"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter email",value:e.email})]})})]}):(0,x.jsxs)("div",{className:"row mb-2",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Full Name"}),(0,x.jsx)("div",{children:e.name})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Relation"}),(0,x.jsx)("div",{children:e.relation})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mobile Number"}),(0,x.jsx)("div",{children:e.contact})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Email Address"}),(0,x.jsx)("div",{children:e.email})]})})]})]},s)))}),l?(0,x.jsxs)("div",{className:"additional-info-form",children:[(0,x.jsxs)("div",{className:"fw-bold txt-green mb-2",children:["Additional Contact ",g.length+1]}),(0,x.jsxs)("div",{className:"row mb-3",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Full Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter full name",value:c,onChange:e=>r(e.target.value)})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Relation"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter relation",value:o,onChange:e=>m(e.target.value)})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mobile Number"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter contact",value:u,onChange:e=>h(e.target.value)})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Email Address"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter email",value:v,onChange:e=>p(e.target.value)})]})})]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"btn btn-sm btn-outline-secondary w-100",children:"+ Add More"})})]}):(0,x.jsx)(x.Fragment,{})]}),(0,x.jsx)("div",{className:"btns-wrapper justify-content-end w-100",children:l?(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"fw-bold txt-primary",onClick:()=>{r(""),m(""),h(""),p(""),n(!1)},children:"Discard"}),(0,x.jsx)("button",{className:"btn btn-primary ms-2",onClick:()=>{if(b()){const e={name:c,relation:o,contact:u,email:v};N([...g,e]),r(""),m(""),h(""),p(""),n(!1)}},disabled:!b(),children:"Save"})]}):(0,x.jsx)("button",{className:"btn btn-primary ms-2",onClick:()=>n(!0),children:"Add New Contact"})})]})})]})};S().extend(J());const Ba=e=>{var s,a;let{show:l,setShow:n,venueData:i}=e;const[d,c]=(0,t.useState)({}),[u,h]=(0,t.useState)(!1),[v,p]=(0,t.useState)({}),[N,b]=(0,t.useState)({}),{hideButtons:f,guestDetailId:y,inquirySlotId:A,inquiryInfoId:I,getInquiryInfo:C,checkForBookingReqStatus:w}=(0,t.useContext)(Aa),[k,D]=(0,t.useState)(!1),[T,O]=(0,t.useState)(""),[q,P]=(0,t.useState)(""),[F,E]=(0,t.useState)(!1),R={1:"Venue Rental(Auto)",2:"Venue Rental(Custom)",3:"Minimum Revenue"};(0,t.useEffect)((()=>{l&&M()}),[l]),(0,t.useEffect)((()=>{(w()||f)&&E(!0)}),[]);const M=async()=>{h(!0);try{let e;e=i.isFB?await Ts.getFBTypeVenueInfo(I,i.id,A):await Ts.getVenueRentalTypeVenueInfo(I,i.id,A);const{title:s,data:a}=e;s===o.A.success&&(p({...a}),c(a),a.venueRentalType===Q.O.venueRentalType.value.Auto&&W(a))}catch(e){r.oR.error(e.message)}finally{h(!1)}},Y=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;if(O(s),a){const e=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);"00:00"!==e&&p({...v,[s]:e}),U({postBuffer:"postBufferTime"===s?e:v.postBufferTime||"00:00",preBuffer:"preBufferTime"===s?e:v.preBufferTime||"00:00",bookingEndDate:v.bookingEndDateTime,bookingStartDate:v.bookingStartDateTime,startTime:v.startTime,endTime:v.endTime,isBufferRequired:v.isBufferRequired},s)}else p({...v,[s]:null})},L=e=>{p({...v,otherCost:R[e],venueRentalType:e}),e===Q.O.venueRentalType.value.Auto&&W({...v,otherCost:R[e],venueRentalType:e})},V=async e=>{e.preventDefault();let s={infoId:I,detailId:i.id,slotId:A,guestId:y,venueId:i.inquiryVenueInfoId},a={...v,preBufferTime:v.preBufferTime||"00:00",postBufferTime:v.postBufferTime||"00:00",venueName:i.venueName,totalAmount:parseInt(v.totalAmount)};h(!0);try{let e;e=i.isFB?await Ts.updateFBTypeVenueInfo(a,s):await Ts.updateVenueRentalTypeVenueInfo(a,s);const{title:t,detail:l}=e;t===o.A.success?(C(),P("")):P(l)}catch(t){r.oR.error(t.message)}finally{h(!1)}},U=async(e,s)=>{h(!0);try{let a;a=i.isFB?await Ts.getFBTypeCheckInOutDate(e):await Ts.getVenueRentalTypeCheckInOutDate(e);const{title:t,data:l,detail:n}=a;t===o.A.success&&(p({...v,checkInDateTime:l.checkInDateTime,checkInTime:l.checkInTime,checkOutDateTime:l.checkInDateTime,checkOutTime:l.checkOutTime,postBufferTime:l.postBufferTime,preBufferTime:l.preBufferTime}),H(s,l),i.isFB||W({...v,checkInDateTime:l.checkInDateTime,checkInTime:l.checkInTime,checkOutDateTime:l.checkInDateTime,checkOutTime:l.checkOutTime,postBufferTime:l.postBufferTime,preBufferTime:l.preBufferTime,otherCost:R[1],venueRentalType:1}))}catch(a){r.oR.error(a.message)}finally{h(!1)}},H=async(e,s)=>{h(!0);try{let a={venueName:i.venueName,preBufferTime:s.preBufferTime,postBufferTime:s.postBufferTime,isBufferRequired:!0,inquiryInfoId:I,venueDetailId:i.id,slotId:A,guestDetailId:y,inquiryVenueInfoId:i.inquiryVenueInfoId,bookingStartDateTime:v.bookingStartDateTime,bookingEndDateTime:v.bookingEndDateTime,startTime:v.startTime,endTime:v.endTime};const t=await Ts.venueRentalTypeDTO(a),{title:l,detail:n}=t;l===o.A.failure&&b({...N,[e]:n})}catch(a){r.oR.error(a.message)}finally{h(!1)}},W=async e=>{h(!0);let s={preBufferTime:e.preBufferTime||"00:00",postBufferTime:e.postBufferTime||"00:00",detailId:i.id,startTime:e.startTime,endTime:e.endTime,isBufferRequired:e.isBufferRequired,slotId:A,infoId:I,otherCost:R[1],bookingEndDate:e.bookingEndDateTime,bookingStartDate:e.bookingStartDateTime};try{const e=await Ts.getVenueRentalAutoDetails(s),{title:a,data:t,detail:l}=e;a===o.A.success&&(p({...t,venueRentalType:1}),c((e=>({...e,...t}))))}catch(a){r.oR.error(a.message)}finally{h(!1)}};return(0,x.jsx)("div",{children:(0,x.jsxs)(z.A,{className:"venue-info-offcanvas",show:l,onHide:()=>n(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Venue Info"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body h-100",children:u?(0,x.jsx)(g.A,{}):(0,x.jsx)("form",{onSubmit:V,children:F?(0,x.jsx)("div",{className:"offcanvas-body-content p-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-13-px",children:"Venue"}),(0,x.jsx)("div",{className:"display-label-data fs-15",children:v.venueName})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-14",children:"Booking Start Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15",children:[(0,x.jsx)("span",{className:"me-1",children:v.bookingStartDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.startTime})]})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-14",children:"Booking End Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15",children:[(0,x.jsx)("span",{className:"me-1",children:v.bookingEndDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.endTime})]})]}),(0,x.jsx)("div",{className:"col-md-12 border-bottom-venue-info mb-4"}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsx)("div",{className:"info-custom-label",children:"Buffer time"})}),!v.isBufferRequired&&(0,x.jsx)("div",{className:"col-md-12 mb-4",children:"This booking does not include Pre & Post buffer time"}),v.isBufferRequired&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label",children:"Pre-Buffer Time"}),(0,x.jsxs)("div",{children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"ms-2",children:v.preBufferTime||"--"})]})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label",children:"Post-Buffer Time"}),(0,x.jsxs)("div",{children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"ms-2",children:v.postBufferTime||"--"})]})]})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-13-px",children:"Check-In Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15",children:[(0,x.jsx)("span",{className:"me-1",children:v.checkInDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.checkInTime})]})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-13-px",children:"Check-Out Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15 ",children:[(0,x.jsx)("span",{className:"me-1",children:v.checkOutDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.checkOutTime})]})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("div",{className:"info-custom-label",children:"Other costs"}),(0,x.jsx)("div",{className:"mt-2",children:v.otherCost?R[v.venueRentalType]:(0,x.jsx)("label",{className:"form-label",children:"No costs added"})})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label",children:"Total Amount"}),(0,x.jsx)("div",{children:(0,B.wp)(v.totalAmount)})]})]})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"offcanvas-body-content p-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-13-px",children:"Venue"}),(0,x.jsx)("div",{className:"display-label-data fs-15",children:v.venueName})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-14",children:"Booking Start Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15",children:[(0,x.jsx)("span",{className:"me-1",children:v.bookingStartDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.startTime})]})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-14",children:"Booking End Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15",children:[(0,x.jsx)("span",{className:"me-1",children:v.bookingEndDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.endTime})]})]}),(0,x.jsx)("div",{className:"col-md-12 border-bottom-venue-info mb-4"}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsxs)("div",{className:"info-custom-label",children:[" ","Add buffer time"]})}),(0,x.jsx)("div",{className:"col-md-6 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.preBufferTime?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Pre-Buffer Time *"}),(0,x.jsx)(G.A,{format:"HH:mm",name:"preBufferTime",onChange:e=>Y(e,"preBufferTime"),value:v.preBufferTime?S()(v.preBufferTime,"hh:mm"):null,disabled:!v.isBufferRequired,placeholder:"hh:mm",className:"custom-time-select"}),N.preBufferTime&&(0,x.jsx)("div",{className:"input-error-text",children:N.preBufferTime})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.postBufferTime?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Post-Buffer Time *"}),(0,x.jsx)(G.A,{format:"HH:mm",name:"postBufferTime",onChange:e=>Y(e,"postBufferTime"),value:v.postBufferTime?S()(v.postBufferTime,"hh:mm"):null,disabled:!v.isBufferRequired,placeholder:"hh:mm",className:"custom-time-select"}),N.postBufferTime&&(0,x.jsx)("div",{className:"input-error-text",children:N.postBufferTime})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:q&&(0,x.jsx)("div",{className:"text-danger",children:q})}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsx)("div",{className:"",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"Pre & Post",onChange:e=>{p({...v,preBufferTime:"",postBufferTime:"",isBufferRequired:!e.target.checked}),D(e.target.checked)},checked:!v.isBufferRequired}),(0,x.jsx)("label",{className:"pre-post",htmlFor:"Pre & Post",children:"No Pre & Post buffer time"})]})})}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-13-px",children:"Check-In Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15",children:[(0,x.jsx)("span",{className:"me-1",children:v.checkInDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.checkInTime})]})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label fs-13-px",children:"Check-Out Date & Time"}),(0,x.jsxs)("div",{className:"display-label-data fs-15 ",children:[(0,x.jsx)("span",{className:"me-1",children:v.checkOutDateTime}),"|",(0,x.jsx)("span",{className:"ms-1",children:v.checkOutTime})]})]}),(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsx)("div",{className:"info-custom-label",children:"Add other costs"})}),i.isFB?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"col-md-6 mb-4",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"venueRentalCustom",id:"venueRentalCustom",checked:v.venueRentalType===Q.O.venueRentalType.value.Custom,onChange:()=>L(Q.O.venueRentalType.value.Custom)}),(0,x.jsx)("label",{className:"form-label",htmlFor:"venueRentalCustom",children:"Venue Rental (Custom)"})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-4",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"minimumRevenue",id:"minimumRevenue",checked:v.venueRentalType===Q.O.venueRentalType.value.MinimumRevenue,onChange:()=>L(Q.O.venueRentalType.value.MinimumRevenue)}),(0,x.jsx)("label",{className:"form-label",htmlFor:"minimumRevenue",children:"Minimum Revenue"})]})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"col-md-6 mb-4",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"venueRentalAuto",id:"venueRentalAuto",checked:v.venueRentalType===Q.O.venueRentalType.value.Auto,onChange:()=>L(Q.O.venueRentalType.value.Auto)}),(0,x.jsx)("label",{className:"form-label",htmlFor:"venueRentalAuto",children:"Venue Rental (Auto)"})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-4",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"venueRentalCustom",id:"venueRentalCustom",checked:v.venueRentalType===Q.O.venueRentalType.value.Custom,onChange:()=>L(Q.O.venueRentalType.value.Custom)}),(0,x.jsx)("label",{className:"form-label",htmlFor:"venueRentalCustom",children:"Venue Rental (Custom)"})]})})]}),(v.venueRentalType===Q.O.venueRentalType.value.MinimumRevenue||v.venueRentalType===Q.O.venueRentalType.value.Custom)&&(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label fs-14 mb-0",children:"Enter Total Amount"}),(0,x.jsxs)("div",{className:"custom-input ",children:[(0,x.jsx)("span",{children:"\u20b9"}),(0,x.jsx)("input",{type:"number",className:"form-control input-one-line border-0 ",placeholder:"Enter Amount",name:"totalAmount",value:v.totalAmount,onChange:e=>p({...v,totalAmount:e.target.value})})]})]}),v.venueRentalType===Q.O.venueRentalType.value.Auto&&(null===v||void 0===v||null===(s=v.venueRentalAutoDTO)||void 0===s?void 0:s.length)>0&&(u?(0,x.jsx)(g.A,{}):(0,x.jsx)("div",{className:"px-2",children:(0,x.jsx)("div",{className:"venue-rental-calc-table-wrapper ",children:(0,x.jsxs)(Rs.A,{className:"venue-rental-calc-table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"RENTAL TYPE"}),(0,x.jsx)("th",{children:"RATE"}),(0,x.jsx)("th",{children:"PARTICULARS"}),(0,x.jsx)("th",{children:"AMOUNT"})]})}),(0,x.jsx)("tbody",{children:null===v||void 0===v||null===(a=v.venueRentalAutoDTO)||void 0===a?void 0:a.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:e.rentalType}),(0,x.jsx)("td",{children:e.rate}),(0,x.jsx)("td",{children:e.particulars}),(0,x.jsx)("td",{children:e.subTotal})]})))}),(0,x.jsx)("tfoot",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{colSpan:2,className:"ps-2  ",children:"TOTAL AMOUNT"}),(0,x.jsxs)("td",{colSpan:2,className:"text-end pe-4 ",children:["\u20b9 ",v.totalAmount]})]})})]})})}))]})}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:!f&&(0,x.jsxs)("div",{className:"d-flex justify-content-end align-items-center w-100",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>{M(),b({})},role:"button",disabled:u,children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary px-4",onClick:V,disabled:!1===!v.isBufferRequired&&(!v.preBufferTime||!v.postBufferTime),children:[u&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-2"}),"Save"]})]})})]})})})]})})},Fa=e=>{let{data:s}=e;const[a,l]=(0,t.useState)(!1);return(0,x.jsxs)("div",{className:"venue-info",children:[(0,x.jsx)(Ba,{show:a,setShow:l,venueData:s}),(0,x.jsxs)("div",{className:"row mb-4",role:"button",onClick:()=>l(!0),children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Check-In Date & Time"}),(0,x.jsxs)("div",{className:"white-space-nowrap venue-info-value fs-15-px",children:[s.venueCheckInDate," | ",s.venueCheckInTime]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Check-Out Date & Time"}),(0,x.jsxs)("div",{className:"white-space-nowrap venue-info-value fs-15-px",children:[s.venueCheckOutDate," | ",s.venueCheckOutTime]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Pre-Buffer Time"}),(0,x.jsx)("div",{className:"venue-info-value",children:!1===(null===s||void 0===s?void 0:s.isBufferRequired)?"-":s.preBuffer||"-"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Post-Buffer Time"}),(0,x.jsx)("div",{className:"venue-info-value",children:!1===(null===s||void 0===s?void 0:s.isBufferRequired)?"-":s.postBuffer||"-"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Venue Rental Type"}),(0,x.jsx)("div",{className:"venue-info-value",children:Q.O.venueRentalType.text[s.venueRentalType]||"-"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Total Rental Amount"}),(0,x.jsx)("div",{className:"venue-info-value",children:Q.O.venueRentalType.value.MinimumRevenue===s.venueRentalType?(0,x.jsx)("span",{children:s.minimumRevenue?"\u20b9"+s.minimumRevenue+"/-":"-"}):(0,x.jsx)("span",{children:"\u20b9 "+s.totalRentalAmount+" /-"})})]})})]})]})},Ea=a.p+"static/media/add-venue-details-design.a927792fd528a4ee12d9.png",Ra=e=>{let{showModal:s,setShowModal:a}=e;const t=()=>{a(!1)};return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center p-4",children:[(0,x.jsx)("img",{src:Ea,alt:"pending",width:150,height:150}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"No package selected!"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:"Food and Beverage package preference is not selected"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:t,children:"Okay"})})]})})},Ma=e=>{let{packageData:s,venueData:a,loading:l,packageCategory:n}=e;const[i,d]=(0,t.useState)([]),{paxCount:c}=(0,t.useContext)(Aa);return(0,t.useEffect)((()=>{d(s)}),[s]),(0,x.jsx)("div",{children:l?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[i.map((e=>(0,x.jsx)(Ya,{listItem:e,paxCount:c,packageCategory:n},e.id))),0===i.length&&(0,x.jsx)(La,{venueDetailId:a.id})]})})},Ya=e=>{let{listItem:s,paxCount:a,packageCategory:t}=e;const n=(0,l.Zp)(),{Veg:i,NonVeg:d,VegNonVeg:c,Vegan:r}=Q.O.FoodType.value,{Food:o,Beverage:m,FoodBeverage:u,Custom:h}=Q.O.packageTypeEnum.value,{Alcoholic:v,NonAlcoholic:j,AlcoholicNonAlcoholic:p}=Q.O.beveragePreference.value,{id:g,packageTypeId:N,foodPreferenceId:b,beveragePreferenceId:f,foodPackageCategoryId:y,packageCategoryId:A,basePricePerPlateOrPerson:I,jainCount:C,jainCounts:w,inquiryInfoId:k,venueDetailId:S,inquirySlotId:D,packageName:T,platesCounts:O,platesCount:q}=s,P=N===o?"food":N===m?"beverage":N===u?"food-beverage":N===h?"Custom":"";return(0,x.jsxs)("div",{className:"row mb-4 mx-1 package-item",onClick:()=>n("/inquiry-bookings/inquiry-info/".concat(k,"/slot/").concat(D,"/venue/").concat(S,"/").concat(P,"/").concat(g)),children:[(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"label",children:"Package Type"}),(0,x.jsxs)("div",{className:"white-space-nowrap desc",children:[N===o&&"Food",N===m&&"Beverage",N===u&&"Food + Beverage",N===h&&"Custom"]})]})}),y&&t.length>0&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Package Category"}),(0,x.jsx)("div",{className:"desc",children:null===t||void 0===t?void 0:t.find((e=>e.id===y)).title})]})}),A&&t.length>0&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Package Category"}),(0,x.jsx)("div",{className:"desc",children:null===t||void 0===t?void 0:t.find((e=>e.id===A)).title})]})}),b&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Food Preference"}),b===i&&(0,x.jsx)("div",{className:"desc",children:"Veg"}),b===d&&(0,x.jsx)("div",{className:"desc",children:"NonVeg"}),b===c&&(0,x.jsx)("div",{className:"desc",children:"Veg + NonVeg"}),b===r&&(0,x.jsx)("div",{className:"desc",children:"Vegan"})]})}),f&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Beverage Preference"}),(0,x.jsxs)("div",{className:"desc",children:[f===v&&(0,x.jsx)("div",{className:"desc",children:"Alcoholic"}),f===j&&(0,x.jsx)("div",{className:"desc",children:"Non Alcoholic"}),f===p&&(0,x.jsx)("div",{className:"desc",children:"Alcoholic + Non Alcoholic"})]})]})}),(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Package Name"}),(0,x.jsx)("div",{className:"desc",children:T||"Custom"})]})}),(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"No. of Pax"}),(0,x.jsx)("div",{className:"desc",children:O||q})]})}),""!==T&&null!==T&&N===o&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Price per plate"}),(0,x.jsxs)("div",{className:"desc",children:["\u20b9 ",I," /-"]})]})}),""!==T&&null!==T&&N===m&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Price per person"}),(0,x.jsxs)("div",{className:"desc",children:["\u20b9 ",I," /-"]})]})}),""!==T&&null!==T&&N===u&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Price per person"}),(0,x.jsxs)("div",{className:"desc",children:["\u20b9 ",I," /-"]})]})}),C>0&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Jain Preparation"}),(0,x.jsx)("div",{className:"desc",children:C})]})}),w>0&&(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Jain Preparation"}),(0,x.jsx)("div",{className:"desc",children:w})]})}),(0,x.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Add ons"}),(0,x.jsx)("div",{className:"bind-text w-100 desc",children:"2 Starter - Veg, 2 Live Station- Non Veg"})]})})]})},La=e=>{let{venueDetailId:s}=e;const a=(0,l.Zp)(),{hideButtons:n,inquiryInfoId:i,inquirySlotId:d,checkForBookingReqStatus:c,inquiryDetails:r,currentSlot:o}=(0,t.useContext)(Aa),[m,u]=(0,t.useState)(!1),h=[Q.O.inquiryState.value.InquiryCancelled,Q.O.inquiryState.value.BookingConfirmed,Q.O.inquiryState.value.BookingCompleted];return(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center design-wrapper",children:[(0,x.jsx)("img",{src:Ea,alt:"imageNoRecord"}),(0,x.jsxs)("div",{className:"ms-3",children:[(0,x.jsx)("div",{className:"fw-bold",children:"Food & Beverage Packages "}),(0,x.jsx)("p",{className:"txt-light mb-2",children:h.includes(null===r||void 0===r?void 0:r.inquiryStateId)?"No data selected":"Select a per-defined package or create a custom package"}),!n&&!c()&&(0,x.jsxs)("button",{onClick:()=>{o.beveragePreferenceIds||o.foodPreferenceIds?a("/inquiry-bookings/inquiry-info/".concat(i,"/slot/").concat(d,"/venue/").concat(s)):u(!0)},className:"btn btn-outline-primary btn-sm d-flex align-items-center",children:[(0,x.jsx)(j.Is,{}),(0,x.jsx)("span",{className:"ms-2",children:"Add Packages"})]})]}),(0,x.jsx)(Ra,{showModal:m,setShowModal:u})]})},Va="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIhSURBVHgBtVU9SwNBEJ2LsTBgFJJCMBGxSEgqbQxYCWIpCP4B7cRCsfEP2NmZQuxia+EXliJaidpoIUYtREwKC4NJhARNyDlvk73sXfZUDD447nZv9u3Mm9lZgxhlszzYQd6USTTMw176O/ZrVF3uMrqeDJB6yHvVJqGKPJOPGB9mZY8H025W2VKOLnL34g3Ee0IU8w9QyBdwZTaITkFs6n6eM1ny7pBJH7SLJ/uGaXN0gdy89upmk/eHtM4P0N3pEyTSw3Qhw5s+0G0x02K/NjJLM+ExTPV6vyOdG5qgxegU+ZlcRbFS0tqTEruNGDpKI2X3FsiNVFI4MDPQtPeoC1auUk0jF1Kdp7Bf4keFR/UWiYI37ZLaiNONZCQCUStR2Gz+cqOpoQuptJMlCVga3xbqxDGuUwkk6ejlWjwA16fW053MmbCJ9YStOZvGTsQVw9+Er5Ui5AvWJSlkbQZOEh1puhFt3B+25iwpEoGIeOP4QgK1dkHWD925TtWSAqDr+Wv9dEIKjccBQQ7SpJIsCVSKkxTYZX3fqyWxVu0fNo1liKnHY9p5PqOfgKQ1D9Sc7Z+NOBGMWuQr11tikVpCEohq9WabD9SWGEMqZ7fTdje1AqA1wpT6IVE4SLJfuFUIiN9I0+ThKY64W9tMBCO0FJkSUepgfJqVE3Z5nFyADeClbJMIGW3U2fFUmFQ7+LeryYOLDx88sU/tIY8rCVzg/AIbkiJZmF3B8wAAAABJRU5ErkJggg==",Ua=e=>{let{activeAmenitiesList:s,inquiryAmenities:a,show:l,setShow:n,addInquiryAmenities:i,isLoading:d,editMode:c,setEditMode:r}=e;const[o,u]=(0,t.useState)([...a]),[h,v]=(0,t.useState)("");(0,t.useEffect)((()=>{u([...a])}),[a]);const p=e=>{let s=o.filter((s=>s.venueAmenitiesId===e));return s},[g,N]=(0,t.useState)([]);let b=h.length>0?g:s;return(0,x.jsxs)(z.A,{show:l,onHide:()=>n(!1),placement:"end",className:"custom-modal",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:"Amenities"})}),(0,x.jsx)(z.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex flex-column justify-content-between align-items-start h-100",children:[(0,x.jsx)("div",{className:"w-100",children:c?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"search-wrapper w-100 mb-3",children:[(0,x.jsx)(j.WI,{}),(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:e=>(e=>{v(e);let a=null===e||void 0===e?void 0:e.trim(),t=s.filter((e=>e.title.toLowerCase().includes(a.trim().toLowerCase())));N(t)})(e.target.value)})]}),(0,x.jsx)("div",{className:"row",children:b.map((e=>(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"amenity-wrapper justify-content-start mb-3",onClick:()=>(e=>{let s=[...o],a=s.findIndex((s=>s.venueAmenitiesId===e.venueAmenitiesId));-1===a?s.push(e):s=s.filter((s=>s.venueAmenitiesId!==e.venueAmenitiesId)),u(s)})(e),children:[1===p(e.venueAmenitiesId).length&&(0,x.jsx)("img",{src:Va,alt:"green-tick"}),(0,x.jsx)("span",{className:"ms-2",title:e.title,children:e.title})]})},e.venueAmenitiesId)))})]}):(0,x.jsx)("div",{className:"row",children:o.map((e=>(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"amenity-wrapper justify-content-start mb-3",children:[1===p(e.venueAmenitiesId).length?(0,x.jsx)("img",{src:Va,alt:"green-tick"}):(0,x.jsx)("div",{className:"p-2"}),(0,x.jsx)("span",{className:"ms-2",title:e.title,children:e.title})]})},e.venueAmenitiesId)))})}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsx)("div",{className:"d-flex justify-content-end align-items-center w-100",children:c?(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{className:"btn txt-primary fw-bold me-3",onClick:()=>{u(a),r(!1)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary ms-2",onClick:()=>i(o),disabled:o.length<1,children:[d&&(0,x.jsx)(m.A,{animation:"border",size:"sm"})," ",a.length>0?"Update":"Save"]})]}):(0,x.jsx)("button",{className:"btn btn-primary ms-2",onClick:()=>r(!0),children:"Modify"})})})]})})]})},Ha=e=>{let{venueInfoData:s}=e;const[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)([]),[d,m]=(0,t.useState)([]),{hideButtons:u,guestDetailId:h,inquirySlotId:v,inquiryInfoId:p,checkForBookingReqStatus:g,inquiryDetails:N}=(0,t.useContext)(Aa),[b,f]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!1);(0,t.useEffect)((()=>{s.id&&C()}),[s]);const I=async()=>{try{const e=await Ts.getInquiryAmenities(p,v,null===s||void 0===s?void 0:s.id),{title:a,data:t}=e;a===o.A.success&&(0===t.length&&A(!0),m(t))}catch(e){r.oR.error(e.message)}finally{f(!1)}},C=async()=>{f(!0);try{const e=await c.getAmenities(s.id),{title:a,data:t}=e;if(a===o.A.success){let e=t.filter((e=>!0===e.isActive));i(e),I()}}catch(e){r.oR.error(e.message)}finally{f(!1)}};return(0,x.jsx)("div",{children:b?(0,x.jsx)("div",{className:"loader-container bg-custom-white ",children:(0,x.jsx)("div",{className:"spinner-border",role:"status"})}):(0,x.jsxs)(x.Fragment,{children:[a&&(0,x.jsx)(Ua,{activeAmenitiesList:n,inquiryAmenities:d,setInquiryAmenities:m,show:a,setShow:l,addInquiryAmenities:async e=>{f(!0);try{let a={venueDetailId:s.id,inquiryInfoId:p,inquirySlotId:v,guestDetailId:h,venueAmenitiesDTOs:[...e]};const t=await Ts.addInquiryAmenities(a),{title:n,data:i}=t;n===o.A.success&&(A(!1),I(),l(!1))}catch(a){r.oR.error(a.message)}finally{f(!1)}},isLoading:b,editMode:y,setEditMode:A}),0===d.length?(0,x.jsx)(Qa,{setAmenitiesOffCanvasShow:l,hideButtons:u,checkForBookingReqStatus:g,inquiryState:null===N||void 0===N?void 0:N.inquiryStateId}):(0,x.jsx)("div",{className:"display-amenities-group",role:"button",onClick:()=>!u&&!g()&&l(!0),children:d.map(((e,s)=>(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3 text-nowrap ",children:[(0,x.jsx)(j.ni,{}),(0,x.jsx)("span",{className:"txt-light ms-2",title:e.title,children:e.title})]})},s)))})]})})},Qa=e=>{let{setAmenitiesOffCanvasShow:s,hideButtons:a,checkForBookingReqStatus:t,inquiryState:l}=e;return(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center design-wrapper",children:[(0,x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABQCAYAAACK5CKQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvUSURBVHgB7V1bTBvZGf7PjGd8BcwdkjSBKCRaNpuFSnuRVm1AW1XKU1hp1VaqqpB96lOTqH0PPFVVKy156FMflqhSK7UPm1Z9qnYVom2rqDdokoZcSDC5cA/YAePrzNn/P/YY2/iObYzNJ41mfGbGHn/+7+diBnuEu48XBmRgfUxibwPnA5wxJ+6dOb8BhynGwK1zfksHmAhv+qf6+7vdsEdgUCZMTs46FbtlSJalsxxgKBVpiiKBLNHGQDHJCedCYU3sg7gPhfSUn4FfZkLT+fWQBhP9b3S6oIwoOZFC8iR2Hj9qOJ48Is1uUcFqVcGiKqAqMkhS7o/jD4QFuVv+IAQCIfD6QgnnDVJPn+wchzKgZEQSgSbGrqL0DRhtNqsCdXYLbuYdErdb6DpHMoOw4fWDZ8O/fYKBS9f4aKkJLTqRyQQyNGTOeis0NdgA1RrKAU3TwYeSurLuRTMQMQmlJrRoRE5OL3RZFPZZPIFm1YSbLI7LjXqUfLtNRQkNwLrHu636SCiq/MW3ejonoIgoyjd8MLt8CVVrhGzgXhNoQFVM0Oy0xV57NnwJEsqBjQc3tq4Uy9Pv6puSJ7bUWT83pFBBh2GzKHtKoIFkIg08X3TDJkqpAEpnIMgHi+HhCzZa9x4t95nrrZNEIhFnR+9LWyWQmAk2jBTqHZZIhMChy6yw2fuPFy/DLlEQkdOzyxckmd+kB6GYr85hFtK4H4BhqiCRyLSYlUgjg0+nnyxdhV0gb/ER9lDTx+jYWW8DBxr0SgRJnizv/Hrk0bf82zGnH2PQVbSdBLKbb55ovwgFIC8i6VfjHJ0KoqXRDq1NDqgGUHA/N7+OsaheMJk5E1mtJBqgLInIJK9eCJk5EXn/4csh1JPP6bgaSTRAZD59viYkE7g01tvTdiXXe7MSSYG2WZUmKUasZhINxKs5iuaV3p6OsVzuy0hkhEQmvDOleO0tdVALoOB9fvm1ONY4H8wlC8oY/qiKdJVIpAJDrZBIaKiL1AYIGN59RolHtnvSEnnv0cIwAz4sYeB17HAj1BpIcCjBIEFS62yfZrs+JZGk0pLMRIDa0eIoeslrv6CzrR5IkEigqKqV6dqURBoqTXVDEvNaBQlQGzpYQjYVNyU3kDTSL0DHVMVxxxdJKwSUJtttZtElEY9gKIxZSxiKCYY1VEp/Mb7sUh0WyslHUl6X3HB/ZgnjRT5EJFotClQqrJgCOussCW2U6hl9O8VEOKzD5hZVjJg7sLHVnar0lqDaETvAhyipN5tNsN9A3Q2lgMkkgUlU97kzKpU7kECkxKQLtCfbIFV4OazcMCpFjEmXUtnKGJEJtnEfSmOpES+VZod1OPl8jEhFYUJkVbXypZGez5yi/km9lKUE+Q0BBueTz8UYu/9kcZZCnmOHGvGBKrPGuNfATjOYmVsVeXhy6igkUjiZaCp4QGJ6ULhlRApSXH999LXoOh2ifalVoxpASQqBgZSg3oJIJPos7Z01nMXkCtJYShuB8b547y1NzuILDn3GRQfIDntUc2lQmNEmyZo6QAcHap07qGONIEm8z2gzyVzqI99NI8Li4XoYgunJIPi34ABRdJ0yQf8HZgzOo2EQl88a50zoaN6mA1tctyoR+Ptfb8ABEjH5D9oCcOGn0SI3gy7jnEm8wBRVlbcD3Jt/9on9qXd0aGwvTf663xD0M7j7N0lo6rPHGihWURFyPp1fP3b8UOMcyijrojJw/EgJvy8yIvbUOxzsDQdERsBhfYnB7F0G7lcaOI9KEAINvF5/N56ck4xRtPmMlj0AiNF2BMYj6i2sZrauBK+HwX+/kFC8oaj49seoIubEthePGDz8V3kGpHodIfjjN12wroTg/WADnJlsA/umkvUZNY1jETmx7plTmefpHSa+YLHx/KEEx88kDqx/8UiC5Wfl0Y4vzs0LEgm3VQ/cfs8Dx2ecCYSSOrcdTTRvYU1DRY60MRYvkUp5JKDSoAZ3auLTE26xGYTmOmBPEKnptelQbBvpFdIg9JXUAMNaM7TLmRMW8U66VptENq5Zsl7zle6Br1Y88KG1AY5rrdhiTnldTjbyyEmOdqu4ZCv4HdqP7XxPil29nvKYGsVhgds5XvulzwNfkg1tdsJ3nF2xkcloKl20j0ikrmd8EwrKP/xh8Xvn9vqzvFyG8aW8bhHqftE7Bd8FJ3zf1gTtoIoeRcxsmBttpJN64GotlrQzCW2fCZa0/PvC/+p1i61ZUijfvmFC2SRGnTTA0uj0cjbL4F7V4fZfJMxsoKrRdtQBS22FzxB5pYcud/395nUT6PwWVna7fMFQjMhzP7CLosXys/Ko2F5C1dBYt8HuEAS3iTNwkUIHAije0aJG5zdk+ORn9bD4PIxltOr26P9kIfgPX4SCwMENTB91DQ66TBrTp0wggz+YaCecLRJu1V8xbwk44Rf/zusW+F5jK/QzC7ylWq73njgkRvRKmhycoAOaqqvXYGB+xGyBelN+AyKauIQk2pAvNmW0Sf3d3SieMEXZDc05qUUcNmcPzOPx29cr6OlDIGswYbSJyBc5vEX7DWOOXo3hvfr8QhMvxt2XVl3uc4sPYu5eEImVjBu0p0HotYgjlvwkkrDJdaekyLFpd3FDVpbWqcjb0VqPHWH7exAVpW9U8ZdTJBhU/qIpIPF4sOWFj6fvJLR1KCr8qK0DfvnyGWT+LP3ikw8Gx2OMcV2/hg9wdc3jjXU37meQMDQ27JxmvObxiZG98XCkcLI/7+yGHosV5hp98If1FUgHDowym/FYdSBo8gs3TiuYGEXL/Yx8AhCHJEO/dXsi1ifNHYJEwk9aD0OPOc0IFIwj9SAfpcME2b8/s3gTdwPUbxubgrtPkW7i+yv31g6JJCyEgjAT8EVItTl2nLs49xA29e1MD3+nKR7SP6JgnF4nGEON81GZsYFAUBNjASt9Ensx0Yk2kbZ0537sbIdfrc1HGrh+bfZbgwlDoBMKf9HxfhOk2oFgcWcHlBup5moTpAJKnWFNhwG1Dn7T0u16X7X2P00ikbDDPcdLZVtT3b7szyFNMqVZGqex3pZStTNh7uW62HfIyvXfvfvuVMrPTNV4b2ZxDB/jEo1OoxG8tYw1zxYsrYrhO67eEx3d6a5L+bOFZN8IFXy3fEHxRrUKmrOzshZZpgHrEKOZrk1JJOXfYR4WM+hX1zZLMgloP8CYt82AjWdbwSqtATxz4vANDMauUzHjxaK75ipDq9uLLbkgpI9muz6jJwkofvJOLkqpFldrZ5gfmbMV1ESCrksfvZHDAksZiSQVZyE+SPbSWBKr2kFCE3UulOGNnj7ZNpXLfVljG/o14u1lNZNprLRCIBLf7OkcyfXenFOXe4/nL0tMEjPpW5oc0Bqdx1wtIEl8seSO2EX0Db0nO4fzuT/naPt0z6Ex+pXouNok01hZpVASCXkn0/9/vDBC5TY6psk71jKX3Gg1wFTzyGk10+Q6Yy6gLMf9OlrQLpBEQkFVCVo4RJJRzbEQTMVTOxJaromg6ao6y682Qcsy9CYZPn8oVlPI1yYmo6BEmoJTFtT78ZBWBxXrMeabv+4lKCamtXhjhRkOV3ZDIqHgigR5cxEaoTrQg235QmIFZr3Ci8LUU0qdfFpkKKML48T+XFebyoRdlXaITLIpOtevUKwZxIoRSWcldutSKez1pl/Y0UgPgH4tsOHrzzVOzIaiGbbp6YUuLsMIGkuxnAONbKNKu8OWfw9dJtB72lPMmaTFO6j0lwz6Uan4QkRG4cJSYWUuVhyPOzMvh0wgU7zZRa+NOeCtTfayLcREpmYdMzHSDiIxAuZGURwthhqnQslcrfDsEekcMNqI0IY6i5CoUizo/hodCJFHS2VvD55lbo5dA8FN/1gp/8uhPH8xwGEYdf08LaxhtBuSSrNyVTymzrZ8BrpSOkexI3lesnvbkhfDBHqUa72nDt+AMqDsf3ohCUJJSnf+6QVNKDdmnqpJEksxIpFH4VYolLY+OoGhzJ8Cm77xcv+TyJ51Exp/w4Le/iww3mVMvs8DLnz8KVTb/1XC37B8DbKwI430O11rAAAAAElFTkSuQmCC",alt:""}),(0,x.jsxs)("div",{className:"ms-3",children:[(0,x.jsx)("div",{className:"fw-bold",children:"Amenities"}),(0,x.jsx)("p",{className:"txt-light mb-2",children:l===Q.O.inquiryState.value.InquiryCancelled?"No data selected":"Select a amenities that are required for your booking"}),!a&&!t()&&(0,x.jsxs)("button",{className:"btn btn-outline-primary btn-sm d-flex align-items-center",onClick:()=>s(!0),children:[(0,x.jsx)(j.Is,{}),(0,x.jsx)("span",{className:"ms-2",children:"Add Amenities"})]})]})]})},Wa=e=>{let{venueInfoData:s={}}=e;const a=(0,l.Zp)(),[n,i]=(0,t.useState)([]),[d,m]=(0,t.useState)(!1),{hideButtons:h,guestDetailId:v,inquirySlotId:j,inquiryInfoId:p,checkForBookingReqStatus:g}=(0,t.useContext)(Aa),[N,b]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(s.id){const e=async()=>{let e=s.id;m(!0);try{let s=(await Promise.all([Ts.getFoodPackageList(p,j,e),Ts.getBeveragePackageList(p,j,e),Ts.getFoodBeveragePackageList(v,j,e)])).filter((e=>"Success"===e.title));const a=s.reduce(((e,s)=>[...e,...s.data]),[]);i(a||[])}catch(a){console.error("Error fetching data:",a)}finally{m(!1)}};e(),f()}}),[j,s]);const f=async()=>{try{const e=await c.getFoodPackageCategory(),{title:s,data:a}=e;s===o.A.success&&b(a)}catch(e){r.oR.error(e.message)}},[y,A]=(0,t.useState)(["0","1","2"]);return(0,x.jsx)("div",{className:"venue-details",children:(0,x.jsxs)(q.A,{activeKey:y,onSelect:e=>{const s=y.indexOf(e),a=[...y];-1===s?a.push(e):a.splice(s,1),A(a)},children:[(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:"Venue Info"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(Fa,{data:s})})]}),s.isFB&&(0,x.jsxs)(q.A.Item,{eventKey:"1",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:"Package Info"}),(0,x.jsx)("div",{className:"line"}),n.length>0&&!h&&!g()&&(0,x.jsx)("div",{className:"btns-wrapper",children:(0,x.jsxs)("button",{className:"btn btn-outline-primary px-2 py-1 btn-text fs-12-px",onClick:()=>a("/inquiry-bookings/inquiry-info/".concat(p,"/slot/").concat(j,"/venue/").concat(s.id)),children:[(0,x.jsx)(u.FW,{color:"#7D63EC"})," Add"]})})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(Ma,{venueData:s,packageData:n,loading:d,packageCategory:N})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"2",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:" Amenities"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(Ha,{venueInfoData:s})})]})]})})},za=e=>{let{tabList:s,setActiveVenueId:a}=e;const[l,n]=(0,t.useState)(null),[i,d]=(0,t.useState)({});return(0,t.useEffect)((()=>{n(s[0].id)}),[s]),(0,t.useEffect)((()=>{const e=s.find((e=>e.id===l));d(e),a(l)}),[l,s]),(0,x.jsx)("div",{className:"venue-info-wrapper",children:(0,x.jsxs)("div",{className:"venue-tabs",children:[(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3",children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,x.jsx)("li",{className:"nav-item",onClick:()=>n(e.id),role:"button",children:(0,x.jsxs)("a",{className:"nav-link ".concat(e.id===l?"active":""),children:[(0,x.jsx)("span",{className:"me-1",children:e.id===l&&(0,x.jsx)(j.vO,{})}),e.venueName]})},s)))}),(0,x.jsx)(Wa,{venueInfoData:i})]})})},Ga=e=>(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsxs)("div",{className:"slot-label",children:[(0,x.jsxs)("span",{children:["Slot ",null===e||void 0===e?void 0:e.index,":"]})," \xa0\xa0"]}),(0,x.jsxs)("div",{className:"d-flex align-items-center ms-2",children:[(0,x.jsx)(j.jH,{}),(0,x.jsxs)("span",{className:" me-1 ms-1 slot-date",children:[(0,B.Yq)(e.bookingStartDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.startTime,"\xa0-"]}),(0,x.jsx)(j.jH,{}),(0,x.jsx)("span",{className:"me-3 ms-1 slot-date",children:(0,B.Yq)(e.bookingEndDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.endTime})]})]}),Ka=e=>(0,x.jsxs)("div",{className:"d-flex item-template-custom",children:[(0,x.jsxs)("div",{className:"slot-label",children:[(0,x.jsxs)("span",{children:["Slot ",null===e||void 0===e?void 0:e.index,":"]})," \xa0\xa0"]}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.jH,{}),(0,x.jsxs)("span",{className:"slot-date",children:[(0,B.Yq)(e.bookingStartDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.startTime,"\xa0 - \xa0"]}),(0,x.jsx)(j.jH,{}),(0,x.jsx)("span",{className:"slot-date",children:(0,B.Yq)(e.bookingEndDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.endTime})]})]}),Za=e=>{(0,t.useRef)();return(0,x.jsx)(Ee.V,{className:"slot-dropdown-wrapper-container",fields:{text:"text",value:"value"},...e,itemTemplate:Ka,valueTemplate:Ga,cssClass:"slot-dropdown-wrapper"})},Ja="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQgSURBVHgBbVRbTJtlGH7+U1v6l7W05dAWxm8wBISF4hY2xxKKV1MvJF4Ys0SJMSZcEOOFXqmJV+7WC43xii0mLl6YsMQtU6J06LgwYMso47C1FLoeaKHn/v3Pvx9LMG7Zm3xfvvf78j7v4XnyUXiOXQ0NhK7MfDzdPRwMUTQtPFi4hbWlX6L5cjl6cWzs5vmrN+afjaH+78wIgsB7uLkuvz/00WdfgHPwoKwOiPkUFq5/B0NvosMvQH1EJV0lfnL0ztfJk1j65BC78m1w1PdyZC9XCekWHrdvL6BeqiK1uYH1tR38c38HuZqBVPYAsl0WeAsXib3+afApoM2ZGwJrsy0q0F0tTh5DZ0cREHpgGE0Ypo6t9GO8NDGB6Po2dvf2kcjuHIe5DAqLkakvhWOHfdKfqixSpu4qNisY6B/C5fFxFMslsAyLQFc73nv7LcCQkFhZw4N4HH6nA3qfBova4jI1aY5ATNLbsz9OmbQuqJoEZ5sVNitwlNlHeT+Fg0QazaaGWjoNs9rApclL0EgTukl2hgZLkYZ0M7R5+ZMQrZnUmyy55HgOtLWB9VQWNo8bxaM6DK4F0sEhMtkUTI7GajqPkcHT8AUCUCkVKkuBYhnQNDPNypIc5BgddSMPq1XDejyB5dgOXjkzhFarHfDY4bUHkHwYRyaZxLmONuRrEjRSDMsQII6CqRkhmtXpIKWZiB/GyKMFLCn7q2++R2wvgSNORU1qYju2hb9XVhDscYGmKNj5VmiMCJgGTF0DY2EFVieIRbmGTCGLu4kNOCgG9UaN0L2K5eUlOO08hsfOooUxsV8owk1r4OytqJk1tLA+0CYHk3BGCtCSpxhOcHGdqKsR9PnbIcoievydsNgdGBg8A56ANdJ7IKNE7bAAe7sOzeGCLqpk2IAmK1HWULS7jM0iDPvO4aKyCUlV0N/TDVmRcOHCBFo9XlRrdRyQBUlEnrDXTmRRkHcRpxn0Mm4wmhllec52TTXr0yVjFzpJcD99hGHWgodL93BnbRd9gW6ITZGoPAMqn0ejqkDU6vDpJpr+OvQXfPhjefUmPXjt3fBvjd/DyeYGvF1OVCQFCslULJbhMBR4bDS8FhP1XB6ZsgjDykOhWPBtp6BKMnRZTf4c/nP+ibJtbY73s7lqJHNYcL36YgcaLA2DMHm6swvxjQ1YtAa8tAr3KSskwtqeqMFTqcHZ5S7rjcbkMQZzvN1aiZZNsfTrG+eH3rF7fbb9dA66xweX24t08hFU0lqDKPqoIoGjDGwelFESzfJwr2dydm5+6z+gY0uKRm603fHTVvzxlOzxuwK9AlpoGmqxAFfAj8RhBR08i6pKQVPU8E6p/NoPkeTWc/+jE/t89oMpq05NOezWkXt/LQUbBCxXFZMjntbweL/v+ofzK+FnY/4F2tLtchGC1EIAAAAASUVORK5CYII=",Xa=e=>{let{inquiry:s}=e;const{InquiryActive:a,InquiryActiveWaitList:t,InquiryActiveNewBookingOverlap:l,InquiryActiveVenueNotOperational:i,InquiryActiveVenueClosed:d,InquiryActiveVenueInactiveOrDeleted:c,InquiryActiveTentativeBlock:r,InquiryCancelled:o,InquiryDisposed:m,BookingConfirmed:u,BookingConfirmedModified:h,BookingCancelled:v,BookingCompleted:p}=Q.O.inquiryState.value,{inquiryStateId:g}=s;return g===t?(0,x.jsxs)("div",{className:"waitlist-alert px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.uu,{}),(0,x.jsxs)("div",{className:"ms-2",children:["You are put on Waitlist and your booking request is pending approval.",(0,x.jsx)(n.N_,{className:"txt-primary text-decoration-none label ms-2",to:"/inquiry-bookings/".concat(s.inquiryInfoId,"/booking-request/booking-details"),children:"View Details"})]})]}):g===l?(0,x.jsxs)("div",{className:"inquiry-cancelled-alert px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"A new booking has been confirmed which overlaps your booking time."})]}):g===i?(0,x.jsxs)("div",{className:"inquiry-cancelled-alert px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"Venue Not Operational for your inquiry date and time."})]}):g===d?(0,x.jsxs)("div",{className:"inquiry-cancelled-alert px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"Venue closed for your inquiry date and time."})]}):g===c?(0,x.jsxs)("div",{className:"inquiry-cancelled-alert px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"Venue has been Deleted/made Inactive. Please change the venue to proceed."})]}):g===r?(0,x.jsxs)("div",{className:"waitlist-alert px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.uu,{}),(0,x.jsx)("div",{className:"ms-2",children:"Tentative Block has been added till 14 August 2023 | 02:00 AM"})]}):g===o||g===m||g===v?(0,x.jsx)("div",{className:"inquiry-cancelled-alert mb-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)("label",{className:"mb-1 label ",children:[g===o&&"Inquiry Cancellation Reason",g===m&&"Inquiry Dispose Reason ",g===v&&"Booking Cancellation Reason"]}),(0,x.jsx)("div",{className:"desc",children:s.reason})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"label mb-1",children:"Cancelled On"}),(0,x.jsx)("div",{className:"desc",children:s.lastModifiedOn?(0,B.Yq)(s.lastModifiedOn,"Do MMM, YYYY"):(0,B.Yq)(s.createdOn,"Do MMM, YYYY")})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"label mb-1",children:"Cancelled By"}),(0,x.jsx)("div",{className:"desc",children:g===v?s.cancellationBy:s.updateBy})]})}),g===v&&(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"label mb-1",children:"Approved By"}),(0,x.jsxs)("div",{className:"desc",children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),s.updateBy]})]})})]})}):void 0},_a=()=>(0,x.jsxs)("div",{className:" inquiry-disposed ",children:[(0,x.jsx)("img",{src:rs,alt:""}),(0,x.jsx)("h5",{className:"fw-bold",children:"Inquiry Disposed"})]}),$a=a.p+"static/media/no-inquiry.fbf31ee1e6851d60da1c.png",et=e=>{let{inquiry:s}=e;return 1===s.bookingStatusId&&1===s.inquiryStateId?(0,x.jsxs)("div",{className:"booking-request-pending mb-3",children:[(0,x.jsx)(j.uu,{}),(0,x.jsx)("div",{className:"label",children:"Your booking request has been sent and is pending approval."}),(0,x.jsx)(n.N_,{className:"txt-primary text-decoration-none label",to:"/inquiry-bookings/".concat(s.inquiryInfoId,"/booking-request/booking-details"),children:"View Details"})]}):4===s.bookingStatusId?(0,x.jsxs)("div",{className:"booking-request-approved mb-3",children:[(0,x.jsx)(j.lB,{}),(0,x.jsx)("div",{className:"label",children:"Your booking request has been approved."}),(0,x.jsx)(n.N_,{className:"txt-primary text-decoration-none label",to:"/inquiry-bookings/".concat(s.inquiryInfoId,"/booking-request/booking-details"),children:"View Details"})]}):2===s.bookingStatusId?(0,x.jsxs)("div",{className:"booking-request-rejected mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"label",children:"Your booking request has been rejected."}),(0,x.jsx)(n.N_,{className:"txt-primary text-decoration-none label",to:"/inquiry-bookings/".concat(s.inquiryInfoId,"/booking-request/booking-details"),children:"View Details"})]}):(0,x.jsx)("div",{})},st=e=>{let{show:s,setShow:a}=e;const t=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:Xe,alt:"pending"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Warning !"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:"You need to Cancel the booking request to make any changes to the inquiry"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:t,children:"Okay"})})]})})},at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPPSURBVHgBdZTvT1tVGMe/9663pYXRW6CjyFZb5tYlTNZpxiCSWLMXhgUQNZqYaMicmf4DLJkvNZAYY3BiskgwLHvjKw2TGMJgKSaMOJgpo+hkDriwjraUX7Xltmvv7eM5Td3ixp7kyU3uvc/nfM/3POcBdgki8rEcYLlEjyNQeNe+W43wBMDFHgOLs9O+2J1pZCMLyKZ3gJyA3B4JZK1E/VsfodReqbD/XhMEQXkKxCDeTCbrv9TzpXx35Ae4q+14+ZgXpbYKZElAcPYm7t+PwWjZi4oTp/DemXPbVquVw2YegbiSRCIRuHZ9Qu7/6jMcl7OodpSh3LgH9spKJLc2sJ4lZJMJrKUFLCZFLMc1DA79vG2V5eNcmVgQ5O/v/16O/HED1UICWvohgvfWEU/p2IhFEI5tIq4Cc8oGzJKICrOE5ioNF3t6ZG4FB4jcvJWVFVfPN1/DLqZQYhLhfq4MjR479HQCmZSKNMtyKYMGTxWKjUbYy0pxsLoc40ODmL45xQ/GxxW90d3djVw2h5QmQjIIMBoAudgMU1ExikrtKCmRYWIAyWSCliNIbMtbqo67oQjGxka5oA4O8gaDQeaTBnvtSZhtDoTD/+Cv1W3cW43jzmoSy1EVMwsxhNfjTF0aJJoxtJjEQ12H//oYB/kMHBQIBCDLVni8L+HW7EkIt69hU82hobkNbs8hxFbCmJmagKapMIg5JGU3ak/UQCwuh+/VVzjIZcgbJbItmQwos1nx+ukWXAn4sc8iQZkaRyg4ByOpMCOD6I4GVdNgqymBs8qG082nsH+/M39afGuK0+nM94GJeeB+3oW2j8/j9oONfHOYTDpy0KBsqJiPbiGlC9hRd3D0qAeOqn0wmvJaZjjo15aWFmhZHbqeg7KsoK//CgQtB38oASWewXRMx1xEhU0CU+LA6MhVCGwRg8EAo/Ex6HJbWxuDELq6utHa2oqiYhva334XDokwv7SCrfUIavYSPBUWvOhrgdv9As6e/RChUIh5y1sJVw2sK8dZH4x3dHT4ent72UoCDjgPoP7NT+CwWzE/+mPeAd4Kx945B6nchcNH/sbwyC8YHh5GU1OTwmoGH13WLRYNDQ1ksVio+4uLFJyP0nYiS4HxEfrp2y5ai0bpQWiNfr81S+9/cIYaGxuJ1xQu+v9uvpd/6OzspAuffk7BP0N06bsBOnS4jg7W1NL5zgu0uKDQTCBIfX19tLm5ySFePGMOufgMSqUytLQcpsnJSaqrqyfPkTq6MfEbRSJrlEjs8Nnkf0rJM4DtLC8Xhtl/sVQYbL7dav4Fgvj6DwliiHQAAAAASUVORK5CYII=",tt=e=>{var s,a,l,n,i,d;let{show:c,setShow:r,data:o}=e;const[m,u]=(0,t.useState)({bookings:[],bookingRequests:[],ongoingInquiry:[]}),[h,v]=(0,t.useState)("");(0,t.useEffect)((()=>{var e,s;const a=null===o||void 0===o||null===(e=o.booking12Hours)||void 0===e?void 0:e.filter(((e,s,a)=>s===a.findIndex((s=>s.inquiryInfoId===e.inquiryInfoId)))),t=null===o||void 0===o||null===(s=o.booking)||void 0===s?void 0:s.filter(((e,s,a)=>s===a.findIndex((s=>s.inquiryInfoId===e.inquiryInfoId))));u({bookings:[...null!==a&&void 0!==a?a:[],...null!==t&&void 0!==t?t:[]],bookingRequests:(null===o||void 0===o?void 0:o.bookingRequest)||[],ongoingInquiry:(null===o||void 0===o?void 0:o.ongoingInquiry)||[]})}),[o]);const p=e=>S()(e,"DD-MM-YYYY").format("DD MMM YYYY");return(0,x.jsxs)(z.A,{className:"custom-alerts-offcanvas ",show:c,onHide:()=>r(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Alerts"})}),(0,x.jsx)(z.A.Body,{className:"",children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"alert-accordion",children:(0,x.jsxs)(q.A,{className:"d-flex flex-column gap-4",onSelect:e=>{v(e)},children:[(0,x.jsxs)(q.A.Item,{eventKey:"0",className:"".concat("0"===h?"active-accordion-item":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("div",{className:"fw-bold me-2 txt-black",children:["BOOKINGS",(0,x.jsxs)("span",{className:"request-count",children:["( ",null===(s=m.bookings)||void 0===s?void 0:s.length," )"]})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"alert-item-container",children:null===(a=m.bookings)||void 0===a?void 0:a.map(((e,s)=>(0,x.jsxs)("div",{className:"alert-item mb-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-2",children:[(0,x.jsxs)("h6",{className:"inquiry-id mb-0 me-2",children:["E-ID : ",e.inquiryInfoId]}),(0,x.jsx)(ra,{id:e.inquiryStateId})]}),(0,x.jsxs)("div",{className:"mb-2 event-name",children:[e.inquiryPurpose,(null===e||void 0===e?void 0:e.brideName)&&(null===e||void 0===e?void 0:e.groomName)&&(0,x.jsxs)("span",{children:["- ",(null===e||void 0===e?void 0:e.brideName)+"&"+(null===e||void 0===e?void 0:e.groomName)]}),(null===e||void 0===e?void 0:e.companyName)&&(0,x.jsxs)("span",{children:["- ",null===e||void 0===e?void 0:e.companyName]})]}),2===e.messageColorType&&(0,x.jsx)("div",{className:"alert-in-alerts fw-bold txt-danger bg-red",children:e.message}),1===e.messageColorType&&(0,x.jsx)("div",{className:"alert-in-alerts fw-bold txt-yellow bg-yellow",children:e.message}),(0,x.jsx)("hr",{className:"txt-grey"}),(0,x.jsx)("div",{children:null===e||void 0===e?void 0:e.inquiryAlertSlotDTO.map(((e,s)=>(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-auto pe-0",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.lq,{})," ",(0,x.jsxs)("span",{className:"fs-7 txt-darker ms-1",children:[p(null===e||void 0===e?void 0:e.bookingStartDate)," -"," ",p(null===e||void 0===e?void 0:e.bookingEndDate)]})]})})}),(0,x.jsx)("div",{className:"col-auto pe-0",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsxs)("div",{className:"fs-7 txt-darker ms-1",children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]})]})})})]},s)))}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-12-px ",children:"Guest Name"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("span",{className:"ms-1 text-nowrap data-desc",children:e.guestUserName})]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Source"}),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("span",{className:"text-nowrap data-desc",children:e.inquirySource})})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:"leadOwner"}),(0,x.jsx)("div",{className:"ms-1 text-nowrap data-desc",children:e.assignedTo})]})]})})]})]},e.inquiryInfoId)))})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"1",className:"".concat("1"===h?"active-accordion-item":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("div",{className:"fw-bold me-2 txt-black",children:["BOOKING REQUESTS"," ",(0,x.jsxs)("span",{className:"request-count",children:["( ",null===m||void 0===m||null===(l=m.bookingRequests)||void 0===l?void 0:l.length," )"]})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"alert-item-container",children:null===(n=m.bookingRequests)||void 0===n?void 0:n.map(((e,s)=>(0,x.jsxs)("div",{className:"alert-item mb-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-2",children:[(0,x.jsxs)("h6",{className:"inquiry-id mb-0 me-2",children:["E-ID : ",e.inquiryInfoId]}),(0,x.jsx)(ra,{id:e.inquiryStateId})]}),(0,x.jsxs)("div",{className:"mb-2 event-name",children:[e.inquiryPurpose,(null===e||void 0===e?void 0:e.brideName)&&(null===e||void 0===e?void 0:e.groomName)&&(0,x.jsxs)("span",{children:["- ",(null===e||void 0===e?void 0:e.brideName)+"&"+(null===e||void 0===e?void 0:e.groomName)]}),(null===e||void 0===e?void 0:e.companyName)&&(0,x.jsxs)("span",{children:["- ",null===e||void 0===e?void 0:e.companyName]})]}),(0,x.jsx)("hr",{className:"txt-grey"}),(0,x.jsx)("div",{children:null===e||void 0===e?void 0:e.inquiryAlertSlotDTO.map(((e,s)=>(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-auto pe-0",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.lq,{})," ",(0,x.jsxs)("span",{className:"fs-7 txt-darker ms-1",children:[p(null===e||void 0===e?void 0:e.bookingStartDate)," -"," ",p(null===e||void 0===e?void 0:e.bookingStartDate)]})]})})}),(0,x.jsx)("div",{className:"col-auto pe-0",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsxs)("div",{className:"fs-7 txt-darker ms-1",children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]})]})})})]},s)))}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-12-px ",children:"Guest Name"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("span",{className:"ms-1 text-nowrap data-desc",children:e.guestUserName})]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Source"}),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("span",{className:"text-nowrap data-desc",children:e.inquirySource})})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:"leadOwner"}),(0,x.jsx)("div",{className:"ms-1 text-nowrap data-desc",children:e.assignedTo})]})]})})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Requested On"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.lq,{})," ",(0,x.jsx)("span",{className:"fs-7 txt-darker ms-1",children:e.createdOn||"-"})]})]})})})]},e.inquiryInfoId)))})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"2",className:"".concat("2"===h?"active-accordion-item":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("div",{className:"fw-bold me-2 txt-black",children:["INQUIRIES"," ",(0,x.jsxs)("span",{className:"request-count",children:["( ",null===(i=m.ongoingInquiry)||void 0===i?void 0:i.length," )"]})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"alert-item-container",children:null===(d=m.ongoingInquiry)||void 0===d?void 0:d.map(((e,s)=>(0,x.jsxs)("div",{className:"alert-item mb-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-2",children:[(0,x.jsxs)("h6",{className:"inquiry-id mb-0 me-2",children:["E-ID : ",e.inquiryInfoId]}),(0,x.jsx)(ra,{id:e.inquiryStateId})]}),(0,x.jsxs)("div",{className:"mb-2 event-name",children:[e.inquiryPurpose,(null===e||void 0===e?void 0:e.brideName)&&(null===e||void 0===e?void 0:e.groomName)&&(0,x.jsxs)("span",{children:["- ",(null===e||void 0===e?void 0:e.brideName)+"&"+(null===e||void 0===e?void 0:e.groomName)]}),(null===e||void 0===e?void 0:e.companyName)&&(0,x.jsxs)("span",{children:["- ",null===e||void 0===e?void 0:e.companyName]})]}),(0,x.jsx)("hr",{className:"txt-grey"}),(0,x.jsx)("div",{children:null===e||void 0===e?void 0:e.inquiryAlertSlotDTO.map(((e,s)=>(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-auto pe-0",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.lq,{})," ",(0,x.jsxs)("span",{className:"fs-7 txt-darker ms-1",children:[p(null===e||void 0===e?void 0:e.bookingStartDate)," -"," ",p(null===e||void 0===e?void 0:e.bookingStartDate)]})]})})}),(0,x.jsx)("div",{className:"col-auto pe-0",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsxs)("div",{className:"fs-7 txt-darker ms-1",children:[null===e||void 0===e?void 0:e.startTime," - ",null===e||void 0===e?void 0:e.endTime]})]})})})]},s)))}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-12-px ",children:"Guest Name"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("span",{className:"ms-1 text-nowrap data-desc",children:e.guestUserName})]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Source"}),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("span",{className:"text-nowrap data-desc",children:e.inquirySource})})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-7",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:"leadOwner"}),(0,x.jsx)("div",{className:"ms-1 text-nowrap data-desc",children:e.assignedTo})]})]})})]})]},e.inquiryInfoId)))})})]})]})})})})]})},lt=e=>{var s;let{slot:a,activeVenueId:t}=e;const l=null===a||void 0===a||null===(s=a.selectedVenueDTOs)||void 0===s?void 0:s.find(((e,s)=>(null===e||void 0===e?void 0:e.id)===t)),n=l?l.venueStateId:null;return 4===n?(0,x.jsxs)("div",{className:"inquiry-cancelled-error fs-15-px px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"Venue Not Operational for your inquiry date and time."})]}):5===n?(0,x.jsxs)("div",{className:"inquiry-cancelled-error fs-15-px  px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"Venue closed for your inquiry date and time."})]}):6===n?(0,x.jsxs)("div",{className:"inquiry-cancelled-error fs-15-px px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"Venue has been Deleted/made Inactive. Please change the venue to proceed."})]}):null},nt=()=>(0,x.jsxs)("div",{className:"inquiry-cancelled-error px-3 py-2 d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("div",{className:"ms-2",children:"A new booking has been confirmed which overlaps your booking time."})]}),it=()=>{var e,s,a;const{inquiryData:n,loading:i,getInquiryInfo:d,alertsData:c,selectSlotId:r,setSelectSlotId:o}=(0,l.KC)(),[m,u]=(0,t.useState)(!1),[h,v]=(0,t.useState)(!1),p=(0,l.Zp)(),[N,b]=(0,t.useState)(!0),[f,y]=(0,t.useState)({}),[A,I]=(0,t.useState)(!1),[C,w]=(0,t.useState)(null),{profileDetails:k}=(0,t.useContext)(V.t0);(0,t.useEffect)((()=>{const{inquirySlotOutDTO:e,inquiryInfoId:s}=n;var a;e&&e.length>0&&(y(n),!r&&o(null===(a=e[0])||void 0===a?void 0:a.slotTempId),b(!1))}),[n]),(0,t.useEffect)((()=>{b(i)}),[i]);const S=(null===(e=f.inquirySlotOutDTO)||void 0===e?void 0:e.find((e=>e.slotTempId==r)))||{},D=Q.O.inquiryState.value,T=f.inquiryStateId,{InquiryActiveWaitList:O,InquiryActiveTentativeBlock:q,InquiryCancelled:P,InquiryDisposed:F,InquiryActiveNewBookingOverlap:E,BookingConfirmed:R,BookingConfirmedModified:M,BookingCancelled:Y,BookingCompleted:L}=Q.O.inquiryState.value,H=[Q.O.inquiryState.value.InquiryCancelled,Q.O.inquiryState.value.BookingCancelled,Q.O.inquiryState.value.InquiryDisposed,Q.O.inquiryState.value.BookingConfirmed,Q.O.inquiryState.value.BookingCompleted],{Pending:W,Approved:z}=Q.O.bookingRequestStatus.value,G=H.includes(f.inquiryStateId)||(null===k||void 0===k?void 0:k.id)!==(null===n||void 0===n?void 0:n.leadOwnerId)&&(null===k||void 0===k?void 0:k.userRoleId)!==Q.O.userRolesEnum.value.Administrator,K=()=>[W,z].includes(f.bookingStatusId),{ongoingInquiry:Z,bookingRequest:J,booking:X,booking12Hours:_}=c||{},$=U("Inquiries","Edit");return(0,x.jsxs)("div",{className:"flex-grow-1 px-4",children:[N?(0,x.jsx)("div",{className:"h-100",children:(0,x.jsx)(g.A,{})}):n.inquirySlotOutDTO&&n.inquirySlotOutDTO.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Pa,{show:h,setShow:v}),(0,x.jsx)(tt,{show:m,setShow:u,data:c}),(0,x.jsxs)("div",{className:"row h-100",children:[(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsx)("div",{className:"bg-custom-white py-2 inquiry-details",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Created On"}),(0,x.jsx)("div",{className:"info-value",children:(0,B.Yq)(f.createdOn,"Do MMM, YYYY")})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Inquiry ID"}),(0,x.jsx)("div",{className:"info-value",children:f.inquiryInfoId})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Status"}),(0,x.jsx)("div",{className:"info-value",children:ze(f.inquiryStatus)})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Stage"}),(0,x.jsx)("div",{className:"info-value fs-15-px",children:f.stage})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Priority"}),(0,x.jsx)("div",{className:"info-value fs-15-px",children:ze(f.inquiryPriority)})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Source"}),(0,x.jsx)("div",{className:"info-value fs-15-px",children:f.inquirySource})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Lead Owner"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{height:18,width:18,src:(null===f||void 0===f?void 0:f.leadOwnerProfileImage)||Ja,alt:"lead-owner",className:"rounded-5"}),(0,x.jsx)("span",{className:"ms-2 inf0-value fs-15-px ",children:null===f||void 0===f?void 0:f.assignedTo})]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Alerts"}),(0,x.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",onClick:()=>u(!0),children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("span",{className:"ms-2 info-value fs-15-px text-truncate",children:(null===Z||void 0===Z?void 0:Z.length)>0||(null===J||void 0===J?void 0:J.length)>0||(null===X||void 0===X?void 0:X.length)+(null===_||void 0===_?void 0:_.length)>0?(0,x.jsx)(x.Fragment,{children:[(null===X||void 0===X?void 0:X.length)+(null===_||void 0===_?void 0:_.length)>0&&"".concat(X.length+_.length," Bookings"),(null===Z||void 0===Z?void 0:Z.length)>0&&"".concat(Z.length," Ongoing Inquiries"),(null===J||void 0===J||null===(s=J.filter((e=>e.inquiryStateId===O)))||void 0===s?void 0:s.length)>0&&"".concat(J.filter((e=>e.inquiryStateId===O)).length," Waitlist"),(null===J||void 0===J||null===(a=J.filter((e=>e.inquiryStateId!==O)))||void 0===a?void 0:a.length)>0&&"".concat(J.filter((e=>e.inquiryStateId!==O)).length," BR Pending")].filter(Boolean).join(", ")}):"-"})]})]})})]})})}),(0,x.jsxs)("div",{className:"col-md-12 col-lg-9 mb-3",children:[(0,x.jsx)(Xa,{inquiry:n}),(0,x.jsx)(et,{inquiry:n}),n.venueStateId===E&&(0,x.jsx)(nt,{}),(0,x.jsx)(lt,{slot:S,activeVenueId:C}),(0,x.jsxs)("div",{className:"bg-custom-white  mb-3",children:[(0,x.jsxs)("div",{className:"slot-select-wrapper mb-3",children:[(0,x.jsx)("div",{className:1===f.inquirySlotOutDTO.length?"hide-dropdown-arrow":"",children:!i&&(0,x.jsx)(Za,{readonly:1===f.inquirySlotOutDTO.length,value:r,onChange:e=>{o(e.target.value)},dataSource:f.inquirySlotOutDTO.map(((e,s)=>({text:"",value:e.slotTempId,index:s+1,bookingStartDate:e.bookingStartDate,startTime:e.startTime,bookingEndDate:e.bookingEndDate,endTime:e.endTime})))})}),(0,x.jsx)("div",{className:"btns-wrapper",children:$&&(0,x.jsx)(x.Fragment,{children:![O,P,D,R,Y,L,F].includes(T)&&((null===k||void 0===k?void 0:k.id)===(null===n||void 0===n?void 0:n.leadOwnerId)||(null===k||void 0===k?void 0:k.userRoleId)===Q.O.userRolesEnum.value.Administrator)&&(0,x.jsx)("span",{className:"ms-2 cursor-pointer",onClick:()=>{K()?I(!0):p("/inquiry-bookings/inquiry/".concat(f.inquiryInfoId))},children:(0,x.jsx)(j.GN,{})})})})]}),(0,x.jsxs)("div",{className:"row inquiry-details",children:[(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6  mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Purpose"}),(0,x.jsx)("div",{className:"info-value",children:f.inquiryPurpose})]}),S.paxCount&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Pax Count"}),(0,x.jsx)("div",{className:"info-value",children:S.paxCount})]})}),f.company&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Company Name"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:f.company})]})}),f.title&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Title"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:f.title})]})}),f.brideName&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Bride Name"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:f.brideName})]})}),f.groomName&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Groom Name"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:f.groomName})]})}),S.foodPreferenceIds&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6 mb-1",children:(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Food Preference"}),(0,x.jsx)("div",{className:"info-value",children:S.foodPreferenceIds.split(",").map((e=>Q.O.FoodType.text[e])).join(", ")})]})}),S.beveragePreferenceIds&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Beverages"}),(0,x.jsx)("div",{className:"info-value",children:S.beveragePreferenceIds.split(",").map((e=>Q.O.beveragePreference.text[e])).join(", ")})]})})]})]}),(0,x.jsx)("div",{className:"bg-custom-white",children:T===D.InquiryDisposed?(0,x.jsx)("div",{className:"bg-custom-white",children:(0,x.jsx)(_a,{})}):(0,x.jsx)(Aa.Provider,{value:{inquiryStateId:T,hideButtons:G,guestDetailId:f.guestDetailId,inquirySlotId:S.inquirySlotId,inquiryInfoId:f.inquiryInfoId,getInquiryInfo:d,paxCount:S.paxCount,checkForBookingReqStatus:K,inquiryDetails:f,currentSlot:S},children:S.selectedVenueDTOs&&(0,x.jsx)(za,{tabList:S.selectedVenueDTOs,setActiveVenueId:w})})})]}),(0,x.jsx)("div",{className:"col-lg-3 col-md-12 h-100",children:(0,x.jsx)("div",{className:"notes-reminder-wrapper ",children:(0,x.jsx)(Aa.Provider,{value:{inquiryStateId:T,hideButtons:G,inquiryDetails:f,checkForBookingReqStatus:K},children:(0,x.jsx)(qa,{})})})})]})]}):(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100 bg-custom-white",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"no-inquiry",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Inquiry found!"})]})}),(0,x.jsx)(st,{show:A,setShow:I})]})},dt=e=>{let{editMode:s,setEditMode:a,formObject:t,setFormObject:l}=e;const n=e=>{const{value:s,name:a}=e.target,n={...t};n[a]=s,l(n)},{extraChargeFor:i="",description:d="",chargeType:c,totalCost:r=0,quantity:o=0,amountItem:m=0,tax:u=0,includeInMinimumRevenue:h}=t;let v=0;return v=Q.O.chargeType.value.LumpSum===t.chargeType?r||0:(o||0)*(m||0),(0,x.jsxs)("div",{className:"summary-extra-charges-form px-2",children:[(0,x.jsxs)("div",{className:s?"":"readonly-form",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Extra Charges for *"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!s,type:"text",className:"form-control input-one-line",placeholder:"Enter title",onChange:n,value:i||"",name:"extraChargeFor"})})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Description"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!s,type:"text",className:"form-control input-one-line",placeholder:"Enter Description",onChange:n,value:d||"",name:"description"})})]}),(0,x.jsxs)("div",{className:"mb-3 item-container",children:[(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Charge Type *"}),(0,x.jsx)(oe.A,{readonly:!s,dataSource:Q.O.chargeType.list,placeholder:"Select",onChange:e=>{n(e),l((s=>({...s,quantity:"",amountItem:"",totalCost:"",tax:e.target.value?s.tax:0})))},value:c||"",name:"chargeType"})]}),c&&(0,x.jsxs)(x.Fragment,{children:[Q.O.chargeType.value.LumpSum===c?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Total Amount *"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!s,type:"number",className:"form-control input-one-line",placeholder:"Enter Amount",onChange:n,value:r||"",name:"totalCost"})})]})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Quantity *"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!s,type:"number",className:"form-control input-one-line",placeholder:"Enter Quantity",onChange:n,value:o||"",name:"quantity"})})]}),(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Amount/Item *"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!s,type:"number",className:"form-control input-one-line",placeholder:"Enter Amount",onChange:n,value:m||"",name:"amountItem"})})]})]}),(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Tax Percentage"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!s,type:"number",className:"form-control input-one-line",placeholder:"Enter Percentage",onChange:n,value:u||"",name:"tax"})})]})]})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("div",{className:"fs-12-px mb-2",children:"Summary"}),(0,x.jsxs)("div",{className:"summary-extra-charges-container",children:[(0,x.jsxs)("div",{className:"summary-extra-charges",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Total Cost"}),(0,x.jsx)("div",{className:"label-value",children:v?(0,x.jsxs)(x.Fragment,{children:["\u20b9 ",v]}):"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Tax"}),(0,x.jsx)("div",{className:"label-value",children:u?(0,x.jsxs)(x.Fragment,{children:[" ",u,"%"]}):"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Tax Amount"}),(0,x.jsx)("div",{className:"label-value",children:Number(v)*u/100?(0,x.jsxs)(x.Fragment,{children:["\u20b9 ",Number(v)*u/100]}):"-"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Final Amount"}),(0,x.jsx)("div",{className:"label-value",children:Number(v)+v*u/100?(0,x.jsxs)(x.Fragment,{children:["\u20b9"," ",Number(v)+v*u/100]}):"-"})]})]})]}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("input",{disabled:!s,style:{height:"20px",width:"20px"},type:"checkbox",className:"form-check-input custom-check m-0 me-2",id:"includeInMinimumRevenue",name:"includeInMinimumRevenue",onChange:e=>{const{name:s,checked:a}=e.target;l((e=>({...e,[s]:a})))},checked:!0===h}),(0,x.jsx)("label",{className:"text-nowrap label-for-minimum-revenue ".concat(1==h?"checked":""),htmlFor:"includeInMinimumRevenue",children:"Include in Minimum Revenue"})]})})]})},ct=e=>{let{handleClose:s,rowData:a,reloadData:n}=e;const[i,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)({}),[h,v]=(0,t.useState)(!0),[j,p]=(0,t.useState)(!1),g=(0,l.g)();(0,t.useEffect)((()=>{const{data:e,actionId:s,show:t}=a||{};t&&("addExtraCharges"===s?(d(!0),u({})):"editExtraCharges"===s&&(d(!1),u(e)))}),[a]),(0,t.useEffect)((()=>{v(N())}),[c]);const N=()=>{const{extraChargeFor:e="",chargeType:s,totalCost:a=0,quantity:t=0,amountItem:l=0,tax:n=0}=c;return!e||!s||(Q.O.chargeType.value.LumpSum===s?Number(a)<1||Number(n)<=0:Q.O.chargeType.value.PerItem!==s||(t<1||Number(l)<1))};return(0,x.jsxs)(E.A,{scrollable:!0,show:a.show,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Extra Charges"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)(dt,{editMode:i,formObject:c,setFormObject:u,setEditMode:d})}),(0,x.jsx)(E.A.Footer,{children:i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",onClick:s,className:"txt-primary btn-34 fw-bold",children:"Discard"}),(0,x.jsxs)(R.A,{variant:"primary",className:"btn-34",disabled:h||j,onClick:()=>(async()=>{if(!h){const{extraChargeFor:a,description:t,chargeType:l,totalCost:i=0,quantity:d=0,amountItem:m=0,tax:u=0,id:h=0,includeInMinimumRevenue:x}=c;let v=0;v=Q.O.chargeType.value.LumpSum===l?i||0:(d||0)*(m||0);try{p(!0);let e,c={extraChargeFor:a,description:t,chargeType:l,totalCost:i||0,taxAmount:Number(v)*Number(u)/100,finalAmount:Number(v)+Number(v)*Number(u)/100,inquiryInfoId:g.inquiryId,tax:Number(u),id:h,amountItem:m||0,quantity:d||0,includeInMinimumRevenue:x};e=h?await Ts.updateExtraCharge(c):await Ts.addExtraCharges(c);const{title:r}=e;r===o.A.success&&(n(),s())}catch(e){r.oR.error(e.message)}finally{p(!1)}}})(),children:[j&&(0,x.jsx)(m.A,{animation:"border",size:"sm"}),(0,x.jsx)("span",{className:"ms-1",children:c.id?"Update":"Add Charges"})]})]}):(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",onClick:()=>d(!0),children:(0,x.jsx)("span",{className:"ms-1",children:"Modify"})})})]})},rt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const t=null===e||void 0===e?void 0:e.reduce(((e,s)=>{const{selectedVenueDTOs:t}=s||{},l=null===t||void 0===t?void 0:t.reduce(((e,s)=>{const{inquiryFoodPackages:t,inquiryBillingBeveragePackages:l,inquiryBillingFoodBeverage:n,isFB:i,totalRentalAmount:d,inquiryAddOnBottles:c,minimumRevenue:r}=s||{},o=null===t||void 0===t?void 0:t.reduce(((e,s)=>e+=s.totalAmount||0),0),m=null===l||void 0===l?void 0:l.reduce(((e,s)=>e+=s.totalAmount||0),0),u=null===n||void 0===n?void 0:n.reduce(((e,s)=>e+=s.totalAmount||0),0),h=null===c||void 0===c?void 0:c.reduce(((e,s)=>e+=s.totalAmount||0),0);return i?e+o+m+u+h+d+a:e+d}),0);return e+l}),0),l=null===s||void 0===s?void 0:s.reduce(((e,s)=>e+=s.totalCost||0),0);return t+l},ot=e=>{let{billingSummaryDetails:s,readOnly:a,totalMRA:l,adjustedDTO:n,adjustedExtraCharge:i}=e;const{inquirySlotOutDTO:d=[],inquiryBillingExtraCharge:c=[]}=s;return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table-summary mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"ITEM"}),(0,x.jsx)("th",{className:"text-end col-150",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-150",children:"COST/QTY"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Total Amount"}),!a&&(0,x.jsx)("th",{className:"text-end option-menu-col",children:" "})]})}),(0,x.jsx)("tbody",{className:"slot-list-data",children:null===n||void 0===n?void 0:n.map(((e,s)=>(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"slot-row-data text-nowrap",children:[(0,x.jsxs)("span",{children:["Slot ",s+1,"\xa0:\xa0"]}),(0,x.jsx)("span",{children:(0,B.Yq)(e.bookingStartDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.startTime}),"\xa0",(0,x.jsx)("span",{children:"-"}),"\xa0",(0,x.jsx)("span",{children:(0,B.Yq)(e.bookingEndDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.endTime})]})}),(0,x.jsx)("td",{colSpan:4})]}),e.selectedVenueDTOs&&e.selectedVenueDTOs.map(((e,s)=>{let{venueName:l,inquiryFoodPackages:n=[],isFB:i,inquiryBillingBeveragePackages:d=[],inquiryBillingFoodBeverage:c=[],totalRentalAmount:r=0,inquiryAddOnBottles:o=[],venueRentalType:m,minimumRevenue:h}=e;return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)("tr",{className:"venue-row-data",children:[(0,x.jsx)("td",{children:l}),(0,x.jsx)("td",{colSpan:4})]}),i?(0,x.jsxs)(x.Fragment,{children:[2===m&&r>0&&(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Venue Rental"}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"text-end"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(r)]}),!a&&(0,x.jsx)("td",{})]}),3===m&&h>0&&(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Minimum Revenue"}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"text-end"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(h)]}),!a&&(0,x.jsx)("td",{})]}),n.map(((e,s)=>{let{packageName:t,isAddOnAdded:l,costQty:n,totalAmount:i,qty:d,minRevenueAdjusted:c}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Food\xa0-\xa0","Breakfast","\xa0-\xa0",t?t+" Package":"Custom Package",l&&" (Add-ons Included)",c&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:d>0?d:null}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(n)]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(i)]}),!a&&(0,x.jsx)("td",{})]},s)})),d.map(((e,s)=>{let{packageName:t,isAddOnAdded:l,costQty:n=0,totalAmount:i=0,qty:d,beveragePreferenceId:c,minRevenueAdjusted:r}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Beverage\xa0\xa0-\xa0\xa0",Q.O.beveragePreference.text[c],"\xa0\xa0-\xa0\xa0",t?t+" Package":"Custom Package",l&&" (Add-ons Included)",r&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:d>0?d:null}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(n)]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(i)]}),!a&&(0,x.jsx)("td",{})]},s)})),c.map(((e,s)=>{let{packageName:t,isAddOnAdded:l,costQty:n,totalAmount:i,qty:d,packageCategoryName:c,beveragePreferenceId:r,minRevenueAdjusted:o}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["F&B\xa0-\xa0",c,"\xa0-\xa0",Q.O.beveragePreference.text[r],"\xa0-\xa0",t?t+" Package":"Custom Package",l&&" (Add-ons Included)",o&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:d>0?d:null}),(0,x.jsx)("td",{className:"text-end",children:n>0?"\u20b9 ".concat((0,B.BO)(n)):null})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}),(0,x.jsx)("td",{className:"text-end",children:i>0?"\u20b9 ".concat((0,B.BO)(i)):null}),!a&&(0,x.jsx)("td",{})]},s)})),o.map(((e,s)=>{let{addOnCount:t,beverageType:l,costByItem:n,liquorType:i,menuItemName:d,totalAmount:c=0,drinkName:r,minRevenueAdjusted:o}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:[l,"0"!==i?" - "+i:"","\xa0-\xa0",r,"\xa0-\xa0",d,o&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),(0,x.jsx)("td",{className:"text-end",children:t>0?t:null}),(0,x.jsx)("td",{className:"text-end",children:n>0?"\u20b9 ".concat((0,B.BO)(n)):null}),(0,x.jsx)("td",{className:"text-end",children:c>0?"\u20b9 ".concat((0,B.BO)(c)):null}),!a&&(0,x.jsx)("td",{})]},s)}))]}):(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Venue Rental"}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"text-end"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(r)]}),!a&&(0,x.jsx)("td",{})]})]},s)}))]},s)))}),(0,x.jsx)("tbody",{children:i.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Extra Charges - ",e.extraChargeFor," ",e.minRevenueAdjusted&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),Q.O.chargeType.value.LumpSum===e.chargeType?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:e.quantity}),(0,x.jsx)("td",{className:"text-end",children:(0,B.BO)(e.amountItem)})]}),(0,x.jsx)("td",{className:"text-end",children:e.totalCost?"\u20b9 "+(0,B.BO)(e.totalCost):"-"}),!a&&(0,x.jsx)("td",{})]},s)))}),l>0&&(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{colSpan:3,children:[(0,x.jsx)("span",{className:"data-desc txt-black",children:"Minimum Revenue Adjustment"}),(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),(0,x.jsxs)("td",{className:"text-end data-desc txt-black",children:["\u20b9 ",l]})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{className:"sub-total-row-data",children:[(0,x.jsx)("td",{colSpan:3,children:"Sub Total"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9\xa0",(0,B.BO)(rt(d,c,l))]}),!a&&(0,x.jsx)("td",{})]})})]})};var mt=a(9518);const ut=e=>(0,x.jsx)("div",{className:"custom-dropdown-button",children:(0,x.jsx)(mt.d,{...e,children:(0,x.jsx)(j.zu,{})})}),ht=e=>{let{position:s="start",icon:a,...t}=e;return(0,x.jsxs)("div",{className:"InputWithIcon ".concat(s," ").concat(a?"":"hidden-icon"),children:[(0,x.jsx)("div",{className:"icon",children:a}),(0,x.jsx)("div",{className:"input-div",children:(0,x.jsx)("input",{...t})})]})},xt=e=>{let{editMode:s,formObject:a,setFormObject:t}=e;const l=e=>{const{value:s,name:l}=e.target,n={...a};n[l]=s,t(n)},{percentage:n=0,totalDiscount:i=0,freezeData:d={}}=a;let c=0;c=Q.O.discountType.value.LumpSum===a.type?i||0:n*(d.totalCost||0)/100;const r=c>0?d.totalCost-c:0,o=r>0?r*d.tax/100:0;return(0,x.jsx)("div",{className:"summary-extra-charges-form px-2",children:(0,x.jsxs)("div",{className:s?"":"readonly-form",children:[(0,x.jsxs)("div",{className:"mb-2 readonly-form",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Discount for"}),(0,x.jsx)("div",{children:(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line ",placeholder:"Enter title",onChange:l,value:d.text,name:"extraChargesFor"})})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0 fs-12-px",children:"Current Billing Summary"}),(0,x.jsxs)("div",{className:"billing-summary-container current",children:[(0,x.jsxs)("div",{className:"discount",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Total Cost"}),(0,x.jsx)("div",{className:"label-value",children:d.totalCost?(0,x.jsxs)(x.Fragment,{children:["\u20b9 ",(0,B.BO)(d.totalCost)]}):"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Tax"}),(0,x.jsx)("div",{className:"label-value",children:(0,x.jsx)("div",{className:"label-value",children:d.tax>0?(0,x.jsxs)(x.Fragment,{children:[" ",d.tax," %"]}):"-"})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Tax Amount"}),(0,x.jsx)("div",{className:"label-value",children:(0,x.jsx)("div",{className:"label-value",children:d.taxAmount?(0,x.jsxs)(x.Fragment,{children:[" \u20b9 ",(0,B.BO)(d.taxAmount)]}):"-"})})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Final Amount"}),(0,x.jsx)("div",{className:"label-value",children:(0,x.jsx)("div",{className:"label-value",children:d.finalAmount?(0,x.jsxs)(x.Fragment,{children:[" \u20b9 ",(0,B.BO)(d.finalAmount)]}):"-"})})]})]})]}),(0,x.jsxs)("div",{className:"item-container mb-3",children:[(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Type *"}),(0,x.jsx)(oe.A,{readonly:!s,dataSource:Q.O.discountType.list,placeholder:"Select",onChange:e=>{l(e),t((e=>({...e,totalDiscount:"",percentage:""})))},value:a.type||"",name:"type"})]}),a.type&&(0,x.jsx)(x.Fragment,{children:a.type===Q.O.discountType.value.LumpSum?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Total Discount *"}),(0,x.jsx)("div",{children:(0,x.jsx)(ht,{readOnly:!s,type:"number",className:"form-control input-one-line",placeholder:"Enter Amount",onChange:l,value:a.totalDiscount||"",name:"totalDiscount",icon:(0,x.jsx)(u.ub,{})})})]})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Percentage *"}),(0,x.jsx)("div",{children:(0,x.jsx)(ht,{position:"end",readOnly:!s,type:"number",className:"form-control input-one-line",placeholder:"Enter percentage",onChange:l,value:a.percentage||"",name:"percentage",icon:(0,x.jsx)(u.Ne,{})})})]}),(0,x.jsxs)("div",{className:"chargesItemWidth",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Total Discount"}),(0,x.jsx)("div",{className:"py-1 fs-15-px",children:a.percentage?(0,x.jsxs)(x.Fragment,{children:[" \u20b9 ",(0,B.BO)(c)]}):"-"})]})]})})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0 fs-12-px",children:"Updated Billing Summary"}),(0,x.jsxs)("div",{className:"billing-summary-container updated",children:[(0,x.jsxs)("div",{className:"discount",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Total Discount"}),(0,x.jsx)("div",{className:"label-value",children:r?(0,x.jsxs)(x.Fragment,{children:["\u20b9"," ",(0,B.BO)(a.type===Q.O.discountType.value.LumpSum?a.totalDiscount:c)]}):"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Total Cost"}),(0,x.jsx)("div",{className:"label-value",children:r?(0,x.jsxs)(x.Fragment,{children:["\u20b9 ",(0,B.BO)(r)]}):"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Tax"}),(0,x.jsx)("div",{className:"label-value",children:(0,x.jsx)("div",{className:"label-value",children:c>0?(0,x.jsxs)(x.Fragment,{children:[" ",d.tax," %"]}):"-"})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Tax Amount"}),(0,x.jsx)("div",{className:"label-value",children:(0,x.jsx)("div",{className:"label-value",children:o?(0,x.jsxs)(x.Fragment,{children:[" \u20b9 ",(0,B.BO)(o)]}):"-"})})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"label-title",children:"Final Amount"}),(0,x.jsx)("div",{className:"label-value",children:(0,x.jsx)("div",{className:"label-value",children:r+o>0?(0,x.jsxs)(x.Fragment,{children:["\u20b9 ",(0,B.BO)(r+o)]}):"-"})})]})]})]})]})})},vt=e=>{let{show:s,handleClose:a,rowData:n,reloadData:i}=e;const d=(0,l.g)(),[c,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)({}),[v,j]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!1),{inquiryData:N}=(0,l.KC)();(0,t.useEffect)((()=>{const{actionId:e,data:s={}}=n||{},{text:a,totalCost:t,finalAmount:l,taxAmount:i,tax:d,discountType:c,totalDiscount:r,percentage:o,id:u=0}=s.formData||{},x={text:a,totalCost:t,tax:d,taxAmount:i,finalAmount:l};"viewDiscount"===e||"editDiscount"===e?(m("editDiscount"===e),h({type:c,totalDiscount:Q.O.discountType.value.LumpSum?r:0,percentage:o,freezeData:x,id:u})):"addDiscount"===e&&(m(!0),h({freezeData:x}))}),[n]),(0,t.useEffect)((()=>{j(b())}),[u]);const b=()=>{const{type:e,totalDiscount:s=0,percentage:a=0}=u;return Q.O.discountType.value.LumpSum===e?Number(s)<1:Q.O.discountType.value.Percentage!==e||Number(a)<1},{actionId:f}=n||{};return(0,x.jsxs)(E.A,{scrollable:!0,show:s,onHide:a,className:"custom-modal",centered:!0,dialogClassName:"width-560px",children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:(0,x.jsx)("div",{className:"fs-15-px",children:"Discount"})})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)(xt,{editMode:c,formObject:u,setFormObject:h,setEditMode:m,rowData:n})}),(0,x.jsx)(E.A.Footer,{children:c?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",onClick:a,className:"txt-primary btn-34 fw-bold",children:"Discard"}),(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",disabled:v,onClick:async e=>{if(e.preventDefault(),!v){const{percentage:e=0,totalDiscount:v=0,id:p=0,type:b}=u;try{var s,t,l,c,m,h,x;g(!0);let r,u={id:p||0,disCountForId:null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.value,discountFor:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.text,totalCost:null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.totalCost,tax:(null===(c=n.data)||void 0===c?void 0:c.tax)||0,finalAmount:((null===n||void 0===n||null===(m=n.data)||void 0===m?void 0:m.totalCost)||0)+((null===n||void 0===n||null===(h=n.data)||void 0===h?void 0:h.totalCost)||0)*((null===n||void 0===n||null===(x=n.data)||void 0===x?void 0:x.tax)||0)/100,discountType:b,percentage:e||0,totalDiscount:Number(v),inquiryInfoId:d.inquiryId,guestDetailId:N.guestDetailId};r=p?await Ts.updateDiscountCharge(u):await Ts.addDiscountCharge(u);const{title:j}=r;j===o.A.success&&(i(),a())}catch(j){r.oR.error(j.message)}finally{g(!1)}}},children:(0,x.jsx)("span",{className:"ms-1",children:"addDiscount"===f?"Add Discount":"Update Discount"})})]}):(0,x.jsx)(R.A,{variant:"primary",className:"btn-34",onClick:()=>m(!0),children:(0,x.jsx)("span",{className:"ms-1",children:"Modify"})})})]})},jt=e=>{let{show:s,handleClose:a,confirmBtnClick:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:(0,x.jsx)("div",{className:"fs-15-px",children:"Delete"})})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:140,width:140,src:M,alt:"add-img",className:"mb-3"}),(0,x.jsx)("h2",{className:"page-heading mb-3",children:"Delete Action !"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."}),(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center"})]})})})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:t,children:(0,x.jsx)("span",{className:"ms-1",children:"Confirm"})})})]})},pt=e=>{let{show:s,setShow:a,onConfirm:n,discountId:i}=e;const[d]=(0,t.useState)([{title:"Reason 1",desc:"Nunc vulputate libero et velit interdum.",id:1},{title:"Reason 2",desc:"Nunc vulputate libero et velit interdum.",id:2},{title:"Reason 3",desc:"Nunc vulputate libero et velit interdum.",id:3},{title:"Other",desc:"",id:4}]),c=(0,l.g)(),[u,h]=(0,t.useState)(""),[v,j]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(""),f=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:f,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Cancel Action"})}),(0,x.jsxs)(E.A.Body,{className:"inquiry-cancel-modal",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-3 ",children:[(0,x.jsx)("img",{src:te,alt:"",className:"popup-img"}),(0,x.jsxs)("div",{className:"ms-2",children:[(0,x.jsx)("h5",{className:"heading ",children:"Cancel Discount Request"}),(0,x.jsx)("p",{className:"inquiry-question",children:"Are you sure you want to cancel this discount request?"})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("h6",{className:"mb-3 reasons-header",children:"Any Specific Reason? "}),d.map(((e,s)=>(0,x.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,x.jsx)("input",{type:"radio",className:"form-check-input custom-check m-0 me-2",checked:e.id===v,id:e.id,onChange:()=>{j(e.id),h("")}}),(0,x.jsxs)("div",{className:"reason-check-title ".concat(e.id!==v?"title-light":"fw-bold"),children:[4==e.id?(0,x.jsx)("span",{children:e.title}):(0,x.jsxs)("span",{children:[e.title," : "]}),e.desc]})]},s)))]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Write Comments",name:"otherReason",value:u,disabled:4!==v,onChange:e=>h(e.target.value)})]}),(0,x.jsxs)("div",{className:"cancel-input-wrapper",children:[(0,x.jsx)("div",{className:"txt-grey mb-2",children:"Type \u201cCancel\u201d to proceed"}),(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"C a n c e l",value:N,onChange:e=>b(e.target.value)})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",onClick:async()=>{if("Cancel"===N.trim()&&v){if(4===v&&0===u.trim().length)return;try{g(!0);let e={inquiryDiscountRequestId:i,inquiryInfoId:c.inquiryId,cancelReason:4===v?u:d.find((e=>e.id===v)).desc};const s=await Ts.cancelDiscountRequest(e),{title:a}=s;a===o.A.success&&(j(null),h(""),b(""),f(),n())}catch(e){r.oR.error(e.message)}finally{g(!1)}}},disabled:!("Cancel"===N.trim()&&v),children:[p&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Submit"]})})]})})},gt=e=>{let{data:s,onMenuClickHandler:a,readOnly:l}=e;const[n,i]=(0,t.useState)([]);return(0,t.useEffect)((()=>{0===s.discountStatusId?i([{id:"addDiscount",text:"Add Discount",iconCss:"css-add-discount-icon"}]):s.discountStatusId===Q.O.discountStatus.value.Pending?i([{id:"viewDiscount",text:"View Discount",iconCss:"css-view-discount-icon"},{id:"cancelDiscount",text:"Cancel Discount",iconCss:"css-remove-discount-icon"}]):s.discountStatusId===Q.O.discountStatus.value.Approved&&i([{id:"viewDiscount",text:"View Discount",iconCss:"css-view-discount-icon"},{id:"editDiscount",text:"Edit Discount",iconCss:"css-edit-discount-icon"},{id:"removeDiscount",text:"Remove Discount",iconCss:"css-remove-discount-icon"}])}),[s]),(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:[s.text," "]}),(0,x.jsx)("td",{className:"text-end",children:s.totalDiscount>0?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center justify-content-end",children:[s.discountStatusId===Q.O.discountStatus.value.Pending&&(0,x.jsx)("span",{className:"pending-approval me-1",children:"Pending Approval"}),"\u20b9 ",s.totalDiscount]}):"-"}),(0,x.jsx)("td",{className:"text-end",children:s.totalCost?"\u20b9 "+(0,B.BO)(s.totalCost):"-"}),(0,x.jsxs)("td",{className:"text-end",children:[" ",s.tax,"%"]}),(0,x.jsx)("td",{className:"text-end",children:s.taxAmount?"\u20b9 "+(0,B.BO)(s.taxAmount):"-"}),(0,x.jsx)("td",{className:"text-end",children:s.finalAmount?"\u20b9 "+(0,B.BO)(s.finalAmount):"-"}),!l&&(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(ut,{select:e=>a(e,s),cssClass:"e-caret-hide e-round-corner",items:Q.O.genericTax.value.ServiceCharge===s.value?[{id:"removeService",text:"Remove",iconCss:"css-remove-discount-icon"}]:n})})]})},Nt=e=>{var s,a;let{addExtraCharges:n,setAddExtraCharges:i,reloadData:d,billingSummaryDetails:c,readOnly:m,totalMRA:u,adjustedDTO:h,adjustedExtraCharge:v}=e;const[j,p]=(0,t.useState)({}),[g,N]=(0,t.useState)({}),[b,f]=(0,t.useState)({}),[y,A]=(0,t.useState)([]),I=(0,l.g)(),{inquiryData:C}=(0,l.KC)(),{inquiryBillingExtraCharge:w=[]}=c||{};(0,t.useEffect)((()=>{const{inquirySlotOutDTO:e=[],particulars:s=[]}=c||{};let a=s.map((s=>{let{disCountForId:a,discountFor:t,tax:l,discountStatusId:n,discountType:i,totalDiscount:d,percentage:c,id:r}=s;const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;const a=(e,s)=>(null===e||void 0===e?void 0:e.reduce(((e,a)=>(s(a)&&(e+=a.totalAmount||0),e)),0))||0;return(null===e||void 0===e?void 0:e.reduce(((e,t)=>{const{selectedVenueDTOs:l}=t||{},n=null===l||void 0===l?void 0:l.reduce(((e,t)=>{const{inquiryFoodPackages:l,inquiryBillingBeveragePackages:n,inquiryBillingFoodBeverage:i,isFB:d,totalRentalAmount:c}=t||{},{Alcoholic:r,AlcoholicNonAlcoholic:o,NonAlcoholic:m}=Q.O.beveragePreference.value,u=a(l,(()=>!0)),h=a(n,(e=>{let{beveragePreferenceId:s}=e;return s===o})),x=a(n,(e=>e.beveragePreferenceId===r)),v=a(n,(e=>{let{beveragePreferenceId:s}=e;return s===m})),j=a(i,(e=>{let{beveragePreferenceId:s}=e;return s===o})),p=a(i,(e=>{let{beveragePreferenceId:s}=e;return s===r})),g=a(i,(e=>{let{beveragePreferenceId:s}=e;return s===m}));return e+({[Q.O.genericTax.value.Food]:u,[Q.O.genericTax.value.BeverageNonAlcoholicAlcoholic]:h,[Q.O.genericTax.value.BeverageAlcoholic]:x,[Q.O.genericTax.value.BeverageNonAlcoholic]:v,[Q.O.genericTax.value.FBAlcoholicNonAlcoholic]:j,[Q.O.genericTax.value.FBAlcoholic]:p,[Q.O.genericTax.value.FBNonalcoholic]:g,[Q.O.genericTax.value.VenueRental]:c}[s]||0)}),0);return e+n}),0))||0}(e,a,l);return a===Q.O.genericTax.value.ServiceCharge?{value:a,text:t,tax:l,totalCost:rt(e,w),taxAmount:rt(e,w)*l/100,finalAmount:rt(e,w)+rt(e,w)*l/100,totalDiscount:0,discountStatusId:n}:a===Q.O.genericTax.value.MinimumRevenue?{value:a,text:t,tax:l,totalCost:u,taxAmount:u*l/100,finalAmount:u*l/100,totalDiscount:Q.O.discountType.value.LumpSum?d:0,discountStatusId:n,formData:{text:t,totalCost:o,tax:l,taxAmount:o*l/100,finalAmount:o*l/100+o,discountType:i,totalDiscount:d,percentage:c,id:r}}:{value:a,text:t,tax:l,totalCost:o-d,taxAmount:(o-d)*l/100,finalAmount:(o-d)*l/100+(o-d),totalDiscount:Q.O.discountType.value.LumpSum?d:0,discountStatusId:n,formData:{text:t,totalCost:o,tax:l,taxAmount:o*l/100,finalAmount:o*l/100+o,discountType:i,totalDiscount:d,percentage:c,id:r}}}));A(a)}),[c]);const k=async(e,s)=>{const{id:a}=e.item.properties;let t={data:s,actionId:a,show:!0};"removeDiscount"===a||"removeService"===a?N(t):"editExtraCharges"===a?i(t):"cancelDiscount"===a?f(t):"removeExtraCharges"===a?N(t):p(t)},S=async e=>{try{const s=await Ts.removeExtraCharge({...e,inquiryInfoId:I.inquiryId}),{title:a}=s;a===o.A.success&&(d(),N({}))}catch(s){r.oR.error(s.message)}},D=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{text:s,value:a,discountFor:t,disCountForId:l,discountType:n}=e;I.inquiryId,C.guestDetailId;try{const s=await Ts.removeDiscountCharge({...e,inquiryInfoId:I.inquiryId}),{title:a}=s;a===o.A.success&&(d(),N({}))}catch(i){r.oR.error(i.message)}},T=async e=>{try{const s=await Ts.cancelDiscountCharge(e.formData.id,I.inquiryId),{title:a}=s;a===o.A.success&&(d(),N({}))}catch(s){r.oR.error(s.message)}},O=async e=>{let s={disCountForId:e.value,discountFor:e.text,inquiryInfoId:I.inquiryId,guestDetailId:C.guestDetailId};try{const e=await Ts.removeServicesCharges(s),{title:a}=e;a===o.A.success&&(d(),N({}))}catch(a){r.oR.error(a.message)}};(0,t.useEffect)((()=>{const e=e=>null===e||void 0===e?void 0:e.reduce(((e,s)=>e+=s.finalAmount||0),0),s=e(y),a=e(w);let t={inquiryInfoId:I.inquiryId,totalBillingAmount:s+a,totalRevenueAmount:rt(c.inquirySlotOutDTO,c.inquiryBillingExtraCharge,u)};t.totalBillingAmount>0&&q(t)}),[y]);const q=async e=>{try{const s=await Ts.saveFinalAmountCost(e),{title:a}=s;o.A.success}catch(s){r.oR.error(s.message)}},P=y.reduce(((e,s)=>(e.totalCost+=s.totalCost||0,e.taxAmount+=s.taxAmount||0,e.finalAmount+=s.finalAmount||0,e.totalDiscount+=s.totalDiscount||0,e)),{totalCost:0,taxAmount:0,finalAmount:0,totalDiscount:0}),F=null===w||void 0===w?void 0:w.reduce(((e,s)=>(e.totalCost+=s.totalCost||0,e.taxAmount+=s.taxAmount||0,e.finalAmount+=s.finalAmount||0,e)),{totalCost:0,taxAmount:0,finalAmount:0});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table-summary mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Particulars "}),(0,x.jsx)("th",{className:"text-end col-80",children:"Discount Amount"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Total Cost"}),(0,x.jsx)("th",{className:"text-end col-150",children:"TAX"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Tax Amount"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Final Amount"}),!m&&(0,x.jsx)("th",{className:"text-end option-menu-col",children:" "})]})}),(0,x.jsxs)("tbody",{children:[y.map((e=>(0,x.jsx)(gt,{data:e,onMenuClickHandler:k,readOnly:m},e.id))),w.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Extra Charges - ",e.extraChargeFor]}),(0,x.jsx)("td",{className:"text-end",children:" - "}),(0,x.jsx)("td",{className:"text-end",children:e.totalCost?"\u20b9"+(0,B.BO)(e.totalCost):"-"}),(0,x.jsx)("td",{className:"text-end",children:e.tax?e.tax+"%":"-"}),(0,x.jsx)("td",{className:"text-end",children:e.taxAmount?"\u20b9"+(0,B.BO)(e.taxAmount):"-"}),(0,x.jsx)("td",{className:"text-end",children:e.finalAmount?"\u20b9"+(0,B.BO)(e.finalAmount):"-"}),!m&&(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(ut,{select:s=>k(s,e),cssClass:"e-caret-hide e-round-corner",items:[{id:"editExtraCharges",text:"Edit Extra Charges",iconCss:"css-edit-discount-icon"},{id:"removeExtraCharges",text:"Remove",iconCss:"css-remove-discount-icon"}]})})]},s))),(0,x.jsxs)("tr",{className:"total-final-amount",children:[(0,x.jsx)("td",{className:"text-nowrap",children:"Total Amount ( Inclusive of taxes )"}),(0,x.jsx)("td",{className:"text-end col-80",children:P.totalDiscount>0&&"\u20b9 ".concat((0,B.BO)(P.totalDiscount))}),(0,x.jsxs)("td",{className:"text-end col-150",children:["\u20b9 ",(0,B.BO)(P.totalCost+F.totalCost)]}),(0,x.jsx)("td",{}),(0,x.jsxs)("td",{className:"text-end col-150",children:["\u20b9 ",(0,B.BO)(P.taxAmount+F.taxAmount)]}),(0,x.jsxs)("td",{className:"text-end col-150",children:["\u20b9\xa0",(0,B.BO)(P.finalAmount+F.finalAmount)]}),!m&&(0,x.jsx)("td",{})]})]})]}),(0,x.jsx)(vt,{show:j.show,handleClose:()=>p({}),rowData:j,reloadData:d}),(0,x.jsx)(jt,{show:g.show,handleClose:()=>N({}),confirmBtnClick:()=>(e=>{let{actionId:s,data:a}=e;"removeExtraCharges"===s&&S(a),"removeDiscount"===s&&D(a),"cancelDiscount"===s&&T(a),"removeService"===s&&O(a)})(g)}),(0,x.jsx)(pt,{show:b.show,setShow:f,onConfirm:()=>{d()},discountId:null===(s=b.data)||void 0===s||null===(a=s.formData)||void 0===a?void 0:a.id})]})},bt=(e,s)=>{let a=0;return null===e||void 0===e||e.forEach(((e,s)=>{var t;null===(t=e.selectedVenueDTOs)||void 0===t||t.forEach((e=>{var s,t,l,n;let i=e.minimumRevenue;null===(s=e.inquiryFoodPackages)||void 0===s||s.forEach((e=>{let s=i-e.totalAmount;s>0?(i=s,e.minRevenueAdjusted=!0):e.minRevenueAdjusted=!1})),null===(t=e.inquiryBillingBeveragePackages)||void 0===t||t.forEach((e=>{let s=i-e.totalAmount;s>0?(i=s,e.minRevenueAdjusted=!0):e.minRevenueAdjusted=!1})),null===(l=e.inquiryBillingFoodBeverage)||void 0===l||l.forEach((e=>{let s=i-e.totalAmount;s>0?(i=s,e.minRevenueAdjusted=!0):e.minRevenueAdjusted=!1})),null===(n=e.inquiryAddOnBottles)||void 0===n||n.forEach((e=>{let s=i-e.totalAmount;s>0?(i=s,e.minRevenueAdjusted=!0):e.minRevenueAdjusted=!1})),a+=i}))})),null===s||void 0===s||s.forEach((e=>{if(e.includeInMinimumRevenue){let s=a-e.totalCost;s>0?(a=s,e.minRevenueAdjusted=!0):e.minRevenueAdjusted=!1}})),{totalMRA:a,adjustedDTO:e,adjustedExtraCharge:s}},ft=e=>{let{readOnly:s}=e;const[a,n]=(0,t.useState)({}),[i,d]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),h=(0,l.g)(),{profileDetails:v,inquiryData:j}=(0,l.KC)();(0,t.useEffect)((()=>{u(!0),p()}),[]);const p=async()=>{try{const e=await Ts.getBillingSummary(h.inquiryId),{title:s,data:a}=e;s===o.A.success&&d(a)}catch(e){r.oR.error(e.message)}finally{u(!1)}},{inquirySlotOutDTO:g=[],inquiryBillingExtraCharge:N=[]}=i,{totalMRA:b,adjustedDTO:f,adjustedExtraCharge:y}=bt(g,N),A=U("BillingSummary","AddExtraCharges"),I=(null===v||void 0===v?void 0:v.id)!==(null===j||void 0===j?void 0:j.leadOwnerId)&&(null===v||void 0===v?void 0:v.userRoleId)!==Q.O.userRolesEnum.value.Administrator||s;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"d-flex flex-column h-100",children:c?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsxs)(x.Fragment,{children:[A&&(0,x.jsx)(x.Fragment,{children:!I&&(0,x.jsxs)("div",{className:"billing-header mb-4",children:[(0,x.jsx)("div",{className:"title",children:"Billing Summary"}),(0,x.jsx)("div",{className:"line-diff-billing"}),0!=rt(g||[],N||[])&&(0,x.jsxs)("button",{className:"btn btn-outline-primary btn-34 fw-bold",onClick:()=>n({show:!0,data:{},actionId:"addExtraCharges"}),children:[(0,x.jsx)("span",{className:"fs-14-px",children:" \u20b9 \xa0 \xa0"}),"Add Extra Charges"]})]})}),(0,x.jsx)("div",{className:"flex-grow-1 h-100",children:0!==rt(g||[],N||[])||I?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ot,{billingSummaryDetails:i,readOnly:I,totalMRA:b,adjustedDTO:f,adjustedExtraCharge:y}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(Nt,{billingSummaryDetails:i,addExtraCharges:a,setAddExtraCharges:n,reloadData:p,readOnly:I,totalMRA:b,adjustedDTO:f,adjustedExtraCharge:y})]}):(0,x.jsx)(yt,{setAddExtraCharges:n,canAdd:A})})]})}),(0,x.jsx)(ct,{handleClose:()=>n({}),rowData:a,reloadData:p})]})},yt=e=>{let{setAddExtraCharges:s,canAdd:a}=e;return(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"add-image",height:150,width:150}),(0,x.jsx)("h4",{className:"fw-bolder fs-18",children:"No Charges added"}),(0,x.jsx)("p",{className:"description",children:"Add chargeable items or add extra charges for billing Summary to be displayed"}),a&&(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("button",{className:"btn btn-primary btn-34",onClick:()=>s({show:!0,data:{},actionId:"addExtraCharges"}),children:"+ Add Extra Charges"})})]})})},At=()=>(0,x.jsx)("div",{className:"flex-grow-1 bg-custom-white mx-4",children:"VisionBoard"}),It=a.p+"static/media/quotation-send.2917f7a912864b1a812f.png",Ct=e=>{let{quotationList:s,checkDiscountStatus:a,inquiryData:n,addPermission:i,profileDetails:d}=e;const c=(0,l.Zp)(),r=(0,l.g)(),o=[{field:"quotationId",headerText:"QUOTATION NO.",width:"200"},{field:"quotationTypeIds",headerText:"QUOTATION TYPE",template:e=>{let{quotationTypeIds:s}=e;return s.split(",").map(Number).map((e=>Q.O.quotationRentalType.text[e])).join(" + ")},width:"200"},{field:"createdOn",headerText:"CREATED ON",format:"dd-MMM-yy",type:"dateTime",width:"200"},{field:"status",headerText:"STATUS",template:e=>(0,x.jsx)(wt,{statusId:e.statusId}),width:"200"},{field:"sentOn",headerText:"SENT ON",format:"dd-MMM-yy",type:"dateTime",template:e=>{let{sentOn:s}=e;return null!==s?(0,B.Yq)(s,"DD-MMM-YY | hh:mm A",""):"-"},width:"200"},{field:"validTill",headerText:"VALID TILL",type:"dateTime",template:e=>{let{validTill:s,statusId:a}=e;return s?(0,x.jsx)("span",{className:"".concat(a===Q.O.quotationStatusEnum.value.Expired?"deleted-text":""),children:(0,B.Yq)(s,"DD-MMM-YY","")}):"-"},width:"200"}];return(0,x.jsxs)("div",{className:"quotation-list-wrapper h-100",children:[(0,x.jsxs)("div",{className:"top-wrapper",children:[(0,x.jsx)("h6",{className:"quotation-list-heading mb-0",children:"Quotations"}),(0,x.jsx)("div",{className:"header-separator"}),![Q.O.inquiryState.value.InquiryDisposed].includes(n.inquiryStateId)&&(0,x.jsx)(x.Fragment,{children:((null===d||void 0===d?void 0:d.id)===(null===n||void 0===n?void 0:n.leadOwnerId)||(null===d||void 0===d?void 0:d.userRoleId)===Q.O.userRolesEnum.value.Administrator)&&(0,x.jsx)("div",{className:"d-flex justify-content-center text-nowrap ",children:i&&(0,x.jsxs)("button",{className:"btn btn-primary px-3 add-btn",onClick:()=>a(),disabled:n.bookingStatusId===Q.O.bookingRequestStatus.value.Pending,children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{className:"fw-bolder fs-13-px",children:"Create Quotation"})]})})})]}),(0,x.jsx)("div",{className:"quotation-list custom-data-table",children:(0,x.jsx)(Se._,{dataSource:s,rowSelected:e=>{let{data:s}=e;c("/inquiry-bookings/inquiry-info/".concat(r.inquiryId,"/quotation/create/").concat(s.quotationId))},children:(0,x.jsx)(De.r,{children:o.map((e=>(0,t.createElement)(De.e,{...e,key:e.field,width:e.width})))})})})]})},wt=e=>{let{statusId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[s===Q.O.quotationStatusEnum.value.Sent&&(0,x.jsx)("span",{className:"active-text",children:"Sent"}),s===Q.O.quotationStatusEnum.value.Expired&&(0,x.jsx)("span",{className:"deleted-text",children:"Expired"}),s===Q.O.quotationStatusEnum.value.Draft&&(0,x.jsx)("span",{className:"blue-badge fw-bold",children:"Draft"}),s===Q.O.quotationStatusEnum.value.Download&&(0,x.jsx)("span",{className:"blue-badge fw-bold",children:"-"})]})},kt=()=>{const[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)([]),{inquiryData:i}=(0,l.KC)(),d=(0,l.g)(),c=(0,l.Zp)(),[u,h]=(0,t.useState)(!1),{profileDetails:v}=(0,t.useContext)(V.t0);(0,t.useEffect)((()=>{i.guestDetailId&&j()}),[i]);const j=async()=>{try{s(!0);const e=await Ts.getQuotationsList(i.guestDetailId,i.inquiryInfoId),{title:a,data:t}=e;a===o.A.success&&n(t)}catch(e){r.oR.error(e.message)}finally{s(!1)}},p=async()=>{try{const e=await Ts.getDiscountPendingStatus(d.inquiryId),{title:s,data:a}=e;s===o.A.success?h(!0):c("/inquiry-bookings/inquiry-info/".concat(d.inquiryId,"/quotation/create/new"))}catch(e){r.oR.error(e.message)}},g=U("Quotation","Add");return(0,x.jsxs)("div",{className:"quotation-list-container mx-4",children:[(0,x.jsx)("div",{className:"bg-custom-white h-100",children:e?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):a.length>0?(0,x.jsx)(Ct,{quotationList:a,checkDiscountStatus:p,inquiryData:i,addPermission:g,profileDetails:v}):(0,x.jsx)(St,{checkDiscountStatus:p,inquiryData:i,addPermission:g,profileDetails:v})}),(0,x.jsx)(ha,{setShow:h,show:u})]})},St=e=>{let{checkDiscountStatus:s,inquiryData:a,addPermission:t,profileDetails:l}=e;return(0,x.jsx)("div",{className:"quotation-container",children:(0,x.jsx)("div",{className:"bg-custom-white h-100",children:(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:It,alt:"add-image",height:"auto",width:150}),(0,x.jsx)("h4",{className:"fw-bolder fs-18 mb-3",children:"No Quotations"}),(0,x.jsxs)("p",{className:"description",children:["Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum,",(0,x.jsx)("br",{})," ac aliquet odio mattis class aptent."]}),![Q.O.inquiryState.value.InquiryDisposed].includes(a.inquiryStateId)&&(0,x.jsx)("div",{className:"d-flex justify-content-center",children:t&&(0,x.jsxs)(x.Fragment,{children:[((null===l||void 0===l?void 0:l.id)===(null===a||void 0===a?void 0:a.leadOwnerId)||(null===l||void 0===l?void 0:l.userRoleId)===Q.O.userRolesEnum.value.Administrator)&&(0,x.jsxs)("button",{className:"btn btn-primary px-3 add-btn",onClick:()=>s(),disabled:Q.O.bookingRequestStatus.value.Pending===(null===a||void 0===a?void 0:a.bookingStatusId),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{className:"fw-bold fs-15",children:"Create Quotation"})]})," "]})})]})})})})},Dt=a.p+"static/media/no-payment.f5060ed93ccce3bf6694.png";var Tt=a(8558),Ot=a.n(Tt);const qt=e=>{let{data:s=[],addNew:a,permissions:n,viewMode:i}=e;const d=(0,l.Zp)(),c=(0,l.g)(),[r,o]=(0,t.useState)({});return(0,t.useEffect)((()=>{if(s.length>0){const[e,...a]=s||[];o(e)}}),[s]),(0,x.jsxs)("div",{className:"d-flex flex-column h-100",children:[(0,x.jsxs)("div",{className:"billing-header mb-4",children:[(0,x.jsx)("div",{className:"title",children:"Payment Details"}),(0,x.jsx)("div",{className:"line-diff-billing"}),(null===n||void 0===n?void 0:n.canAdd)&&!i&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 fw-bold",onClick:a,children:"+ \xa0 Add Payment"})]}),(0,x.jsxs)("div",{className:"flex-grow-1 h-100",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4",children:(0,x.jsx)("div",{className:"blue-card h-100",children:(0,x.jsxs)("div",{className:"container-card",children:[(0,x.jsxs)("div",{className:"card-title",children:[(0,x.jsx)("div",{children:"Total"}),(0,x.jsx)("div",{children:"Billing Amount"})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"amount",children:["\u20b9 ",(0,B.BO)(null===r||void 0===r?void 0:r.totalBillingAmount)]}),(0,x.jsx)("div",{className:"amount-word",children:(null===r||void 0===r?void 0:r.totalBillingAmount)&&Ot()(Math.floor(null===r||void 0===r?void 0:r.totalBillingAmount))})]})]})})}),(0,x.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4",children:(0,x.jsx)("div",{className:"green-card h-100",children:(0,x.jsxs)("div",{className:"container-card",children:[(0,x.jsxs)("div",{className:"card-title",children:[(0,x.jsx)("div",{children:"Total"}),(0,x.jsx)("div",{children:"Payment Received"})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"amount",children:["\u20b9 ",(0,B.BO)(null===r||void 0===r?void 0:r.totalPaymentReceived)]}),(0,x.jsx)("div",{className:"amount-word",children:(null===r||void 0===r?void 0:r.totalPaymentReceived)&&Ot()(Math.floor(null===r||void 0===r?void 0:r.totalPaymentReceived))})]})]})})}),(0,x.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4",children:(0,x.jsx)("div",{className:"red-card h-100",children:(0,x.jsxs)("div",{className:"container-card",children:[(0,x.jsxs)("div",{className:"card-title",children:[(0,x.jsx)("div",{children:"Total"}),(0,x.jsx)("div",{children:"Balance Due"})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"amount",children:["\u20b9 ",(0,B.BO)(Math.abs(null===r||void 0===r?void 0:r.totalBalanceDue))]}),(0,x.jsx)("div",{className:"amount-word",children:(null===r||void 0===r?void 0:r.totalBalanceDue)&&Ot()(Math.floor(Math.abs(null===r||void 0===r?void 0:r.totalBalanceDue)))})]})]})})})]}),(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0 custom-hover",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Sr. No. "}),(0,x.jsx)("th",{children:"Amount"}),(0,x.jsx)("th",{children:"Received on"}),(0,x.jsx)("th",{children:"MOde Of Payment"}),(0,x.jsx)("th",{children:"Reference Number "}),(0,x.jsx)("th",{children:"Added On"}),(0,x.jsx)("th",{children:" Added By"})]})}),(0,x.jsx)("tbody",{children:s.map(((e,s)=>(0,x.jsxs)("tr",{onClick:()=>d("/inquiry-bookings/inquiry-info/"+c.inquiryId+"/payment/"+e.inquiryPaymentDetailsId),children:[(0,x.jsx)("td",{children:s+1}),(0,x.jsxs)("td",{children:[" \u20b9 ",(0,B.BO)(e.amount)]}),(0,x.jsx)("td",{children:e.receivedOn}),(0,x.jsx)("td",{children:e.modeOfPayment}),(0,x.jsx)("td",{children:e.referenceNumber}),(0,x.jsx)("td",{className:"text-nowrap",children:e.addedOn}),(0,x.jsxs)("td",{className:"text-nowrap",children:[(0,x.jsx)("img",{src:Ja,alt:"lead-owner",className:"me-2"}),e.addedByName]})]},s)))})]})]})]})},Pt=()=>{const[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)([]),{inquiryData:i,profileDetails:d}=(0,l.KC)(),c=(0,l.Zp)(),u=(0,l.g)();(0,t.useEffect)((()=>{i.guestDetailId&&h()}),[i]);const h=async()=>{try{s(!0);const e=await Ts.getPaymentList(u.inquiryId),{title:a,data:t}=e;a===o.A.success&&n(t)}catch(e){r.oR.error(e.message)}finally{s(!1)}},v=()=>{c("/inquiry-bookings/inquiry-info/".concat(u.inquiryId,"/payment/new"))},j=U("Payment","Add"),p=U("Payment","Edit"),g=U("Payment","Delete"),N=(null===d||void 0===d?void 0:d.id)!==(null===i||void 0===i?void 0:i.leadOwnerId)&&(null===d||void 0===d?void 0:d.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsx)("div",{className:"bg-custom-white flex-grow-1 mx-4 payment",children:e?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):a.length>0?(0,x.jsx)(qt,{data:a,addNew:v,permissions:{canAdd:j,canEdit:p,canDelete:g},viewMode:N}):!e&&(0,x.jsx)(Bt,{addNew:v,canAdd:j,viewMode:N})})},Bt=e=>{let{addNew:s,canAdd:a,viewMode:t}=e;const{inquiryData:n}=(0,l.KC)();return(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:Dt,alt:"add-image",height:"auto",width:150}),(0,x.jsx)("h4",{className:"fw-bolder fs-18 mb-3",children:"No Data"}),(0,x.jsx)("p",{className:"description",style:{maxWidth:"550px"},children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."}),a&&(0,x.jsx)("div",{className:"d-flex justify-content-center",children:Q.O.inquiryState.value.BookingConfirmed===n.inquiryStateId&&(0,x.jsx)("button",{className:"btn btn-primary btn-34",onClick:s,children:"+ Add Payment"})})]})})},Ft=()=>{var e,s;const[a,i]=(0,t.useState)(""),[d,c]=(0,t.useState)(0),[m,u]=(0,t.useState)({discountCount:0,bookingCount:0}),[h,v]=(0,t.useState)(!1),[p,N]=(0,t.useState)([]),[b,f]=(0,t.useState)([]),[y,A]=(0,t.useState)(!0),{setPendingRequestCount:I}=(0,l.KC)(),C=(0,l.zy)(),[w,k]=(0,t.useState)(!1),[S,D]=(0,t.useState)([]);(0,t.useEffect)((()=>{T(),O()}),[]),(0,t.useEffect)((()=>{i(""),c(0)}),[C]),(0,t.useEffect)((()=>{I(m.bookingCount+m.discountCount)}),[m]);const T=async()=>{try{A(!0);const e=await Ts.getBookingRequestList();if(e.title===o.A.success){const s=e.data.map((e=>{var s;return{...e,waitListCount:e.childBookingRequests.length>0?null===(s=e.childBookingRequests.at(-1))||void 0===s?void 0:s.waitListCount:0}})).map((e=>{let s=e.eId;return e.childBookingRequests.length>0?{...e,childBookingRequests:e.childBookingRequests.map((e=>({...e,mainRequest:"E-ID - "+s})))}:e}));N(s),u((e=>({...e,bookingCount:s.filter((e=>e.bookingStatusId===Q.O.bookingRequestStatus.value.Pending)).length})))}}catch(e){r.oR.error(e.message)}finally{A(!1)}},O=async()=>{try{A(!0);const e=await Ts.getRequestsDiscountList();if(e.title===o.A.success){const s=e.data;f(s),u((e=>({...e,discountCount:s.filter((e=>e.inquiryDiscountRequestStatusId===Q.O.discountStatus.value.Pending)).length})))}}catch(e){r.oR.error(e.message)}finally{A(!1)}};return(0,x.jsxs)("div",{className:"custom-data-table h-100",children:[(0,x.jsxs)("div",{className:"top-wrapper mb-3",children:[(0,x.jsx)("div",{children:(0,x.jsxs)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3  border-bottom-0  ",children:[(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)(n.k2,{className:"nav-link",to:"discount",end:!0,children:["Discounts",(0,x.jsxs)("span",{children:["(",m.discountCount,")"]})]})},"discount"),(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)(n.k2,{className:"nav-link",to:"booking",children:["Booking Requests",(0,x.jsxs)("span",{children:["(",m.bookingCount,")"]})]})},"booking")]})}),(0,x.jsxs)("div",{className:"btns-wrapper",children:["booking"===(null===(e=C.pathname)||void 0===e||null===(s=e.split("/"))||void 0===s?void 0:s.at(-1))&&(0,x.jsxs)("div",{className:"d-flex me-3 align-items-center ",children:[(0,x.jsxs)("label",{className:"switch me-2",children:[(0,x.jsx)("input",{type:"checkbox",onChange:e=>{if(k(e.target.checked),e.target.checked){const e=[...p];let s=[];e.forEach((e=>{if(s.push(e),e.childBookingRequests.length>0){let a=e.childBookingRequests.map((e=>({...e,isChild:!0})));s=[...s,...a]}})),D([...s])}},checked:w}),(0,x.jsx)("span",{className:"slider round"})]}),(0,x.jsx)("div",{className:"form-label fw-bold mb-0",children:"WAITLIST"})]}),(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{}),(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:e=>i(e.target.value),value:a})]}),(0,x.jsxs)("button",{className:"btn btn-outline-secondary btn-sm btn-34 filter-btn ms-3",onClick:()=>v(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),d>0&&(0,x.jsx)("span",{className:"filter-number",children:d})]})]})]}),(0,x.jsx)("div",{className:"custom-data-table pagination-table inquiries-table",children:y?(0,x.jsx)(g.A,{}):(0,x.jsx)(l.sv,{context:{searchText:a,setSearchText:i,setFilterCount:c,showFilter:h,setShowFilter:v,bookingRequest:w?S:p,discountRequest:b,waitListToggle:w}})})]})},Et=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),[a,n]=(0,t.useState)({}),[i,d]=(0,t.useState)(!0),[c,h]=da(!1);let v=(0,l.KP)((s=>{let{currentLocation:a,nextLocation:t}=s;return c&&!t.pathname.startsWith("/inquiry-bookings/inquiry-info/"+e.inquiryId)&&!t.pathname.startsWith(a.pathname)}));(0,t.useEffect)((()=>(d(!0),p(),()=>{h(!1)})),[]);const p=async s=>{try{const s=await Ts.getInquiryById(e.inquiryId);s.title===o.A.success&&n(s.data)}catch(a){r.oR.error(a.message)}finally{d(!1)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"header-container",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)("div",{className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name",role:"button",onClick:()=>s("/guest-management/guest-details/"+(null===a||void 0===a?void 0:a.guestDetailId)),children:[a.guestUserName," / ",a.inquiryInfoId," "]})]}),(0,x.jsx)("div",{className:"package-details-back-arrow",children:(0,x.jsxs)("span",{onClick:()=>s(-1),role:"button",children:[(0,x.jsx)(u.D9,{})," ",(0,x.jsx)("span",{className:"ms-2",children:"Package Details"})]})})]})}),(0,x.jsx)("main",{className:"package-details",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white",children:i?(0,x.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsx)(l.sv,{context:{inquiryInfoData:a,reloadData:()=>{p()},setShowExitPrompt:h}})})}),(0,x.jsx)(na,{show:"blocked"===v.state,leaveThisPage:v.proceed,stayOnThisPage:v.reset})]})},Rt=()=>{const e=(0,l.zy)(),[s,a]=(0,t.useState)(!1),[i,d]=(0,t.useState)(!0),[r,m]=(0,t.useState)(0),[u]=(0,t.useState)([{url:"/inquiry-bookings",title:"Inquiries",end:!0},{url:"bookings",title:"Bookings"},{url:"requests",title:"Requests"}]),[h,v]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[N,b]=(0,t.useState)([]);(0,t.useEffect)((()=>{f(),y(),A()}),[]);const f=async()=>{try{const e=await c.getUsersDetailsList(),{title:s,data:a,detail:t}=e;t===o.A.success&&v(null===a||void 0===a?void 0:a.filter((e=>e.statusId===Q.O.userAccountStatus.value.Active)))}catch(e){console.log(e.message)}},y=async()=>{try{const e=await je.A.getPersonalPurposeList(),{title:s,data:a}=e;s===o.A.success&&g(a)}catch(e){console.log(e.message)}},A=async()=>{try{const e=await je.A.getCorporatePurposeList(),{title:s,data:a}=e;s===o.A.success&&b(a)}catch(e){console.log(e.message)}},I=U("Inquiries","Add");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("header",{className:"header px-4",children:[(0,x.jsx)("h4",{className:"heading-title",children:"Inquiry & Bookings"}),"/inquiry-bookings"===e.pathname&&i&&(0,x.jsx)("div",{children:I&&(0,x.jsxs)("button",{className:"btn px-3 btn-outline-primary d-flex align-items-center",onClick:()=>a(!0),children:[(0,x.jsx)(j.Is,{}),(0,x.jsx)("span",{className:"ms-1",children:"Add New"})]})})]}),(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mx-4",children:u.map((s=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)(n.k2,{end:s.end,className:"nav-link",to:s.url,children:[s.title,"requests"===s.url&&e.pathname.includes("inquiry-bookings/requests")&&(0,x.jsx)("span",{className:"pending-request-count ms-2",children:r})]})},s.url)))}),(0,x.jsx)("div",{className:"inquiry-bookings mt-4",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white",children:(0,x.jsx)(l.sv,{context:{addNewGuestCanvas:s,setAddNewGuestCanvas:a,setShowAddButton:d,setPendingRequestCount:m,usersList:h,personalPurpose:p,corporatePurpose:N}})})})]})};var Mt=a(4452);const Yt=e=>{let{handleChange:s,...a}=e;return(0,x.jsx)("div",{className:"date-picker",children:(0,x.jsx)(Mt.I,{onChange:s,id:"datepicker",...a})})};var Lt=a(7616);const Vt=e=>(0,x.jsx)(Lt.d,{...e,showButtons:!1,type:"Range",tooltip:{placement:"Before",isVisible:!0,format:"N"},enablePersistence:!0}),Ut=e=>{let{show:s,setShow:a,bookingData:n,setFilteredData:i,setFilterCount:d,onClearFilter:c,setFilterApplied:r,maxRevenue:o,profileDetails:m}=e;const{usersList:u,personalPurpose:h,corporatePurpose:v}=(0,l.KC)(),[j,p]=(0,t.useState)({createdFrom:"",createdTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],estimatedRevenue:[0,0],leadOwner:[]}),[g,N]=(0,t.useState)({createdFrom:"",createdTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],estimatedRevenue:[0,0],leadOwner:[null===m||void 0===m?void 0:m.id]});(0,t.useEffect)((()=>{p((e=>({...e,leadOwner:null===u||void 0===u?void 0:u.map((e=>{let{id:s,firstName:a,lastName:t}=e;return{label:a+" "+t,value:s}}))})))}),[u]),(0,t.useEffect)((()=>{p((e=>({...e,purposePersonal:null===h||void 0===h?void 0:h.map((e=>{let{id:s,title:a}=e;return{label:a,value:s}}))})))}),[h]),(0,t.useEffect)((()=>{p((e=>({...e,purposeCorporate:null===v||void 0===v?void 0:v.map((e=>{let{id:s,title:a}=e;return{label:a,value:s}}))})))}),[v]);const b=(e,s,a)=>{const t={...g};t[a].includes(s)?t[a].splice(t[a].indexOf(s),1):t[a].push(s),N(t)},f=e=>{e.preventDefault(),A()},y=e=>{const{value:s,name:a}=e.target,t={...g};t[a]=s||"",N(t)},A=()=>{let e=[...n],s=0;const{createdFrom:t,createdTo:l,bookingFrom:c,bookingTo:o,purposeCorporate:m,purposePersonal:u,estimatedRevenue:h,leadOwner:x}=g;if(t&&l){const a=new Date(t),n=new Date(l),i=e.filter((e=>{const s=new Date(e.createdOn);return s>=a&&s<=n}));e=i,s++}if(c&&o){const a=new Date(c),t=new Date(o),l=e.filter((e=>{const s=new Date(e.createdOn);return s>=a&&s<=t}));e=l,s++}if(h[1]>0){const a=h[0],t=h[1],l=e.filter((e=>e.estimatedRevenue>=a&&e.estimatedRevenue<=t));e=l,s++}if(u.length>0){const a=e.filter((e=>u.includes(e.purposeId)&&1===e.inquiryTypeId));e=a,s++}if(m.length>0){const a=e.filter((e=>m.includes(e.purposeId)&&2===e.inquiryTypeId));e=a,s++}if(x.length>0){const a=e.filter((e=>x.includes(null===e||void 0===e?void 0:e.leadOwnerId)));e=a,s++}s>0&&(r(!0),i(e),d(s),a(!1))};return(0,x.jsx)("form",{onSubmit:f,children:(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Created Date Range"}),(0,x.jsxs)("div",{className:"row mb-2",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(Yt,{placeholder:"DD/MM/YYYY",value:g.createdFrom,onChange:y,name:"createdFrom"})})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(Yt,{placeholder:"DD/MM/YYYY",value:g.createdTo,onChange:y,name:"createdTo"})})})]}),(0,x.jsx)("label",{className:"form-label",children:"Booking Date Range"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(Yt,{placeholder:"DD/MM/YYYY",value:g.bookingFrom,onChange:y,name:"bookingFrom"})})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(Yt,{placeholder:"DD/MM/YYYY",value:g.bookingTo,onChange:y,name:"bookingTo"})})})]}),(0,x.jsx)("label",{className:"form-label",children:"Revenue"}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsx)(Vt,{name:"estimatedRevenue",min:0,max:o||1e3,change:e=>{const s={...g};s.estimatedRevenue=e.value,N(s)},value:null===g||void 0===g?void 0:g.estimatedRevenue})})})}),(0,x.jsx)("div",{className:"filter-accordion",children:(0,x.jsxs)(q.A,{defaultActiveKey:"",children:[(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsx)(q.A.Header,{children:"Purpose"}),(0,x.jsxs)(q.A.Body,{className:" overflow-y-scroll",style:{height:"300px"},children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("h6",{children:"Personal"}),j.purposePersonal.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"purposePersonal"),checked:g.purposePersonal.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(g.purposePersonal.includes(e.value)?"":"title-light"),children:e.label})]})},(0,ta.A)())))]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("h6",{children:"Corporate"}),j.purposeCorporate.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"purposeCorporate"),checked:g.purposeCorporate.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(g.purposeCorporate.includes(e.value)?"":"title-light"),children:e.label})]})},(0,ta.A)())))]})]})]}),(0,x.jsxs)(q.A.Item,{eventKey:"2",children:[(0,x.jsx)(q.A.Header,{children:"Lead Owner"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:j.leadOwner.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",title:e.label,children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"leadOwner"),checked:g.leadOwner.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(g.leadOwner.includes(e.value)?"":"title-light"),children:e.value===(null===m||void 0===m?void 0:m.id)?"Lead Owner":e.label})]})},e.value)))})})]})]})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content w-100",children:(0,x.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-end  ",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",role:"button",onClick:()=>{N({createdFrom:"",createdTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],estimatedRevenue:[0,0],leadOwner:[]}),a(!1),i([]),d(0),c()},disabled:(""===g.createdFrom||""===g.createdTo)&&(""===g.bookingFrom||""===g.bookingTo)&&g.purposeCorporate.length<1&&g.purposePersonal.length<1&&g.estimatedRevenue[1]<1&&g.leadOwner<1,children:"Clear All"}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"btn btn-primary px-4",type:"submit",onClick:f,disabled:(""===g.createdFrom||""===g.createdTo)&&(""===g.bookingFrom||""===g.bookingTo)&&g.purposeCorporate.length<1&&g.purposePersonal.length<1&&g.estimatedRevenue[1]<1&&g.leadOwner<1,children:"Apply"})})]})})]})]})})};var Ht=a(8128),Qt=a(9505);const Wt=e=>{let{props:s}=e;const[a,l]=(0,t.useState)([]);return(0,x.jsx)(Ht.A,{placement:"right",overlay:(0,x.jsxs)(Qt.A,{className:"inquiry-tooltip",id:"button-tooltip",children:[(0,x.jsx)("div",{className:"head",children:"Multi Slot"}),(0,x.jsx)("div",{className:"slot-dates",children:a.join(", ")})]}),children:(0,x.jsx)("span",{onMouseEnter:()=>0===a.length&&(async e=>{try{const s=await Ts.getBookingDates(e),{title:a,data:t}=s;if(a===o.A.success){let e=t.map((e=>e.bookingStartDate));l(e)}}catch(s){r.oR.error(s.message)}})(s.eId),children:(0,x.jsx)(u.CT,{})})},"")},zt=()=>{const[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)([]),[i,d]=(0,t.useState)([]),[c,m]=(0,t.useState)(!1),[u,h]=(0,t.useState)(1),[v,p]=(0,t.useState)(""),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)(!1),[A,C]=(0,t.useState)(0),w=(0,l.Zp)(),{profileDetails:k}=(0,t.useContext)(V.t0),[S]=(0,t.useState)([{title:"Confirmed",id:1},{title:"Cancelled",id:2},{title:"Completed",id:3}]),[D]=(0,t.useState)([{field:"eId",headerText:"E-ID",width:"90",allowSorting:!1},{field:"createdOn",headerText:"CREATED ON",width:"150",allowSorting:!1,type:"dateTime",format:"dd-MMM-yy"},{field:"fullName",headerText:"FULL NAME",width:"150",template:Zt},{field:"companyName",headerText:"COMPANY NAME",width:"160",template:e=>(0,x.jsx)("div",{className:"text-truncate",children:e.companyName||"-"}),allowSorting:!1},{field:"purpose",headerText:"PURPOSE",width:"100",template:e=>(0,x.jsx)("div",{className:"text-truncate",children:e.purpose||"-"}),allowSorting:!1},{field:"pax",headerText:"PAX",width:"90",allowSorting:!1},{field:"bookingDates",headerText:"BOOKING DATES",width:"170",template:e=>e.isMultipleSlot?(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"me-2",style:{width:"90px"},children:(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"}),(0,x.jsx)("div",{style:{width:"30px"},children:(0,x.jsx)(Wt,{props:e})})]}):(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"},{field:"revenue",headerText:"REVENUE",width:"100",template:e=>e.revenue?"\u20b9"+e.revenue:"-"},{field:"status",headerText:"STATUS",width:"100",template:Jt,allowSorting:!1},{field:"assignedTo",headerText:"ASSIGNED TO",width:"170",template:Kt,allowSorting:!1}]),[T,O]=(0,t.useState)({1:[],2:[],3:[]});(0,t.useEffect)((()=>{p(""),y(!1),C(0),d([])}),[u]),(0,t.useEffect)((()=>{q()}),[]),(0,t.useEffect)((()=>{let e=a.filter((e=>5===e.bookingStatusId)),s=a.filter((e=>8===e.bookingStatusId)),t=a.filter((e=>7===e.bookingStatusId));O({1:e,2:s,3:t})}),[a]);const q=async()=>{try{s(!0);const e=await Ts.getBookingsList(),{title:a,data:t}=e;if(a===o.A.success&&(n(t),k.userRoleId!==Q.O.userRolesEnum.value.Administrator)){let e=null===t||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.leadOwnerId)===(null===k||void 0===k?void 0:k.id)));e.length>0&&(y(!0),b(e),C(1))}}catch(e){r.oR.error(e.message)}finally{s(!1)}},P=e=>{const s=e.target.value;if(p(s),s.length){const e=T[u].filter((e=>e.fullName.toLowerCase().includes(s.toLowerCase().trim())||e.companyName.toLowerCase().includes(s.toLowerCase().trim())||e.eId.toString().includes(s.toLowerCase().trim())));b(e)}};let F=v.length||f?N:T[u];const E=(0,t.useMemo)((()=>Math.max(...a.map((e=>e.revenue)))),[a]);return(0,x.jsx)("div",{className:"custom-data-table h-100",children:e?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"top-wrapper mb-3",children:[(0,x.jsx)("div",{children:(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3  border-bottom-0  ",children:S.map((e=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)("span",{role:"button",className:"nav-link ".concat(e.id===u&&"active"),onClick:()=>h(e.id),children:[e.title,"(",T[e.id].length,")"]})},e.id)))})}),(0,x.jsxs)("div",{className:"btns-wrapper",children:[(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{})," ",(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:P,value:v})]}),(0,x.jsxs)("button",{className:"btn btn-outline-secondary btn-sm filter-btn ms-3 btn-34",onClick:()=>m(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),A>0&&(0,x.jsx)("span",{className:"filter-number",children:A})]})]})]}),(0,x.jsx)("div",{className:"custom-data-table pagination-table inquiries-table",children:(0,x.jsxs)(x.Fragment,{children:[T[u].length>0?i.length>0?(0,x.jsxs)(Se._,{dataSource:i,allowSorting:!0,rowSelected:e=>{w("/inquiry-bookings/inquiry-info/"+e.data.eId)},children:[(0,x.jsx)(De.r,{children:D.map((e=>(0,t.createElement)(De.e,{...e,key:e.field})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]}):(f||v.length)&&(0,x.jsx)(Ye,{}):(0,x.jsx)(Gt,{}),(0,x.jsx)(Fe,{data:F,getPaginatedData:d,searchText:v,filterApplied:f}),(0,x.jsx)(Ut,{show:c,setShow:m,bookingData:F,setFilteredData:b,setFilterCount:C,onClearFilter:()=>{v.length>0&&P(v),y(!1)},setFilterApplied:y,maxRevenue:E,profileDetails:k})]})})]})})},Gt=()=>(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-image",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Bookings found!"})]})}),Kt=e=>(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:Ja,alt:""}),(0,x.jsx)("span",{className:"ms-1 text-truncate ",children:e.assignedTo?e.assignedTo:"-"})]}),Zt=e=>(0,x.jsx)("div",{className:"text-truncate",children:(0,x.jsx)("div",{className:"txt-primary cursor-pointer",children:e.fullName||"-"})}),Jt=e=>{let{bookingStatusId:s}=e;return(0,x.jsxs)(x.Fragment,{children:[5===s&&(0,x.jsx)("span",{className:"active-text",children:"Confirmed"}),8===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),7===s&&(0,x.jsx)("span",{className:"blue-text",children:"Completed"})]})},Xt=e=>{let{show:s,setShow:a,inquiryData:n,setFilteredData:i,setFilterCount:d,onClearFilter:c,setFilterApplied:r,maxRevenue:o,profileDetails:m}=e;const{usersList:u,personalPurpose:h,corporatePurpose:v}=(0,l.KC)(),[j,p]=(0,t.useState)({createdFrom:"",createdTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],estimatedRevenue:[0,0],statusId:[{label:"Active",value:1},{label:"Disposed",value:2},{label:"Cancelled",value:3}],priorityId:[{label:"Low",value:1},{label:"Medium",value:2},{label:"High",value:3}],leadOwner:[]}),[g,N]=(0,t.useState)({createdFrom:"",createdTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],estimatedRevenue:[0,0],statusId:[],priorityId:[],leadOwner:[null===m||void 0===m?void 0:m.id]});(0,t.useEffect)((()=>{p((e=>({...e,leadOwner:null===u||void 0===u?void 0:u.map((e=>{let{id:s,firstName:a,lastName:t}=e;return{label:a+" "+t,value:s}}))})))}),[u]),(0,t.useEffect)((()=>{p((e=>({...e,purposePersonal:null===h||void 0===h?void 0:h.map((e=>{let{id:s,title:a}=e;return{label:a,value:s}}))})))}),[h]),(0,t.useEffect)((()=>{p((e=>({...e,purposeCorporate:null===v||void 0===v?void 0:v.map((e=>{let{id:s,title:a}=e;return{label:a,value:s}}))})))}),[v]);const b=(e,s,a)=>{const t={...g};t[a].includes(s)?t[a].splice(t[a].indexOf(s),1):t[a].push(s),N(t)},f=e=>{e.preventDefault(),A()},y=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d,t={...g};t[s]=a||"",N(t)},A=()=>{let e=[...n],s=0;const{createdFrom:t,createdTo:l,bookingFrom:c,bookingTo:o,purposeCorporate:m,purposePersonal:u,estimatedRevenue:h,statusId:x,priorityId:v,leadOwner:j}=g;if(t&&l){const a=new Date(t),n=new Date(l),i=e.filter((e=>{const s=new Date(e.createdOn);return s>=a&&s<=n}));e=i,s++}if(c&&o){const a=new Date(c),t=new Date(o),l=e.filter((e=>{const s=new Date(e.createdOn);return s>=a&&s<=t}));e=l,s++}if(h[1]>0){const a=h[0],t=h[1],l=e.filter((e=>e.estimatedRevenue>=a&&e.estimatedRevenue<=t));e=l,s++}if(u.length>0){const a=e.filter((e=>u.includes(e.purposeId)&&1===e.inquiryTypeId));e=a,s++}if(m.length>0){const a=e.filter((e=>m.includes(e.purposeId)&&2===e.inquiryTypeId));e=a,s++}if(x.length>0){const a=e.filter((e=>x.includes(e.statusId)));e=a,s++}if(v.length>0){const a=e.filter((e=>v.includes(e.priorityId)));e=a,s++}if(j.length>0){const a=e.filter((e=>j.includes(null===e||void 0===e?void 0:e.leadOwnerId)));e=a,s++}s>0&&(r(!0),i(e),d(s),a(!1))};return(0,x.jsx)("form",{onSubmit:f,children:(0,x.jsxs)(z.A,{show:s,onHide:()=>a(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Created Date Range"}),(0,x.jsxs)("div",{className:"row mb-2",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(X,{placeholder:"DD/MM/YYYY",value:g.createdFrom,onChange:e=>y(e,"createdFrom"),name:"createdFrom"})})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(X,{placeholder:"DD/MM/YYYY",value:g.createdTo,onChange:e=>y(e,"createdTo"),name:"createdTo"})})})]}),(0,x.jsx)("label",{className:"form-label",children:"Booking Date Range"}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(X,{placeholder:"DD/MM/YYYY",value:g.bookingFrom,onChange:e=>y(e,"bookingFrom"),name:"bookingFrom"})})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(X,{placeholder:"DD/MM/YYYY",value:g.bookingTo,onChange:e=>y(e,"bookingTo"),name:"bookingTo"})})})]}),(0,x.jsx)("label",{className:"form-label",children:"Estimated Revenue"}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsx)(Vt,{name:"estimatedRevenue",min:0,max:o||1e3,change:e=>{const s={...g};s.estimatedRevenue=e.value,N(s)},value:g.estimatedRevenue,ticks:{placement:"Before",largeStep:o,smallStep:0,showSmallTicks:!1}})})})}),(0,x.jsx)("div",{className:"filter-accordion",children:(0,x.jsxs)(q.A,{defaultActiveKey:"",children:[(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsx)(q.A.Header,{children:"Purpose"}),(0,x.jsxs)(q.A.Body,{className:" overflow-y-scroll",style:{height:"300px"},children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("h6",{children:"Personal"}),j.purposePersonal.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",title:e.label,children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"purposePersonal"),checked:g.purposePersonal.includes(e.value),id:e.label}),(0,x.jsx)("label",{className:"check-title ".concat(g.purposePersonal.includes(e.value)?"":"title-light"),htmlFor:e.label,children:e.label})]})},(0,ta.A)())))]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("h6",{children:"Corporate"}),j.purposeCorporate.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",title:e.label,children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"purposeCorporate"),checked:g.purposeCorporate.includes(e.value),id:e.label}),(0,x.jsx)("label",{className:"check-title ".concat(g.purposeCorporate.includes(e.value)?"":"title-light"),htmlFor:e.label,children:e.label})]})},(0,ta.A)())))]})]})]}),(0,x.jsxs)(q.A.Item,{eventKey:"1",children:[(0,x.jsx)(q.A.Header,{children:"Status"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:j.statusId.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"statusId"),checked:g.statusId.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(g.statusId.includes(e.value)?"":"title-light"),children:e.label})]})},s)))})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"2",children:[(0,x.jsx)(q.A.Header,{children:"Priority"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:j.priorityId.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"priorityId"),checked:g.priorityId.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(g.priorityId.includes(e.value)?"":"title-light"),children:e.label})]})},s)))})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"3",children:[(0,x.jsx)(q.A.Header,{children:"Lead Owner"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:j.leadOwner.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",title:e.label,children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>b(0,e.value,"leadOwner"),checked:g.leadOwner.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(g.leadOwner.includes(e.value)?"":"title-light"),children:e.value===(null===m||void 0===m?void 0:m.id)?"Lead Owner":e.label})]})},e.value)))})})]})]})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content w-100",children:(0,x.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-end  ",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:()=>{N({createdFrom:"",createdTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],estimatedRevenue:[0,0],statusId:[],priorityId:[],leadOwner:[]}),a(!1),i([]),d(0),c()},disabled:(null===g.createdFrom||null===g.createdTo)&&(null===g.bookingFrom||null===g.bookingTo)&&g.statusId.length<1&&g.priorityId.length<1&&g.purposeCorporate.length<1&&g.purposePersonal.length<1&&g.estimatedRevenue[1]<1&&g.statusId.length<1&&g.leadOwner<1,children:"Clear All"}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"btn btn-primary px-4",type:"submit",onClick:f,disabled:(!g.createdFrom||!g.createdTo)&&(!g.bookingFrom||!g.bookingTo)&&g.purposeCorporate.length<1&&g.purposePersonal.length<1&&g.statusId.length<1&&g.priorityId.length<1&&g.estimatedRevenue[1]<1&&g.statusId.length<1&&g.leadOwner<1,children:"Apply"})})]})})]})]})})},_t=e=>{let{priorityId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"blue-badge",children:"Low"}),2===s&&(0,x.jsx)("span",{className:"yellow-badge",children:"Medium"}),3===s&&(0,x.jsx)("span",{className:"red-badge",children:"High"})]})},$t=e=>(0,x.jsxs)("div",{className:"d-flex align-items-center rounded-5 ",children:[(0,x.jsx)("img",{height:18,width:18,src:(null===e||void 0===e?void 0:e.leadOwnerProfileImage)||Ja,alt:"",className:"rounded-5"}),(0,x.jsx)("span",{className:"ms-1",children:e.leadOwner||e.assignedTo})]}),el=()=>{const e=(0,l.Zp)(),[s,a]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)([]),{addNewGuestCanvas:m,setAddNewGuestCanvas:u}=(0,l.KC)(),[h]=(0,t.useState)([{field:"eId",headerText:"E-ID",width:"90",allowSorting:!1},{field:"createdOn",headerText:"CREATED ON",width:"150",format:"dd-MMM-yy",type:"dateTime"},{field:"fullName",headerText:"FULL NAME",width:"150",template:al},{field:"companyName",headerText:"COMPANY NAME",width:"180",template:e=>(0,x.jsx)("div",{className:"text-truncate",title:e.companyName,children:e.companyName||"-"}),allowSorting:!1},{field:"purpose",headerText:"PURPOSE",width:"100",template:e=>(0,x.jsx)("div",{className:"text-truncate",title:e.purpose,children:e.purpose||"-"}),allowSorting:!1},{field:"pax",headerText:"PAX",width:"90",allowSorting:!1,template:e=>e.pax},{field:"bookingDates",headerText:"BOOKING DATES",width:"180",type:"dateTime",format:"dd-MMM-yy",template:e=>e.isMultipleSlot?(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"me-2",style:{width:"90px"},children:(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"}),(0,x.jsx)("div",{style:{width:"30px"},children:(0,x.jsx)(Wt,{props:e})})]}):(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"},{field:"estimatedRevenue",headerText:"EST REVENUE",width:"150",template:e=>"\u20b9"+e.estimatedRevenue},{field:"status",headerText:"STATUS",width:"100",template:tl,allowSorting:!1},{field:"leadOwner",headerText:"LEAD OWNER",width:"170",template:$t,allowSorting:!1},{field:"priority",headerText:"PRIORITY",width:"100",template:_t,allowSorting:!1}]),[v,p]=(0,t.useState)(""),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)(!1),[A,C]=(0,t.useState)(0),[w,k]=(0,t.useState)([]),{profileDetails:S}=(0,t.useContext)(V.t0);(0,t.useEffect)((()=>{D()}),[]);const D=async()=>{try{i(!0);const e=await Ts.getInquiryList(),{title:s,data:a}=e;if(s===o.A.success&&(c(a),S.userRoleId!==Q.O.userRolesEnum.value.Administrator)){let e=null===a||void 0===a?void 0:a.filter((e=>(null===e||void 0===e?void 0:e.leadOwnerId)===(null===S||void 0===S?void 0:S.id)));e.length>0&&(y(!0),b(e),C(1))}}catch(e){r.oR.error(e.message)}finally{i(!1)}},T=e=>{const s=e;if(p(s),s.length){const e=d.filter((e=>e.fullName.toLowerCase().includes(s.toLowerCase().trim())||e.companyName.toLowerCase().includes(s.toLowerCase().trim())||e.eId.toString().includes(s.toLowerCase().trim())));b(e)}},O=(0,t.useMemo)((()=>Math.max(...d.map((e=>e.estimatedRevenue)))),[d]);let q=f||v.length?N:d;return(0,x.jsxs)(x.Fragment,{children:[n?(0,x.jsx)(g.A,{}):d.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"top-wrapper mb-3",children:[(0,x.jsx)("h6",{className:"mb-0 inquiry-table-heading ",children:"Inquiry Listing"}),(0,x.jsxs)("div",{className:"btns-wrapper",children:[(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{})," ",(0,x.jsx)("input",{type:"text",placeholder:"Search",value:v,onChange:e=>T(e.target.value)})]}),(0,x.jsxs)("button",{className:"btn btn-34 btn-outline-secondary btn-sm filter-btn ms-3",onClick:()=>a(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),A>0&&(0,x.jsx)("span",{className:"filter-number",children:A})]})]})]}),(0,x.jsxs)("div",{className:"custom-data-table pagination-table inquiries-table custom-tooltip  ",children:[d.length>0?(0,x.jsx)(x.Fragment,{children:w.length>0?(0,x.jsxs)(Se._,{dataSource:w,allowSorting:!0,enableHover:!0,rowSelected:s=>{e("/inquiry-bookings/inquiry-info/"+s.data.eId)},children:[(0,x.jsx)(De.r,{children:h.map((e=>(0,t.createElement)(De.e,{...e,key:e.field})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]}):(f||v.length)&&(0,x.jsx)(Ye,{})}):(0,x.jsx)(x.Fragment,{}),(0,x.jsx)(Fe,{data:q,searchText:v,getPaginatedData:k,filterApplied:f})]}),(0,x.jsx)(Xt,{show:s,setShow:a,inquiryData:d,setFilteredData:b,setFilterCount:C,onClearFilter:()=>{v.length>0&&T(v),y(!1)},setFilterApplied:y,maxRevenue:O,profileDetails:S})]}):(0,x.jsx)(sl,{}),(0,x.jsx)(be,{show:m,handleClose:()=>u(!1),onSuccessProceed:s=>e("/inquiry-bookings/inquiry/new-"+s)})]})},sl=()=>{const{setAddNewGuestCanvas:e}=(0,l.KC)();return(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-inquiry",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Inquiries found!"}),(0,x.jsx)("p",{className:"description"}),(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("button",{className:"btn btn-primary  px-3 add-btn fs-15 fw-bolder ",onClick:()=>e(!0),children:"Create New"})})]})})},al=e=>(0,x.jsx)("div",{className:"txt-primary cursor-pointer text-truncate",title:e.fullName,children:e.fullName||"-"}),tl=e=>{let{statusId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),2===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Disposed"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),4===s&&(0,x.jsx)("span",{className:"active-text",children:"Completed"})]})},ll=e=>{let{reminderData:s,show:a,setShow:l,setFilterApplied:n,setFilteredData:i,setFilterCount:d,onClearFilter:c}=e;const[r,o]=(0,t.useState)({startDate:null,endDate:null,status:null,reminderType:null}),m=e=>{const{value:s,name:a}=e.target;let t={...r};t[a]=s,o(t)},u=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;let t={...r};t[s]=a,o(t)},h=e=>{e.preventDefault(),v()},v=()=>{let e=[...s.map((e=>""===e.reminderTag?{...e,reminderTag:"Inquiry Based"}:e))],a=0;const{startDate:t,endDate:c,status:o,reminderType:m}=r;if(t&&c){const s=new Date(t).setHours(0,0,0,0),l=new Date(c).setHours(23,59,59,999),n=e.filter((e=>{const a=new Date(e.selectDate).setHours(0,0,0,0);return a>=s&&a<=l}));e=n,a++}if(o){const s=e.filter((e=>o===(null===e||void 0===e?void 0:e.statusId)));e=s,a++}if(m){const s=e.filter((e=>(console.log(m,e.reminderTag),Q.O.reminderTypeEnum.text[m]===(null===e||void 0===e?void 0:e.reminderTag))));e=s,a++}a>0&&(n(!0),i(e),d(a),l(!1))},j=(0,t.useMemo)((()=>{let e=Q.O.statusEnum.list;const{Upcoming:s,Completed:a,Cancelled:t,Today:l,Expired:n}=Q.O.statusEnum.value;return e.filter((e=>[s,a,t,l,n].includes(e.value)))}),[Q.O.statusEnum.list]);return(0,x.jsx)("form",{onSubmit:h,children:(0,x.jsxs)(z.A,{show:a,onHide:()=>l(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsxs)("div",{className:"offcanvas-body-container mt-2",children:[(0,x.jsxs)("div",{className:"row mx-2 ",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Date Range"})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date ",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>u(e,"startDate"),value:r.startDate})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>u(e,"endDate"),value:r.endDate})}),(0,x.jsx)("div",{className:"col-md-12 mb-4 dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:j,placeholder:"Status",onChange:m,value:r.status,name:"status"})}),(0,x.jsx)("div",{className:"col-md-12 mb-4 dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:Q.O.reminderTypeEnum.list,placeholder:"Type",onChange:m,value:r.reminderType,name:"reminderType"})})]}),(0,x.jsxs)("div",{className:"offCanvas-footer text-end p-3",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:()=>{o({startDate:null,endDate:null,status:null,reminderType:null}),l(!1),d(0),c()},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-primary px-4",onClick:h,disabled:(!r.endDate||!r.startDate)&&""===r.status&&""===r.reminderType,children:"Apply"})]})]})})]})})},nl=e=>{let{show:s,setShow:a,getList:l,editData:n,setEditData:i}=e;const d={title:"",description:"",selectDate:"",selectTime:"",remindBeforeTime:"",reminderTag:""},[c,r]=(0,t.useState)({...d}),[u,h]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n&&r({...n})}),[n]);const v=e=>{const{value:s,name:a}=e.target,t={...c};t[a]=s,r(t)},j=e=>{if(e){const[s,a]=e.split(" ");let[t,l]=s.split(":");return t=parseInt(t,10),l=parseInt(l,10),"".concat(t<10?"0"+t:t,":").concat(l<10?"0"+l:l," ").concat(a)}},p=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d;if("remindBeforeTime"===s&&a){const e=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2);"00:00"!==e&&r({...c,[s]:e})}else if("selectTime"===s&&a){const e=a;r({...c,[s]:j(e.toLocaleTimeString("en-US"))})}else null===e&&r({...c,[s]:e})},g=()=>{r({...d}),a(!1),i(null)};return(0,x.jsx)("form",{children:(0,x.jsxs)(z.A,{show:s,onHide:g,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Add Reminder"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("h6",{className:"mb-4",children:"Create general reminder"}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:c.title,onChange:v,name:"title"})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Description"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:c.description,onChange:v,name:"description"})]})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Select Date *"}),(0,x.jsx)(X,{name:"selectDate",value:c.selectDate,onChange:e=>((e,s)=>{if(e){const a=null===e||void 0===e?void 0:e.$d;r({...c,[s]:a})}else r({...c,[s]:e})})(e,"selectDate"),placeholder:"DD / MM / YY",minDate:S()(new Date)})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Time *"}),(0,x.jsx)($,{value:c.selectTime,handleChange:e=>p(e,"selectTime"),selectedDate:c.selectDate})]})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Remind me Before *"}),(0,x.jsx)(G.A,{value:c.remindBeforeTime?S()(c.remindBeforeTime,"hh:mm"):null,onChange:e=>p(e,"remindBeforeTime"),name:"remindBeforeTime",format:"HH:mm",placeholder:"00:00 AM / PM",className:"custom-time-select"})]})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content w-100",children:(0,x.jsxs)("div",{className:"d-flex w-100 align-items-center justify-content-end  ",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:g,children:"Cancel"}),(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"btn btn-primary px-4",type:"submit",disabled:""===c.title||!c.selectDate||!c.selectTime||!c.remindBeforeTime,onClick:async()=>{h(!0);try{const e={reminderId:0,inquiryInfoId:null,guestId:0,isEdited:!0,...c,selectDate:S()(c.selectDate).format("DD-MM-YYYY")},{title:s}=await _.addGeneralReminder(e);s===o.A.success&&(a(!1),r({...d}),i(null),l())}catch(e){console.log(e)}finally{h(!1)}},children:[u&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),n?"Update":"Save"]})})]})})]})]})})},il=e=>{let{show:s,setShow:a,onConfirm:t,actionData:l}=e;return(0,x.jsx)(E.A,{show:s,className:"custom-modal",centered:!0,onHide:()=>{a(!1)},children:(0,x.jsxs)("form",{onSubmit:t,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:(0,x.jsx)("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Confirm action"})})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:ne,alt:""}),(0,x.jsx)("h4",{className:"fw-bold mt-4",children:"Are you sure want to confirm ?"}),(0,x.jsxs)("p",{className:"description mb-3 text-center",children:["complete"===l.action&&"Once marked as Complete, the reminder cannot be activated or edited again","cancel"===l.action&&"Once Cancelled, the reminder cannot be activated or edited again"]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)("button",{className:"btn btn-primary btn-sm",onClick:t,children:"Submit"})})]})})},dl=(0,t.createContext)(),cl=()=>{const[e,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)([]),[d,c]=(0,t.useState)(!1),[r,m]=(0,t.useState)(null),[u,h]=(0,t.useState)(""),[v,p]=(0,t.useState)([]),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)(null),[A,I]=(0,t.useState)(!1),[C,w]=(0,t.useState)(0),[k,S]=(0,t.useState)(!1),[D,T]=(0,t.useState)({action:"",reminderId:"",statusId:""});(0,t.useEffect)((()=>{c(!0),O()}),[]);const O=async()=>{try{const{data:e,title:s}=await _.getAllReminderDetails();if(s===o.A.success){let s=null===e||void 0===e?void 0:e.map((e=>{var s;const a={...e},[t,l,n]=null===a||void 0===a||null===(s=a.selectDate)||void 0===s?void 0:s.split("-"),i="".concat(n,"-").concat(l,"-").concat(t,"T00:00:00.000Z");return a.selectDate=i,a}));i(s),p(s)}}catch(e){console.log(e)}finally{c(!1)}},q=v,P=q.filter((e=>e.statusId===Q.O.statusEnum.value.Today)),B=q.filter((e=>e.statusId===Q.O.statusEnum.value.Upcoming)),F=q.filter((e=>e.statusId===Q.O.statusEnum.value.Cancelled)),E=q.filter((e=>e.statusId===Q.O.statusEnum.value.Completed)),R=q.filter((e=>e.statusId===Q.O.statusEnum.value.Expired)),M=U("Reminders","Add"),Y=U("Reminders","Edit"),L=U("Reminders","Cancel"),V=U("Reminders","Complete");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("header",{className:"header px-4",children:[(0,x.jsx)("h4",{className:"heading-title",children:"Reminders"}),(0,x.jsx)("div",{className:"flex-grow-1 d-flex justify-content-end",children:M&&(0,x.jsxs)("button",{className:"btn px-3 btn-outline-primary d-flex align-items-center",onClick:()=>s(!0),children:[(0,x.jsx)(j.nK,{}),(0,x.jsx)("span",{className:"ms-1",children:"Add New"})]})})]}),(0,x.jsx)("div",{className:"reminders",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white h-100",children:d?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"action-wrapper d-flex justify-content-between align-items-center mb-4 mx-2 flex-wrap",children:[(0,x.jsx)("h5",{className:"main-headings",children:"Reminder Details "}),(0,x.jsxs)("div",{className:"search-wrapper-group d-flex align-items-center flex-wrap",children:[(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{})," ",(0,x.jsx)("input",{type:"text",placeholder:"Search",value:u,onChange:e=>(e=>{if(h(e),e.length){const s=n.filter((s=>s.guestName.toLowerCase().includes(e.toLowerCase().trim())||s.eventDescription.toLowerCase().includes(e.toLowerCase().trim())||s.title.toLowerCase().includes(e.toLowerCase().trim())||s.inquiryInfoId.toString().includes(e.toLowerCase().trim())));p(s)}else p(n)})(e.target.value)})]}),(0,x.jsxs)("button",{className:"btn btn-34 btn-outline-secondary btn-sm filter-btn ms-3",onClick:()=>l(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),C>0&&(0,x.jsx)("span",{className:"filter-number",children:C})]})]})]}),(0,x.jsx)("div",{className:"general-reminder-wrapper",children:(0,x.jsx)("div",{className:"d-flex flex-row h-100",children:(0,x.jsxs)(dl.Provider,{value:{editReminder:e=>{m(e),s(!0)},handleStatus:(e,s)=>{let a="";"complete"===s?(a=Q.O.statusEnum.value.Completed,T({action:s,reminderId:e,statusId:a})):"cancel"===s&&(a=Q.O.statusEnum.value.Cancelled,T({action:s,reminderId:e,statusId:a})),S(!0)},statusLoading:N,canCompleteReminder:V,canCancelReminder:L,canEditReminder:Y,reminderId:f},children:[(0,x.jsx)(rl,{reminderList:P}),(0,x.jsx)(ol,{reminderList:B}),(0,x.jsx)(ml,{reminderList:F}),(0,x.jsx)(ul,{reminderList:E}),(0,x.jsx)(hl,{reminderList:R})]})})})]})})}),(0,x.jsx)(ll,{setShow:l,show:a,reminderData:n,setFilterCount:w,onClearFilter:()=>{p(n)},setFilteredData:p,setFilterApplied:I}),(0,x.jsx)(nl,{setShow:s,show:e,getList:O,editData:r,setEditData:m}),(0,x.jsx)(il,{show:k,setShow:S,onConfirm:async e=>{e.preventDefault(),S(!1);try{b(!0),y(D.reminderId);const{title:e}=await _.updateReminderStatus(D.reminderId,D.statusId);e===o.A.success&&O()}catch(s){console.log(s)}finally{b(!1)}},actionData:D})]})},rl=e=>{let{reminderList:s=[]}=e;return(0,x.jsx)("div",{className:"border-end h-100 reminder-item",children:(0,x.jsxs)("div",{className:"reminder-group h-100",children:[(0,x.jsxs)("h5",{className:"list-heading mb-4",children:["Today\u2019s Reminders (",s.length,")"]}),(0,x.jsx)("div",{className:"reminder-container",children:null===s||void 0===s?void 0:s.map((e=>(null===e||void 0===e?void 0:e.reminderTag)===Q.O.reminderTypeEnum.text[1]?(0,x.jsx)(xl,{data:e,showAction:!0},null===e||void 0===e?void 0:e.reminderId):(0,x.jsx)(vl,{data:e,showAction:!0},null===e||void 0===e?void 0:e.reminderId)))})]})})},ol=e=>{let{reminderList:s=[]}=e;return(0,x.jsx)("div",{className:"border-end h-100 reminder-item",children:(0,x.jsxs)("div",{className:"reminder-group h-100",children:[(0,x.jsxs)("h5",{className:"list-heading mb-4",children:["Upcoming (",null===s||void 0===s?void 0:s.length,")"," "]}),(0,x.jsx)("div",{className:"reminder-container",children:null===s||void 0===s?void 0:s.map((e=>(null===e||void 0===e?void 0:e.reminderTag)===Q.O.reminderTypeEnum.text[1]?(0,x.jsx)(xl,{data:e,showAction:!0},null===e||void 0===e?void 0:e.reminderId):(0,x.jsx)(vl,{data:e,showAction:!0},null===e||void 0===e?void 0:e.reminderId)))})]})})},ml=e=>{let{reminderList:s=[]}=e;return(0,x.jsx)("div",{className:"border-end h-100 reminder-item",children:(0,x.jsxs)("div",{className:"reminder-group h-100",children:[(0,x.jsxs)("h5",{className:"list-heading mb-4",children:["Cancelled (",null===s||void 0===s?void 0:s.length,")"," "]}),(0,x.jsx)("div",{className:"reminder-container",children:null===s||void 0===s?void 0:s.map((e=>(null===e||void 0===e?void 0:e.reminderTag)===Q.O.reminderTypeEnum.text[1]?(0,x.jsx)(xl,{data:e,showAction:!1},null===e||void 0===e?void 0:e.reminderId):(0,x.jsx)(vl,{data:e,showAction:!1},null===e||void 0===e?void 0:e.reminderId)))})]})})},ul=e=>{let{reminderList:s=[]}=e;return(0,x.jsx)("div",{className:"h-100 reminder-item",children:(0,x.jsxs)("div",{className:"reminder-group h-100",children:[(0,x.jsxs)("h5",{className:"list-heading mb-4",children:["Completed (",null===s||void 0===s?void 0:s.length,")"," "]}),(0,x.jsx)("div",{className:"reminder-container",children:null===s||void 0===s?void 0:s.map((e=>(null===e||void 0===e?void 0:e.reminderTag)===Q.O.reminderTypeEnum.text[1]?(0,x.jsx)(xl,{data:e,showAction:!1},null===e||void 0===e?void 0:e.reminderId):(0,x.jsx)(vl,{data:e,showAction:!1},null===e||void 0===e?void 0:e.reminderId)))})]})})},hl=e=>{let{reminderList:s=[]}=e;return(0,x.jsx)("div",{className:"h-100 reminder-item",children:(0,x.jsxs)("div",{className:"reminder-group h-100",children:[(0,x.jsxs)("h5",{className:"list-heading mb-4",children:["Expired (",null===s||void 0===s?void 0:s.length,")"," "]}),(0,x.jsx)("div",{className:"reminder-container",children:null===s||void 0===s?void 0:s.map((e=>(null===e||void 0===e?void 0:e.reminderTag)===Q.O.reminderTypeEnum.text[1]?(0,x.jsx)(xl,{data:e,showAction:!0},null===e||void 0===e?void 0:e.reminderId):(0,x.jsx)(vl,{data:e,showAction:!0},null===e||void 0===e?void 0:e.reminderId)))})]})})},xl=e=>{let{data:s,showAction:a}=e;const{editReminder:l,handleStatus:n,statusLoading:i,canCompleteReminder:d,canCancelReminder:c,canEditReminder:r,reminderId:o}=(0,t.useContext)(dl);return(0,x.jsxs)("div",{className:"reminder-card",children:[(0,x.jsxs)("div",{className:"reminder-section",children:[(0,x.jsx)("div",{className:"reminder-heading",children:(0,x.jsxs)("p",{className:"mb-0",children:[s.title,(0,x.jsx)("span",{className:"reminder-badges",children:"General Reminder"})]})}),a&&(0,x.jsx)("div",{className:"",children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:i&&o===s.reminderId?(0,x.jsx)(m.A,{size:"sm",variant:"secondary"}):(0,x.jsxs)(W.A,{className:"new-custom-dropdown",children:[(0,x.jsx)(W.A.Toggle,{variant:"",id:"dropdown-basic",children:(0,x.jsx)(j.as,{})}),(0,x.jsxs)(W.A.Menu,{children:[d&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>n(s.reminderId,"complete"),children:[(0,x.jsx)(j.LH,{})," ",(0,x.jsx)("span",{className:"ms-1  dropdown-title",children:"Mark as Completed"})]})}),r&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>l(s),children:[(0,x.jsx)(j.WR,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Edit Reminder"})]})}),c&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>{n(s.reminderId,"cancel")},children:[(0,x.jsx)(j.Xn,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Cancel Reminder"})]})})]})]})})})]}),(0,x.jsx)("div",{className:"heading-border mt-2"}),(0,x.jsx)("p",{className:"data-label mt-3 reminder-desc",children:s.description||""}),(0,x.jsx)("div",{className:"reminder-bottom mt-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,x.jsx)("img",{src:P,alt:""}),(0,x.jsxs)("div",{className:"fs-12-px mt-0 mb-0 text-grey2",children:[(0,B.Yq)(s.selectDate,"DD MMM, YYYY")," | ",s.selectTime]})]})})]})},vl=e=>{let{data:s,showAction:a}=e;const{editReminder:l,handleStatus:n,statusLoading:i,canCompleteReminder:d,canCancelReminder:c,canEditReminder:r,reminderId:o}=(0,t.useContext)(dl);return(0,x.jsxs)("div",{className:"reminder-card",children:[(0,x.jsxs)("div",{className:"reminder-section",children:[(0,x.jsx)("div",{className:"reminder-heading",children:(0,x.jsx)("p",{className:"mb-0",children:s.title})}),a&&(0,x.jsx)("div",{className:"",children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:i&&o===s.reminderId?(0,x.jsx)(m.A,{size:"sm",variant:"secondary"}):(0,x.jsxs)(W.A,{className:"new-custom-dropdown",children:[(0,x.jsx)(W.A.Toggle,{variant:"",id:"dropdown-basic",children:(0,x.jsx)(j.as,{})}),(0,x.jsxs)(W.A.Menu,{children:[d&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>n(s.reminderId,"complete"),children:[(0,x.jsx)(j.LH,{})," ",(0,x.jsx)("span",{className:"ms-1  dropdown-title",children:"Mark as Completed"})]})}),r&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>l(s),children:[(0,x.jsx)(j.WR,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Edit Reminder"})]})}),c&&(0,x.jsx)(W.A.Item,{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>{n(s.reminderId,"cancel")},children:[(0,x.jsx)(j.Xn,{})," ",(0,x.jsx)("span",{className:"ms-1 dropdown-title",children:"Cancel Reminder"})]})})]})]})})})]}),(0,x.jsx)("div",{className:"heading-border mt-2"}),(0,x.jsxs)("h5",{className:"summary-title  mt-3",children:[(0,x.jsxs)("span",{children:["E-ID: ",s.inquiryInfoId]}),(0,x.jsx)("span",{className:"ms-2 me-2",children:"|"}),(0,x.jsxs)("span",{children:[" ",s.guestName]}),(0,x.jsx)("span",{className:"ms-2 me-2",children:"|"}),(0,x.jsxs)("span",{children:[" ",s.eventDescription]}),s.company&&(0,x.jsxs)("span",{children:["-",s.company]}),s.brideName&&s.groomName&&(0,x.jsxs)("span",{children:["\xa0-\xa0",s.brideName+" & "+s.groomName]})]}),(0,x.jsx)("p",{className:"data-label mt-3 reminder-desc",children:s.description||""}),(0,x.jsx)("div",{className:"reminder-bottom mt-2",children:(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,x.jsx)("img",{src:P,alt:""}),(0,x.jsxs)("div",{className:"fs-12-px mt-0 mb-0 text-purple",children:[(0,B.Yq)(s.selectDate,"DD MMM, YYYY")," | ",s.selectTime]})]})})]})};var jl=a(6550);const pl=()=>{const{profileDetails:e,setProfileDetails:s,profileChange:a,setProfileChange:l,getProfileData:n}=(0,t.useContext)(V.t0),[i,d]=(0,t.useState)(!1),c=U("Profile","Add");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:He,alt:""}),(0,x.jsxs)("h4",{className:"users-profile mb-0 ms-2",children:[e.firstName," ",e.lastName]})]})}),(0,x.jsx)("div",{className:"px-4  profile-container",children:(0,x.jsxs)("div",{className:"row h-100 ",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"bg-custom-white h-100",children:[(0,x.jsx)("div",{className:"profile-uploader",children:(0,x.jsxs)("label",{htmlFor:"imageUpload",children:[(0,x.jsx)("div",{className:"image-container",children:i?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[" ",e.profileImage?(0,x.jsx)("img",{src:"".concat(e.profileImage,"?timestamp=").concat(a),className:"profile-image",alt:"profiledesign"}):(0,x.jsx)("img",{src:"Male"===e.gender?ms:"Female"===e.gender?us:null,className:"profile-image",alt:"profiledesign"})]})}),(0,x.jsx)("div",{className:"profile-upload",children:(0,x.jsx)("img",{src:cs,alt:"uploaddesign",className:"upload-img"})})]})}),c&&(0,x.jsx)("input",{type:"file",id:"imageUpload",accept:"image/*",style:{display:"none"},onChange:async e=>{const s=e.target.files[0];if(s&&"image/jpeg"===s.type||"image/png"===s.type||"image/jpg"===s.type){if(s.size>2097152)return void alert("File size exceeds the maximum limit (2MB)");try{d(!0);const a=new FormData;a.append("File",s);const t=await jl.A.upLoadProfileImage(a),{title:l}=t;l===o.A.success&&(n(),e.target.value="")}catch(a){console.error(a.message)}finally{d(!1)}}else alert("Please upload a valid image file.")}}),(0,x.jsxs)("h4",{className:"title user-heading text-center mt-3",children:[e.firstName," ",e.lastName]}),(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("p",{className:"design-desc text-center",children:e.userRole})})]})}),(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsxs)("div",{className:"bg-custom-white h-100 ",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center mb-4",children:[(0,x.jsx)("div",{children:(0,x.jsx)("h4",{className:"title profile-heading mb-0",children:"Personal Info"})}),(0,x.jsx)("div",{className:"header-seperator"})]}),(0,x.jsxs)("div",{className:"row custom-inputs",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"User ID"}),(0,x.jsx)("div",{className:"profile-value",children:e.id})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"User Since"}),(0,x.jsx)("div",{className:"profile-value",children:e.userSince})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Status"}),(0,x.jsx)("div",{className:"profile-value",children:We(e.userStatus)})]})})]}),(0,x.jsx)("div",{className:"heading-border mt-2"}),(0,x.jsxs)("div",{className:"row custom-inputs mt-4",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"First Name "}),(0,x.jsx)("div",{className:"profile-value",children:e.firstName})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Middle Name"}),(0,x.jsx)("div",{className:"profile-value",children:e.middleName||"-"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Last Name"}),(0,x.jsx)("div",{className:"profile-value",children:e.lastName})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Gender"}),(0,x.jsx)("div",{className:"profile-value",children:e.gender||"-"})]})})]}),(0,x.jsxs)("div",{className:"row custom-inputs mt-4",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Mobile Number"}),(0,x.jsx)("div",{className:"profile-value",children:e.mobileNumber})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Email Address"}),(0,x.jsx)("div",{className:"profile-value",children:e.emailId})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"profile-data-wrapper",children:[(0,x.jsx)("div",{className:"data-header",children:"Access"}),(0,x.jsx)("div",{className:"profile-value",children:e.userRole})]})})]})]})})]})})]})},gl={getTodaysNotification:()=>i.A.get(d.V.getTodaysNotification),getWeeklyNotification:()=>i.A.get(d.V.getWeekNotification),getMonthlyNotification:()=>i.A.get(d.V.getMonthNotification),getNotificationCount:()=>i.A.get(d.V.getNotificationCountDetails)},Nl=a.p+"static/media/new-notification.9a021dfdc39a77018d32.png",bl=e=>{let{data:s}=e;const{SuccessfulMemberVerification:a,DuplicateInquiryCreated:t,DuplicateInquiryDiscarded:l,Reminders:n,InquiryReassigned:i,InquiryModified:d,AnotherBookingConfirmedOverlapping:c,AlertsAnotherBookingConfirmedPrePost:r,AlertsAnotherBookingRequestSentWaitlist:o,AlertsAnotherBookingRequestApproved:m,AlertsNewInquiryAdded:u,DiscountsRequest:h,DiscountsRemoved:v,DiscountsRejected:p,DiscountsApproved:g,BookingRequest:N,BookingRequestCancelled:b,BookingRequestApproved:f,BookingRequestRejected:y,BookingApprovalCancelled:A,BookingConfirmed:I,BookingCancelled:C,BookingModified:w,PaymentsAdded:k,PaymentsModified:S,BookingMarkAsComplete:D,BookingCompleted:T,VenueCalendarUpdates:O,UserManagementDesignationUpdated:q,AccountDetailsVenueActiveInactive:P,AccountDetailsNewVenueAdded:F,AccountDetailsTaxUpdated:E,AccountPendingRenewal:R,AccountDetailsSubscriptionModified:M,AccountDetailsSubscriptionCancelled:Y,AccountDetailsSubscriptionRenewed:L,AccountDetailsAccountOnHold:V,AccountDetailsSubscriptionSuspended:U,ImportImportStatus:H,UserDeleted:W,AccountDetailsVenueOverviewModifiedDeleted:z,AccountDetailsOperationalTimeModifiedDeleted:G,AccountDetailsVenueRentalsModifiedDeleted:K,AccountDetailsFoodBeveragePackageItemsModifiedDeleted:Z,AccountDetailsFoodBeveragePackagesModifiedDeleted:J,AccountDetailsFoodBeverageMenuItemModifiedDeleted:X,AccountDetailsAmenitiesModifiedDeleted:_,AccountDetailsDocumentsModifiedDeleted:$,AccountDetailsAccountNearingRenewal7Days2Hrs:ee}=Q.O.notificationType.value;return[N,b,f,y].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsxs)("div",{className:"notification-title-container",children:[(0,x.jsx)(fl,{title:s.title}),(0,x.jsx)(wl,{data:s})]}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Cl,{info:s}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsx)(Al,{guestName:s.desc.Guest}),(s.desc.RequestedBy||s.desc.AcceptedBy||s.desc.RejectedBy||s.desc.CancelledBy)&&(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsxs)("div",{className:"label",children:[s.desc.RequestedBy&&"Requested By",s.desc.AcceptedBy&&"Accepted By",s.desc.RejectedBy&&"Rejected By",s.desc.CancelledBy&&"Cancelled By"]}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.RequestedBy||s.desc.AcceptedBy||s.desc.RejectedBy||s.desc.CancelledBy})]})})]})]})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[h,v,p,g].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsxs)("div",{className:"notification-title-container",children:[(0,x.jsx)(fl,{title:s.title}),(0,x.jsxs)("div",{className:"notification-status",children:["Accepted"===s.statusTag&&(0,x.jsx)("div",{className:"accepted",children:"Accepted"}),"Rejected"===s.statusTag&&(0,x.jsx)("div",{className:"rejected",children:"Rejected"}),"Removed"===s.statusTag&&(0,x.jsx)("div",{className:"rejected",children:"Removed"})]})]}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Cl,{info:s}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsx)(Al,{guestName:s.desc.Guest}),(s.desc.RequestedBy||s.desc.AcceptedBy||s.desc.RejectedBy||s.desc.RemovedBy)&&(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsxs)("div",{className:"label",children:[s.desc.RequestedBy&&"Requested By",s.desc.AcceptedBy&&"Accepted By",s.desc.RejectedBy&&"Rejected By",s.desc.RemovedBy&&"Removed By"]}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.RequestedBy||s.desc.AcceptedBy||s.desc.RejectedBy||s.desc.RemovedBy})]})})]})]})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[z,G,K,Z,J,X,_,P,F].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.title})}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[s.eventDate&&(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:"Venue"}),(0,x.jsxs)("div",{className:"icon-label",children:[(0,x.jsx)(j.nY,{}),(0,x.jsx)("div",{className:"ms-1 person-name",children:s.desc.VenueName})]})]}),s.desc.UpdatedBy&&(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:s.desc.UpdatedBy&&"Updated By"}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.UpdatedBy})]})})]})]})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[A,I,C,w,D,T].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsxs)("div",{className:"notification-title-container",children:[(0,x.jsx)(fl,{title:s.title}),(0,x.jsxs)("div",{className:"notification-status",children:["Completed"===s.statusTag&&(0,x.jsx)("div",{className:"completed",children:"Completed"}),"Cancelled"===s.statusTag&&(0,x.jsx)("div",{className:"rejected",children:"Cancelled"})]})]}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Cl,{info:s}),s.eventDate&&(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsx)(Al,{guestName:s.desc.Guest}),(s.desc.UpdatedBy||s.desc.CancelledBy||s.desc.LeadOwner)&&(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsxs)("div",{className:"label",children:[s.desc.UpdatedBy&&"Updated By",s.desc.CancelledBy&&"Cancelled"===s.statusTag&&"Cancelled By",s.desc.LeadOwner&&"Confirmed"===s.statusTag&&"LeadOwner"]}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.UpdatedBy||s.desc.CancelledBy||s.desc.LeadOwner})]})})]})]})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[r,o,m,u,c,i,d].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.title})}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Cl,{info:s}),s.eventDate&&(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsx)("div",{className:"mb-2 details-container",children:(0,x.jsx)(Al,{guestName:s.desc.Guest})})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[n].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsxs)("div",{className:"notification-title-container justify-content-start",children:[(0,x.jsx)(fl,{title:s.title}),"General Reminder"===s.statusTag&&(0,x.jsx)("div",{className:"general-reminder ms-2",children:(0,x.jsx)("div",{className:"general",children:"General Reminder"})})]}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.desc.ReminderTitle})}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap mt-0",children:[(0,x.jsx)(Cl,{info:s}),(0,x.jsx)("div",{className:"reminder-description mb-2",children:s.desc.ReminderDescription}),(0,x.jsxs)("div",{className:"notification-date mb-2",children:[(0,x.jsx)("div",{className:"clender-icon",children:(0,x.jsx)(j.I3,{})}),(0,x.jsxs)("div",{children:[(0,B.Yq)(s.desc.SelectDate.split(" ")[0],"DD MMM, YYYY")," |"," ",s.desc.SelectTime]})]})]}),(0,x.jsx)("div",{className:"notification-details-vertical-gap notification-last-time mb-2 mt-0",children:(0,B.h0)(s.eventDate)})]}):[t,l].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.title})}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap duplicate-inquiry",children:[(0,x.jsx)("div",{className:"duplicate-badge",children:"Duplicate"}),(0,x.jsxs)("div",{className:"notification-subtitle d-flex mb-2",children:[(0,x.jsxs)("div",{className:"p-0",children:["E-ID: ",s.desc["DE-ID"]]}),s.desc.DEvent&&(0,x.jsx)("div",{children:s.desc.DEvent}),(null===(se=s.desc)||void 0===se?void 0:se.DCompany)&&(0,x.jsx)("div",{children:s.desc.DCompany}),(null===s||void 0===s||null===(ae=s.desc)||void 0===ae?void 0:ae.DBride)&&(null===s||void 0===s||null===(te=s.desc)||void 0===te?void 0:te.DGroom)&&(0,x.jsx)("div",{children:(null===s||void 0===s||null===(le=s.desc)||void 0===le?void 0:le.DBride)+"&"+(null===s||void 0===s||null===(ne=s.desc)||void 0===ne?void 0:ne.DGroom)})]}),(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsx)(Al,{guestName:s.desc.DGuest}),(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:"Lead Owner"}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.DLeadOwner})]})})]})]})]}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap duplicate-inquiry",children:[(0,x.jsx)("div",{className:"original-badge",children:"Original"}),(0,x.jsxs)("div",{className:"notification-subtitle d-flex mb-2",children:[(0,x.jsxs)("div",{className:"p-0",children:["E-ID: ",s.desc["E-ID"]]}),s.desc.Event&&(0,x.jsx)("div",{children:s.desc.Event}),(null===(ie=s.desc)||void 0===ie?void 0:ie.Company)&&(0,x.jsx)("div",{children:s.desc.Company}),(null===s||void 0===s||null===(de=s.desc)||void 0===de?void 0:de.Bride)&&(null===s||void 0===s||null===(ce=s.desc)||void 0===ce?void 0:ce.Groom)&&(0,x.jsx)("div",{children:(null===s||void 0===s||null===(re=s.desc)||void 0===re?void 0:re.Bride)+"&"+(null===s||void 0===s||null===(oe=s.desc)||void 0===oe?void 0:oe.Groom)})]}),(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsx)(Al,{guestName:s.desc.Guest}),(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:"Lead Owner"}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.LeadOwner})]})})]})]})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[a,W,q].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.title})}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsxs)("div",{className:"mb-2 details-container",children:[(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:"User"}),(0,x.jsxs)("div",{className:"icon-label",children:[(0,x.jsx)(j.nX,{}),(0,x.jsx)("div",{className:"ms-1 person-name",children:[s.desc.FirstName,s.desc.LastName].join(" ")})]})]}),(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:"Role"}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("span",{children:s.desc.Role.trim()})})})]}),(s.desc.UpdatedBy||s.desc.CancelledBy||s.desc.LeadOwner)&&(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsxs)("div",{className:"label",children:[s.desc.UpdatedBy&&"Updated By",s.desc.CancelledBy&&"Cancelled"===s.statusTag&&"Cancelled By",s.desc.LeadOwner&&"Confirmed"===s.statusTag&&"LeadOwner"]}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.UpdatedBy||s.desc.CancelledBy||s.desc.LeadOwner})]})})]})]})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):[$,E].includes(s.notificationTypeId)?(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.title})}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Il,{eventDate:s.eventDate}),(0,x.jsx)("div",{className:"mb-2 details-container",children:(s.desc.UpdatedBy||s.desc.DeletedBy)&&(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsxs)("div",{className:"label",children:[s.desc.UpdatedBy&&"Updated By",s.desc.DeletedBy&&"Deleted By"]}),(0,x.jsx)("div",{className:"person-name",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:s.desc.UpdatedBy||s.desc.DeletedBy})]})})]})})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]}):(0,x.jsxs)("div",{className:"notification-item",children:[(0,x.jsx)("div",{className:"notification-title-container",children:(0,x.jsx)(fl,{title:s.title})}),(0,x.jsx)("div",{className:"border-bottom-notification mx-2"}),(0,x.jsxs)("div",{className:"notification-details-vertical-gap",children:[(0,x.jsx)(Cl,{info:s}),(0,x.jsx)(Il,{eventDate:s.eventDate})]}),(0,x.jsx)(yl,{eventDate:s.eventDate})]});var se,ae,te,le,ne,ie,de,ce,re,oe},fl=e=>{let{title:s}=e;return(0,x.jsx)("b",{className:" mb-2 notification-title",children:s})},yl=e=>{let{eventDate:s}=e;return(0,x.jsx)("div",{className:"notification-details-vertical-gap notification-last-time mb-2",children:(0,B.h0)(s)})},Al=e=>{let{guestName:s}=e;return(0,x.jsxs)("div",{className:"person-details",children:[(0,x.jsx)("div",{className:"label",children:"Guest"}),(0,x.jsxs)("div",{className:"icon-label",children:[(0,x.jsx)(j.nX,{}),(0,x.jsx)("div",{className:"ms-1 person-name",children:s})]})]})},Il=e=>{let{eventDate:s}=e;return(0,x.jsxs)("div",{className:"notification-date mb-2",children:[(0,x.jsx)("div",{className:"clender-icon",children:(0,x.jsx)(j.I3,{})}),(0,x.jsx)("div",{children:S()(s).format("DD MMM, YYYY")})]})},Cl=e=>{var s,a,t;let{info:l}=e;return(0,x.jsxs)("div",{className:"notification-subtitle d-flex mb-2",children:[l.desc["E-ID"]&&(0,x.jsxs)("div",{children:["E-ID : ",l.desc["E-ID"]]}),(0,x.jsx)("div",{children:l.desc.Event}),l.desc.Company&&(0,x.jsx)("div",{children:l.desc.Company}),(null===l||void 0===l||null===(s=l.desc)||void 0===s?void 0:s.Bride)&&(0,x.jsx)("div",{children:(null===l||void 0===l||null===(a=l.desc)||void 0===a?void 0:a.Bride)+"&"+(null===l||void 0===l||null===(t=l.desc)||void 0===t?void 0:t.Groom)})]})},wl=e=>{let{data:s}=e;return(0,x.jsxs)("div",{className:"notification-status",children:["Accepted"===s.statusTag&&(0,x.jsx)("div",{className:"accepted",children:"Accepted"}),"Rejected"===s.statusTag&&(0,x.jsx)("div",{className:"rejected",children:"Rejected"}),"Cancelled"===s.statusTag&&(0,x.jsx)("div",{className:"rejected",children:"Cancelled"})]})},kl=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{n()}),[]);const n=async()=>{try{l(!0);const e=await gl.getTodaysNotification(),{detail:a,data:t,title:n}=e;if(n===o.A.success){const e=null===t||void 0===t?void 0:t.map((e=>{const s=e.notificationDescription.split(","),a={};return s.forEach((e=>{const[s,t]=e.split(/:(.+)/).map((e=>e.trim()));a[s]=t})),{...e,desc:a}}));s(e)}}catch(e){console.log(e)}finally{l(!1)}};return(0,x.jsx)("div",{className:"h-100",children:a?(0,x.jsx)(g.A,{}):e.length>0?null===e||void 0===e?void 0:e.map(((e,s)=>(0,x.jsx)(bl,{data:e},s))):(0,x.jsxs)("div",{className:"text-center h-100 d-flex justify-content-center align-items-center flex-column",children:[(0,x.jsx)("img",{src:Nl,alt:"notification"}),(0,x.jsx)("h5",{className:"guest-empty-notification",children:"No new notifications as of now"})]})})},Sl=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{n()}),[]);const n=async()=>{try{l(!0);const e=await gl.getWeeklyNotification(),{detail:a,data:t,title:n}=e;if(n===o.A.success){const e=null===t||void 0===t?void 0:t.map((e=>{const s=e.notificationDescription.split(","),a={};return s.forEach((e=>{const[s,t]=e.split(/:(.+)/).map((e=>e.trim()));a[s]=t})),{...e,desc:a}}));s(e)}}catch(e){console.log(e)}finally{l(!1)}};return(0,x.jsx)("div",{className:"h-100",children:a?(0,x.jsx)(g.A,{}):e.length>0?null===e||void 0===e?void 0:e.map(((e,s)=>(0,x.jsx)(bl,{data:e},s))):(0,x.jsxs)("div",{className:"text-center h-100 d-flex justify-content-center align-items-center flex-column",children:[(0,x.jsx)("img",{src:Nl,alt:"notification"}),(0,x.jsx)("h5",{className:"guest-empty-notification",children:"No new notifications as of now"})]})})},Dl=()=>{const[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{n()}),[]);const n=async()=>{try{l(!0);const e=await gl.getMonthlyNotification(),{detail:a,data:t,title:n}=e;if(n===o.A.success){const e=null===t||void 0===t?void 0:t.map((e=>{const s=e.notificationDescription.split(","),a={};return s.forEach((e=>{const[s,t]=e.split(/:(.+)/).map((e=>e.trim()));a[s]=t})),{...e,desc:a}}));s(e)}}catch(e){console.log(e)}finally{l(!1)}};return(0,x.jsx)("div",{className:"h-100",children:a?(0,x.jsx)(g.A,{}):e.length>0?null===e||void 0===e?void 0:e.map(((e,s)=>(0,x.jsx)(bl,{data:e},s))):(0,x.jsxs)("div",{className:"text-center h-100 d-flex justify-content-center align-items-center flex-column",children:[(0,x.jsx)("img",{src:Nl,alt:"notification"}),(0,x.jsx)("h5",{className:"guest-empty-notification",children:"No new notifications as of now"})]})})},Tl=e=>{let{isExtendedSidebar:s,show:a,onHideNotification:l}=e;const[n,i]=(0,t.useState)("#today");return(0,x.jsxs)(z.A,{className:"notification-offcanvas custom-modal ".concat(s?"notification-offcanvas-230px":"notification-offcanvas-75px","  "),placement:"start",backdropClassName:"".concat(s?"notificatio-sidebar-230px":"notificatio-sidebar-75px"," "),show:a,onHide:l,children:[(0,x.jsx)(z.A.Header,{closeButton:!0,children:(0,x.jsx)(z.A.Title,{children:"Notification"})}),(0,x.jsxs)(z.A.Body,{className:"p-4 notification-list",children:[(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 border-0 mb-4",children:[{id:"#today",title:"Today"},{id:"#this-week",title:"This Week"},{id:"#this-month",title:"This Month"}].map(((e,s)=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsx)("span",{className:"nav-link cursor-pointer ".concat(e.id===n?"active":""),onClick:()=>{return s=e.id,void i(s);var s},children:e.title})},s)))}),(0,x.jsxs)("div",{className:"notification-list overflow-auto",children:["#today"===n&&(0,x.jsx)(kl,{}),"#this-week"===n&&(0,x.jsx)(Sl,{}),"#this-month"===n&&(0,x.jsx)(Dl,{})]})]})]})},Ol=a.p+"static/media/boozno_logo.6947a70b622f1c3e9327.png",ql=e=>{let{isExtended:s,toggleSidebar:a,setLoggedIn:i,notifyCount:d,setCount:c}=e;const r=(0,l.zy)(),o=(0,l.Zp)(),[m,u]=(0,t.useState)(!1),[v,p]=(0,t.useState)([]),{profileDetails:g,setProfileDetails:N}=(0,t.useContext)(V.t0),{setPermissions:b}=(0,t.useContext)(V.dg);(0,t.useEffect)((()=>{p([{icon:(0,x.jsx)(j.aL,{}),title:"Dashboard",link:"/dashboard"},{icon:(0,x.jsx)(j.e$,{}),title:"Calender",link:"/calender"},{icon:(0,x.jsx)(j.Bj,{}),title:"Inquiries & Bookings",link:"/inquiry-bookings"},{icon:(0,x.jsx)(j.Ac,{}),title:"Guest Management",link:"/guest-management"},{icon:(0,x.jsx)(j.qh,{}),title:"Reminders",link:"/reminders"},{icon:(0,x.jsx)(j.He,{}),title:"Notification"},{icon:(0,x.jsx)(j.z5,{}),title:"Import & Export",link:"/import"},{icon:(0,x.jsx)(j.Ze,{}),title:"Settings",link:"/settings/account-details"}])}),[s]);const f=(null===g||void 0===g?void 0:g.userRoleId)===Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)("div",{className:"sidebar ".concat(s?"sidebar-wide":"sidebar-shrink"),children:[(0,x.jsx)("div",{className:"sidebar-logo-wrapper",onClick:a,children:(0,x.jsx)("img",{src:Ol,alt:"Logo",width:75,height:70})}),(0,x.jsxs)("div",{className:"sidebar-list",children:[v.map(((e,t)=>(0,x.jsx)(x.Fragment,{children:"Settings"===e.title?(0,x.jsx)(Ht.A,{placement:"bottom",delay:{show:10,hide:10},overlay:a=>s?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(Qt.A,{className:"sidebar-tooltip",id:"button-tooltip",...a,children:e.title}),children:(0,x.jsx)(n.N_,{to:"#",className:"sidebar-list-item h-auto ".concat(r.pathname.startsWith("/settings")&&!m?"active":""),children:(0,x.jsxs)(W.A,{className:"flex-grow-1",align:"end",drop:"up-centered",children:[(0,x.jsx)(W.A.Toggle,{as:s=>(0,x.jsxs)("div",{...s,className:"sub-menu-list",style:{height:"40px"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"sidebar-item-icon",children:e.icon}),(0,x.jsx)("div",{className:"sidebar-item-title",children:e.title})]}),(0,x.jsx)("div",{className:"btn settings-right-arrow dropdown-toggle",children:(0,x.jsx)(j.DY,{})})]}),id:"dropdown-settings",className:"border-0 btn-light btn-sm"}),(0,x.jsxs)(W.A.Menu,{className:"".concat(s?"dd-setting-wide":"dd-setting-shrink"),onClick:()=>u(!1),children:[(0,x.jsx)(W.A.Item,{eventKey:"1",children:(0,x.jsxs)(n.k2,{to:"settings/account-details",className:"dropdown-item",children:[(0,x.jsx)(j.uW,{}),(0,x.jsx)("span",{className:"fw-bold ms-2 text-nowrap",children:"Account Details"})]})}),f&&(0,x.jsx)(W.A.Item,{eventKey:"2",children:(0,x.jsxs)(n.k2,{to:"settings/user-management",className:"dropdown-item",children:[(0,x.jsx)(j.c2,{}),(0,x.jsx)("span",{className:"fw-bold ms-2 text-nowrap",children:"User Management"})]})}),(0,x.jsx)(W.A.Item,{eventKey:"3",children:(0,x.jsxs)(n.k2,{to:"settings/subscriptions",className:"dropdown-item",children:[(0,x.jsx)(j.o4,{}),(0,x.jsx)("span",{className:"fw-bold ms-2 text-nowrap",children:"Subscriptions"})]})}),(0,x.jsx)(W.A.Item,{eventKey:"4",children:(0,x.jsxs)(n.k2,{to:"settings/help-support",className:"dropdown-item",children:[(0,x.jsx)(j.VA,{}),(0,x.jsx)("span",{className:"fw-bold ms-2 text-nowrap",children:"Help & Support"})]})})]})]})},t)}):"Notification"===e.title?(0,x.jsx)(Ht.A,{placement:"right",delay:{show:10,hide:10},overlay:a=>s||m?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(Qt.A,{className:"sidebar-tooltip",id:"button-tooltip",...a,children:e.title}),children:(0,x.jsxs)("div",{role:"button",className:"notification sidebar-list-item ".concat(m?"active":""),onClick:()=>{u(!0),c(0),s&&a()},children:[(0,x.jsx)("div",{className:"sidebar-item-icon",children:m?(0,x.jsx)(j.Xm,{}):e.icon}),(0,x.jsx)("div",{className:"sidebar-item-title",children:e.title}),d>0?(0,x.jsx)("span",{className:"notification-count",children:d}):""]},t)}):(0,x.jsx)(Ht.A,{placement:"right",delay:{show:10,hide:10},overlay:a=>s?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(Qt.A,{className:"sidebar-tooltip",id:"button-tooltip",...a,children:e.title}),children:(0,x.jsxs)(n.k2,{to:e.link,className:e=>{let{isActive:s}=e;return s&&!m?"sidebar-list-item active":"sidebar-list-item"},onClick:()=>{u(!1),s&&a()},children:[(0,x.jsx)("div",{className:"sidebar-item-icon",children:e.icon}),(0,x.jsx)("div",{className:"sidebar-item-title",children:e.title})]},t)})}))),(0,x.jsx)("div",{className:"sidebar-profile",children:(0,x.jsx)(Ht.A,{placement:"top",delay:{show:10,hide:10},overlay:e=>s?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(Qt.A,{className:"sidebar-tooltip",id:"button-tooltip",...e,children:"Profile"}),children:(0,x.jsx)(n.N_,{to:"#",className:"sidebar-list-item ".concat(r.pathname.startsWith("/profile")&&"active"),children:(0,x.jsxs)(W.A,{className:"flex-grow-1",align:"end",drop:"up-centered",children:[(0,x.jsx)(W.A.Toggle,{onChange:e=>console.log(e),as:e=>(0,x.jsxs)("div",{...e,className:"sub-menu-list",children:[(0,x.jsxs)("div",{className:"profile-wrapper",children:[g.profileImage?(0,x.jsx)("img",{height:30,width:30,src:g.profileImage,alt:"profile-logo"}):(0,x.jsx)("img",{height:30,width:30,src:"Male"===g.gender?ms:us,alt:"profile-logo"}),(0,x.jsx)("div",{className:"profile-details",children:(0,x.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,x.jsxs)("span",{className:"name",children:[g.firstName,g.lastName]}),(0,x.jsx)("span",{className:"sales",children:g.userRole})]})})]}),(0,x.jsx)("div",{className:"btn settings-right-arrow dropdown-toggle",children:(0,x.jsx)(j.DY,{})})]}),id:"dropdown-profile",className:"border-0 btn-light btn-sm"}),(0,x.jsxs)(W.A.Menu,{className:"".concat(s?"dd-profile-wide":"dd-profile-shrink"),children:[(0,x.jsx)(W.A.Item,{eventKey:"1",children:(0,x.jsxs)(n.k2,{to:"profile",className:"dropdown-item",onClick:()=>u(!1),children:[(0,x.jsx)(j.n_,{}),(0,x.jsx)("span",{className:"fw-bold ms-2 text-nowrap",children:"Profile"})]})}),(0,x.jsx)(W.A.Item,{eventKey:"2",children:(0,x.jsxs)("div",{className:"dropdown-item",onClick:e=>{e.preventDefault(),N({}),b([]),i(!1),h.A.remove("token"),o("/")},children:[(0,x.jsx)(j.o4,{}),(0,x.jsx)("span",{className:"fw-bold ms-2 text-nowrap",children:"Logout"})]})})]})]})})})}),(0,x.jsx)("div",{className:"version-code",children:"V-0.0.7"})]}),(0,x.jsx)(Tl,{isExtendedSidebar:s,show:m,onHideNotification:()=>u(!1)})]})},Pl=e=>(0,x.jsx)("header",{className:"header",children:e.children}),Bl=()=>{var e;const s=(0,l.Zp)(),a=(0,l.zy)(),[n,i]=(0,t.useState)(null),d=(0,l.g)();(0,t.useEffect)((()=>{n||c()}),[]);const c=async()=>{try{const s=await Ts.getInquiryById(d.inquiryId),{title:a,data:t}=s;if(a===o.A.success){var e;let s={...t,inquirySlotOutDTO:null===(e=t.inquirySlotOutDTO)||void 0===e?void 0:e.map((e=>({...e,slotTempId:(0,ta.A)()})))};i(s)}}catch(s){r.oR.error(s.message)}},m=(null===n||void 0===n||null===(e=n.inquirySlotOutDTO)||void 0===e?void 0:e.find((e=>(null===e||void 0===e?void 0:e.inquirySlotId)==(null===d||void 0===d?void 0:d.slotId))))||{};return(0,x.jsx)("div",{className:"select-packages-details text-center",children:(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)("h3",{className:"title mb-3",children:"Select Package Type"}),(0,x.jsx)("label",{className:"form-label",children:"choose a package or customize as per your requirements."}),(0,x.jsxs)("div",{className:"options-container",children:[(null===m||void 0===m?void 0:m.beveragePreferenceIds)&&(null===m||void 0===m?void 0:m.foodPreferenceIds)&&(0,x.jsx)("div",{role:"button",className:"option",onClick:()=>s(a.pathname+"/food-beverage"),children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"fast-food"}),(0,x.jsx)("div",{className:"option-label mt-4",children:"Food + Beverage"})]})}),(null===m||void 0===m?void 0:m.foodPreferenceIds)&&(0,x.jsx)("div",{role:"button",className:"option",onClick:()=>s(a.pathname+"/food"),children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"tray"}),(0,x.jsx)("div",{className:"option-label mt-4",children:"Food"})]})}),(null===m||void 0===m?void 0:m.beveragePreferenceIds)&&(0,x.jsx)("div",{role:"button",className:"option",onClick:()=>s(a.pathname+"/beverage"),children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"cheers"}),(0,x.jsx)("div",{className:"option-label mt-4",children:"Beverage"})]})})]})]})})},Fl=e=>{let{show:s,handleClose:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Delete Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,x.jsx)("img",{src:Xe,alt:"",className:"mb-2",height:130,width:130}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("h4",{className:"fw-bold mb-4 fs-24-px",children:"Delete Action !"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:t,children:"Confirm"})})]})},El=e=>{let{show:s,handleClose:a,keepSame:t,onUpdate:l}=e;return(0,x.jsxs)(E.A,{show:s,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,x.jsx)("img",{src:Xe,alt:"",className:"mb-2",height:130,width:130}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("h4",{className:"fw-bold mb-4",children:"Warning !"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px",children:"You have added no of plates which exceeds the total guest count. Do you wish to update the total guest count ?"})]})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("div",{className:"fw-bold txt-primary btn-40",role:"button",onClick:t,children:"Keep Same"}),(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:l,children:"Update"})]})]})},Rl=e=>{let{count:s="",readOnly:a=!1,countOnChange:n,slotPaxCount:i}=e;const{reloadData:d}=(0,l.KC)();(0,t.useEffect)((()=>{u(s)}),[s]);const c=(0,l.g)(),[m,u]=(0,t.useState)(s),[h,v]=(0,t.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{readOnly:a,type:"number",className:"form-control input-one-line input-container",placeholder:"Enter Count",onChange:e=>{u(e.target.value),n(e.target.value)},value:m,name:"plateCount",onBlur:()=>m>i&&v(!0)}),(0,x.jsx)(El,{show:h,handleClose:()=>v(!1),onUpdate:()=>{(async()=>{try{let e={inquiryInfoId:c.inquiryId,slotId:c.slotId,platesCount:m};(await Ts.updatePaxCount(e)).title===o.A.success&&(d(),v(!1))}catch(e){r.oR.error(e.message)}})()},keepSame:()=>{u(i),n(i),v(!1)}})]})},Ml=e=>{let{addOnCountList:s=[],packageItemsList:a,isVegNonVeg:t}=e;const l=s.reduce(((e,s)=>{let{addOnCount:t,venueFoodPackageItemId:l,id:n,addOnCost:i}=s;const{amount:d=0}=a.find((e=>l===e.venueFoodPackageItemId))||{};return e+d*t}),0);return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Add-ON ITEMS"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsxs)("tbody",{children:[s.map((e=>{let{addOnCount:s=0,venueFoodPackageItemId:l,id:n,addOnCost:i}=e;const{venueFoodItemTypeName:d,amount:c=0,foodPreferenceId:r}=a.find((e=>l===e.venueFoodPackageItemId))||{};return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[d,t?" - ".concat(Q.O.FoodType.text[r]):""]}),(0,x.jsx)("td",{className:"text-end",children:s}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",c]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",s*c]})]})})),(0,x.jsxs)("tr",{className:"add-on-count-footer",children:[(0,x.jsx)("td",{colSpan:2,children:"Total (Add-on Items)"}),(0,x.jsx)("td",{colSpan:2,className:"text-end",children:l})]})]})]})},Yl=e=>{let{isVegNonVeg:s,isCustom:a,venueFoodPackageItemMapDTO:t,packageItemsList:l,addOnCountList:n,setAddOnCountList:i,editMode:d}=e;const c=n.every((e=>{let{addOnCount:s}=e;return s>0})),r=t.map((e=>{let{venueFoodPackageItemId:s}=e;return s})),o=n.map((e=>{let{venueFoodPackageItemId:s}=e;return s})),m=[...r,...o],u=e=>{let s=[...n];const a=s.findIndex((s=>s.venueFoodPackageItemId===e.venueFoodPackageItemId));-1!==a?(e.addOnCount>=0&&(s[a]={...e}),0===e.addOnCount&&(s=s.filter(((e,s)=>a!==s)))):e.addOnCount>=0&&s.push(e),i(s)},h=(e,s)=>{let a=[...n];const t=a.findIndex((e=>e.tempId===s)),l=a[t];-1!==t&&(a[t]={...l,venueFoodPackageItemId:e,addOnCount:0}),i(a)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEM"}),a?(0,x.jsx)("th",{className:"text-center col-width-100px",children:"COUNT"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("th",{className:"text-center border-right-2px col-width-100px",children:"COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COST"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"TOTAL COST"})]})]})}),(0,x.jsx)("tbody",{className:"bold-font",children:t.map((e=>(0,x.jsx)(Ll,{item:e,isCustom:a,addOnCountChange:u,addOnDropdownChange:h,packageItemsList:l,addOnCountList:n,venueFoodPackageItemMapDTO:t,selectedItems:m,isVegNonVeg:s,editMode:d},e.venueFoodPackageItemId)))}),(0,x.jsx)("tbody",{className:"bold-font",children:n.filter((e=>{let{venueFoodPackageItemId:s}=e;return!r.includes(s)})).map((e=>(0,x.jsx)(Ll,{item:e,isCustom:a,addOnCountChange:u,addOnDropdownChange:h,packageItemsList:l,addOnCountList:n,selectedItems:m,isAddOnRow:!0,isVegNonVeg:s,editMode:d,venueFoodPackageItemMapDTO:t},e.venueFoodPackageItemId)))})]}),d&&(0,x.jsx)("div",{className:"my-3",children:(0,x.jsx)("span",{className:"".concat(c?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{c&&i([...n,{venueFoodPackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})},Ll=e=>{let{isAddOnRow:s,isCustom:a,addOnCountChange:l,item:n,packageItemsList:i=[],addOnCountList:d,selectedItems:c,addOnDropdownChange:r,isVegNonVeg:o,editMode:m,venueFoodPackageItemMapDTO:h}=e;const[v,j]=(0,t.useState)(!1),p=i.find((e=>{let{venueFoodPackageItemId:s}=e;return s===n.venueFoodPackageItemId}))||{},g=(null===h||void 0===h?void 0:h.find((e=>{let{venueFoodPackageItemId:s}=e;return s===n.venueFoodPackageItemId})))||{},{venueFoodItemTypeName:N,foodPreferenceId:b,amount:f=0,venueFoodPackageItemId:y}=p,A=d.find((e=>{let{venueFoodPackageItemId:s}=e;return s===n.venueFoodPackageItemId}))||{},{addOnCount:I=0,id:C=0}=A,w=c.filter((e=>e!=n.venueFoodPackageItemId));return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"food-item-width",children:s?(0,x.jsx)(oe.A,{customCss:"bordered ".concat(v?"invalid":""),dataSource:i.filter((e=>{let{venueFoodPackageItemId:s}=e;return!w.includes(s)})).map((e=>{let{venueFoodPackageItemId:s,venueFoodItemTypeName:a,foodPreferenceId:t}=e;return{text:"".concat(a," \n                    ").concat(o?" - "+Q.O.FoodType.text[t]:""),value:s}})),placeholder:"Select",onChange:e=>{return s=e.target.value,a=n.tempId,void r(s,a);var s,a},value:y,readonly:!m}):(0,x.jsxs)(x.Fragment,{children:[N,o?" - ".concat(Q.O.FoodType.text[b]):""]})}),(0,x.jsx)("div",{className:"dash-line-diff flex-grow-1 ms-4"})]})}),!a&&(0,x.jsx)("td",{className:"text-center align-middle border-right-2px",children:s?(0,x.jsx)("span",{className:"read-only",children:"0"}):g.count}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"add-on-count ".concat(n.venueFoodPackageItemId?"":"read-only"),children:m?(0,x.jsxs)("div",{className:"inc-dec-container user-select-none",children:[(0,x.jsx)("div",{id:"decrement",role:"button",onClick:()=>{n.venueFoodPackageItemId?l({count:g.count,addOnCost:f,id:C,addOnCount:I-1,venueFoodPackageItemId:y}):j(!0)},children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:I}),(0,x.jsx)("div",{id:"increment",role:"button",onClick:()=>{n.venueFoodPackageItemId?l({count:g.count,addOnCost:f,id:C,addOnCount:I+1,venueFoodPackageItemId:y}):j(!0)},children:(0,x.jsx)(u.FW,{})})]}):(0,x.jsx)("div",{className:"inc-dec-container border-0",children:I})})}),!a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-center align-middle",children:I>0?f>0?(0,x.jsxs)("span",{children:["\u20b9 ",f]}):(0,x.jsxs)("span",{className:"read-only",children:["\u20b9 ",f]}):(0,x.jsx)("span",{className:"read-only",children:" 0"})}),(0,x.jsx)("td",{className:"text-center align-middle",children:I*f>0?(0,x.jsxs)("span",{children:[" \u20b9 ",I*f]}):(0,x.jsx)("span",{className:"read-only",children:"0"})})]})]})},Vl=e=>{let{packageData:s,paxCount:a=0,packageItemsList:l=[],addOnCountList:n=[],packageId:i}=e;const[d,m]=(0,t.useState)({}),{genericPercentage:u=0}=d,{venueFoodPackageAmount:h=0,venueFoodPackageName:v=""}=s,j=n.reduce(((e,s)=>{let{addOnCount:a,venueFoodPackageItemId:t,addOnCost:n,id:i}=s;const{amount:d=0}=l.find((e=>t===e.venueFoodPackageItemId))||{};return e+d*a}),0);(0,t.useEffect)((()=>{p()}),[]);const p=async()=>{try{const e=await c.GetTaxesList(),{title:s,data:a={}}=e;if(s===o.A.success){const{venueGenericTaxesDTO:e=[]}=a,s=e.filter((e=>{let{isDeleted:s}=e;return!0!==s})).map((e=>({...e,genericPercentage:e.genericPercentage+""})));m(s.find((e=>{let{genericTypeId:s,isDeleted:a}=e;return s===Q.O.genericTax.value.Food&&!1===a}))||{})}}catch(e){r.oR.error(e.message)}};return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Particulars"}),(0,x.jsx)("th",{className:"text-end",children:"Total Cost"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Tax"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Tax Amount"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Final Amount"})]})}),(0,x.jsxs)("tbody",{children:[-1!==i&&(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[v," - Food Package"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",a*h]}),(0,x.jsxs)("td",{className:"text-end",children:[u," %"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*h*Number(u)/100]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*h+a*h*Number(u)/100]})]}),n.length>0&&(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Add-on Food Items"}),(0,x.jsxs)("td",{className:"text-end",children:[" \u20b9 ",j]}),(0,x.jsxs)("td",{className:"text-end",children:[u," %"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",j*Number(u)/100]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",j+j*Number(u)/100]})]}),(0,x.jsxs)("tr",{className:"primary-background",children:[(0,x.jsx)("td",{className:"text-truncate",children:"Total Amount ( Inclusive of taxes )"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",a*h+j]}),(0,x.jsx)("td",{}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*h*Number(u)/100+j*Number(u)/100]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*h+a*h*Number(u)/100+(j+j*Number(u)/100)]})]})]})]})},Ul=a.p+"static/media/no-venue-found-blue.d7414d52b12a93fa3bd1.png",Hl=e=>{let{show:s,handleClose:a,foodPackageCategoryLoading:l,foodPackageCategoryList:n,foodTypeOptionList:i,packageList:d=[],okayClick:c}=e;const[r,o]=(0,t.useState)({}),m=e=>{const{value:s,name:a}=e.target,t={...r};t[a]=s,o(t)},u=d.filter((e=>{let{foodPreferenceId:s,venueFoodPackageCategoryId:a}=e;return s==r.foodPreferenceId&&a==r.foodPackageCategoryId}));return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",size:"lg",centered:!0,scrollable:!0,dialogClassName:"modal-90w",children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Food Packages"})}),(0,x.jsx)(E.A.Body,{className:"height-75vh",children:(0,x.jsxs)("div",{className:"d-flex flex-column h-100",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Category *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{isLoading:l,dataSource:n,placeholder:"Select category",onChange:m,value:r.foodPackageCategoryId||"",name:"foodPackageCategoryId"})})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Food Preference *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:i,placeholder:"Select category",onChange:m,value:r.foodPreferenceId||"",name:"foodPreferenceId"})})]})]}),r.foodPackageCategoryId&&r.foodPreferenceId?(0,x.jsx)("div",{className:"table-responsive menu-card-container h-100 flex-grow-1",children:u.length>0?u.map(((e,s)=>{let{venueFoodPackageName:a,venueFoodPackageCategoryName:t,venueFoodPackageItemMapDTO:l,venueFoodPackageAmount:n}=e;return(0,x.jsx)("div",{className:"menu-card-wrapper",children:(0,x.jsxs)("div",{className:"menu-card",children:[(0,x.jsxs)("div",{className:"menu-header",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"menu-title",children:a}),(0,x.jsx)("div",{className:"menu-subtitle",children:t})]}),(0,x.jsxs)("div",{className:"menu-price",children:["\u20b9 ",n,"/-"]})]}),(0,x.jsxs)("div",{className:"menu-body",children:[(0,x.jsxs)("div",{className:"menu-label mb-3",children:[(0,x.jsx)("div",{className:"label",children:"Item"}),(0,x.jsx)("div",{className:"label",children:"Count"})]}),l.map(((e,s)=>{let{venueFoodItemTypeName:a,count:t}=e;return(0,x.jsxs)("div",{className:"menu-item mb-3",children:[(0,x.jsx)("span",{className:"item-name text-truncate",children:a}),(0,x.jsx)("div",{className:"flex-grow-1 d-flex align-items-center",children:(0,x.jsx)("div",{className:"line-bar flex-grow-1"})}),(0,x.jsx)("span",{className:"item-count",children:t})]},s)}))]})]})},s)})):(0,x.jsx)("div",{className:"h-100 align-items-center w-100 d-flex justify-content-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:Ul,alt:"recordNotFound"}),(0,x.jsx)("h4",{className:"fs-24-px description",children:"No Record Found"})]})})}):(0,x.jsx)("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center ",children:(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"my-auto",children:(0,x.jsx)("img",{src:Ea,height:80,width:80})}),(0,x.jsxs)("div",{className:"my-auto ms-4",children:[(0,x.jsx)("div",{className:"select-title",children:"Select Options"}),(0,x.jsx)("div",{className:"select-description",children:"Select package category and preference to load the packages"})]})]})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:"Okay"})})]})},Ql=e=>{let{foodItemList:s=[]}=e;const[a,n]=(0,t.useState)([]),[i,d]=(0,t.useState)(!0),m=(0,l.g)(),[u,h]=(0,t.useState)(null);(0,t.useEffect)((()=>{d(!0),v()}),[]);const v=async()=>{try{const e=await c.getFBMenuFoodItemList(m.venueId),{title:s,data:a}=e;s===o.A.success&&a.length&&n(a.filter((e=>!0!==e.isDeleted)))}catch(e){r.oR.error(e.message)}finally{d(!1)}},j=a.filter((e=>e.venueFoodPackageItemId===u));return(0,x.jsx)(x.Fragment,{children:a.length>0?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"mb-3",style:{width:"300px"},children:(0,x.jsx)(oe.A,{customCss:"bordered select-title",dataSource:s.map((e=>{let{venueFoodItemTypeName:s,foodPreference:a,venueFoodPackageItemId:t}=e;return{text:s+" "+a,value:t}})),placeholder:"Select Package Item",onChange:e=>{return s=e.target.value,void h(s);var s},value:u})}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"MENU ITEM NAME"}),(0,x.jsx)("th",{className:"cuisineType",children:"CUISINE TYPE"})]})}),(0,x.jsx)("tbody",{children:j.length?j.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{children:e.menuItemName})}),(0,x.jsx)("td",{children:e.cuisineTypeName})]},e.tempId))):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:3,children:"No Record Found"})})})]})})]}):(0,x.jsx)("div",{className:"h-100 align-items-center w-100 d-flex justify-content-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{height:120,width:120,src:Ul,alt:"recordNotFound"}),(0,x.jsx)("h4",{className:"fs-16-px description",children:"No Record Found"})]})})})},Wl=e=>{let{beverageItemList:s=[]}=e;const a=(0,l.g)(),[n,i]=(0,t.useState)([]),[d,m]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null);(0,t.useEffect)((()=>{m(!0),j()}),[]);let v=["ml","ltr"].map(((e,s)=>({text:e,value:s+1})));const j=async()=>{try{const e=await c.getFBMenuBeverageItemList(a.venueId),{title:s,data:t}=e;s===o.A.success&&t.length&&i(t.filter((e=>!0!==e.isDeleted)))}catch(e){r.oR.error(e.message)}finally{m(!1)}},p=n.filter((e=>e.beveragePackageItemId===u));return(0,x.jsx)(x.Fragment,{children:n.length>0?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"mb-3",style:{width:"300px"},children:(0,x.jsx)(oe.A,{customCss:"bordered select-title",dataSource:s.map((e=>{let{beverageTypeId:s,beveragePackageItemId:a,drinkName:t,liquorTypeId:l,liquorType:n}=e;return{text:Q.O.beveragePreference.text[s]+" - "+(l>0?n+" - ":"")+t,value:a}})),placeholder:"Select Package Item",onChange:e=>{return s=e.target.value,void h(s);var s},value:u})}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"MENU ITEM NAME"}),(0,x.jsx)("th",{children:"QUANTITY"}),(0,x.jsx)("th",{children:"COST / ITEM"})]})}),(0,x.jsx)("tbody",{children:p.length?p.map((e=>{var s;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:e.menuItemName}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"d-flex gap-2",children:[(0,x.jsx)("span",{children:e.quantity}),(0,x.jsx)("span",{children:(null===(s=v.find((s=>e.quantityType===s.value)))||void 0===s?void 0:s.text)||"-"})]})}),(0,x.jsxs)("td",{children:["\u20b9\xa0",e.cost||"0"]})]},e.tempId)})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:3,children:"No Record Found"})})})]})})]}):(0,x.jsx)("div",{className:"h-100 align-items-center w-100 d-flex justify-content-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{height:120,width:120,src:Ul,alt:"recordNotFound"}),(0,x.jsx)("h4",{className:"fs-16-px description",children:"No Record Found"})]})})})},zl=e=>{let{show:s,handleClose:a,foodItemList:t=[],beverageItemList:l=[],isBeverage:n=!1,isFood:i=!1}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",size:"lg",centered:!0,scrollable:!0,dialogClassName:"modal-90w",children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:i&&n?"Food & Beverage Package":n?"Beverage Packages":i?"Food Packages":null})}),(0,x.jsx)(E.A.Body,{className:"height-75vh",children:(0,x.jsxs)("div",{className:"d-flex flex-column h-100",children:[i&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{className:"heading-title",children:"Food Menu"}),(0,x.jsx)(Ql,{foodItemList:t})]}),n&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{className:"heading-title",children:"Beverage Menu"})," ",(0,x.jsx)(Wl,{beverageItemList:l})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:"Okay"})})]})},Gl=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),a=(0,l.zy)(),{inquiryInfoData:n,setShowExitPrompt:i}=(0,l.KC)(),[d,h]=(0,t.useState)(!1),[v,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)({}),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)([]),[A,I]=(0,t.useState)([]),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)(!0),[D,T]=(0,t.useState)(!0),[O,q]=(0,t.useState)([]),[P,B]=(0,t.useState)(!0),[F,E]=(0,t.useState)(!1),[R,M]=(0,t.useState)(!1),[Y,L]=(0,t.useState)(!1),[U,H]=(0,t.useState)(!1),{profileDetails:z}=(0,t.useContext)(V.t0),{inquirySlotOutDTO:G=[]}=n||{},K=(null===G||void 0===G?void 0:G.find((s=>s.inquirySlotId==e.slotId)))||{};(0,t.useEffect)((()=>{se(),ae(),ee()}),[]),(0,t.useEffect)((()=>{e.packageId?(E(!1),$()):(E(!0),g({id:0,inquiryInfoId:e.inquiryId,venueDetailId:e.venueId,inquirySlotId:e.slotId}))}),[e.packageId]);const Z=f.find((e=>e.venueFoodPackageId===p.packageId))||{},{venueFoodPackageItemMapDTO:J=[],venueFoodPackageAmount:X=0,venueFoodPackageName:_=""}=Z,$=async()=>{try{M(!0);const s=await Ts.getFoodPackageById(e.packageId),{title:a,data:t}=s;if(a===o.A.success){const{foodPackageCategoryId:s,foodPreferenceId:a,id:l,packageNameId:n,jainCounts:i,inquiryFoodPackageItemDTO:d=[],platesCounts:c}=t;let r={id:l,paxCount:c,inquiryInfoId:e.inquiryId,inquirySlotId:e.slotId,venueDetailId:e.venueId,foodPackageCategoryId:s,foodPreferenceId:a,packageId:0===n?-1:n,jainPreparation:i};d&&b(d.map((e=>{let{addOnCost:s,addOnCount:a,count:t,id:l,packageItemId:n}=e;return{id:l,venueFoodPackageItemId:n,count:t,addOnCount:a,addOnCost:s,totalAddOnCost:a*s,tempId:(0,ta.A)()}}))),g(r)}}catch(s){r.oR.error(s.message)}finally{M(!1)}},ee=async()=>{try{const s=await c.getFoodPackageItemListById(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&q(t)}catch(s){r.oR.error(s.message)}finally{B(!1)}};(0,t.useEffect)((()=>{const{foodPackageCategoryId:e,foodPreferenceId:s,packageId:a}=p;T(!(e&&s&&a))}),[p]);const se=async()=>{try{S(!0);const e=await c.getFoodPackageCategory(),{title:s,data:a=[]}=e;s===o.A.success&&w(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{S(!1)}},ae=async()=>{try{I(!0);const s=await c.getFBPackageFoodItemList(e.venueId);s.title===o.A.success&&s.data.length&&y(s.data)}catch(s){r.oR.error(s.message)}finally{I(!1)}},te=e=>{i(!0);const{value:s,name:a}=e.target,t={...p};t[a]=s,"foodPackageCategoryId"===a&&(delete t.foodPreferenceId,delete t.packageId,b([{venueFoodPackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])),"foodPreferenceId"===a&&(delete t.packageId,b([{venueFoodPackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])),"packageId"===a&&b([{venueFoodPackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}]),g(t)},le=async(t,l)=>{t.preventDefault();const{foodPackageCategoryId:d,foodPreferenceId:c,packageId:m,jainPreparation:u=0,id:h,paxCount:x}=p;if(Number(u)<=Number(p.paxCount))try{let t,r={id:h,paxCount:x,inquiryInfoId:e.inquiryId,venueDetailId:e.venueId,inquirySlotId:e.slotId,basePricePerPlateOrPerson:X,foodPackageCategoryId:d,foodPreferenceId:c,jainPreparation:u,venueFoodPackageId:-1===m?0:m,guestDetailId:n.guestDetailId,foodPackageItem:N.filter((e=>{let{addOnCount:s}=e;return s>0})).map((e=>{let{venueFoodPackageItemId:s,addOnCount:a=0,id:t=0,addOnCost:l,count:n}=e,i=0,d=0;const{amount:c=0,venueFoodItemTypeName:r}=je.find((e=>s===e.venueFoodPackageItemId))||{},o=J.find((e=>s===e.venueFoodPackageItemId))||{};return i=c,d=o.count,{id:t,packageItemId:s,addOnCount:a,addOnCost:c,totalAddOnCost:c*a,count:o.count}}))};-1===m&&(r.packageNameId=0),L(!0),t=l?await Ts.updateFoodPackage(r):await Ts.addFoodPackage(r),t.title===o.A.success&&(i(!1),l?(E(!1),$()):s(a.pathname+"/"+t.detail,{replace:!0}))}catch(v){r.oR.error(v.message)}finally{L(!1)}};let ne=[];var ie,de,ce;K.foodPreferenceIds&&(ne=null===(ie=K.foodPreferenceIds)||void 0===ie?void 0:ie.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e})))),null!==(de=K.foodPreferenceIds)&&void 0!==de&&de.includes(Q.O.FoodType.value.Veg)&&null!==(ce=K.foodPreferenceIds)&&void 0!==ce&&ce.includes(Q.O.FoodType.value.NonVeg)&&ne.push({text:"Veg + Non-Veg",value:3}));let re=f.filter((e=>{let{foodPreferenceId:s,venueFoodPackageCategoryId:a,venueFoodPackageStatusId:t}=e;return s==p.foodPreferenceId&&a==p.foodPackageCategoryId&&1===t})).map((e=>{let{venueFoodPackageName:s,venueFoodPackageId:a}=e;return{text:s,value:a}}));re.push({text:"Custom",value:-1});const me=-1===p.packageId,{VegNonVeg:ue,Veg:he,NonVeg:xe,Vegan:ve}=Q.O.FoodType.value,je=O.filter((e=>{let{foodPreferenceId:s}=e;switch(p.foodPreferenceId){case ue:return[he,xe].includes(s);case he:return s===he;case xe:return s===xe;case ve:return s===ve;default:return!1}})),pe=[Q.O.inquiryState.value.InquiryCancelled,Q.O.inquiryState.value.BookingCancelled,Q.O.inquiryState.value.InquiryDisposed,Q.O.inquiryState.value.BookingCompleted,Q.O.inquiryState.value.BookingConfirmed],{Pending:ge,Approved:Ne,Rejected:be,Cancelled:fe}=Q.O.bookingRequestStatus.value,ye=pe.includes(n.inquiryStateId),Ae=(null===z||void 0===z?void 0:z.id)!==(null===n||void 0===n?void 0:n.leadOwnerId)&&(null===z||void 0===z?void 0:z.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"package-details-header-container",children:(0,x.jsxs)("div",{className:"title-header",children:[(0,x.jsx)("div",{className:"title",children:"Food Package"}),(0,x.jsx)("div",{className:"line-diff"}),!ye&&![ge,Ne].includes(n.bookingStatusId)&&!Ae&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{align:"start",children:[(0,x.jsx)(W.A.Toggle,{as:e=>(0,x.jsx)("div",{...e,role:"button",children:(0,x.jsxs)("span",{className:"fs-13-px txt-primary fw-bold user-select-none",children:["More Action",(0,x.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M4 6L8 10L12 6",stroke:"#7D63EC","stroke-linecap":"round","stroke-linejoin":"round"})})]})})}),(0,x.jsxs)(W.A.Menu,{className:"package-dropdown-list",children:[(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>j(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.z1,{}),"\xa0\xa0 View All Packages"]})}),(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>H(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.Mo,{}),"\xa0\xa0 View Menu"]})}),e.packageId&&(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>h(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.RZ,{}),"\xa0\xa0 Delete Package"]})})]})]})}),(0,x.jsx)("div",{children:e.packageId?(0,x.jsx)(x.Fragment,{children:F?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:()=>{E(!1),i(!1),$()},children:"Discard"}),(0,x.jsxs)("button",{disabled:D||Y,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:e=>le(e,!0),children:[Y&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Update Package"]})]}):(0,x.jsx)("button",{disabled:D||Y,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:()=>E(!0),children:"Modify Package"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:()=>s("/inquiry-bookings/inquiry-info/"+e.inquiryId),children:"Discard"}),(0,x.jsxs)("button",{disabled:D,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:e=>le(e),children:[Y&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Package"]})]})})]})]})}),R?(0,x.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsxs)("div",{className:"package-details-main-container ".concat(F?"":"readonly-form"),children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(p.id?"readonly-form":""," "),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Category *"}),(0,x.jsx)(oe.A,{isLoading:k,dataSource:C,placeholder:"Select category",onChange:te,value:p.foodPackageCategoryId,name:"foodPackageCategoryId",readonly:!F||p.id})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(p.id?"readonly-form":""," "),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Food Preference *"}),(0,x.jsx)(oe.A,{dataSource:ne,placeholder:"Select category",onChange:te,value:p.foodPreferenceId||"",name:"foodPreferenceId",readonly:!F||p.id})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(p.id?"readonly-form":""," "),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Name *"}),(0,x.jsx)(oe.A,{isLoading:A,dataSource:re,placeholder:"Select category",onChange:te,value:p.packageId||"",name:"packageId",readonly:!F||p.id})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"No. of Plate *"}),(0,x.jsx)(Rl,{count:p.paxCount,readOnly:!F,countOnChange:e=>{const s={...p};s.paxCount=e,g(s),i(!0)},slotPaxCount:K.paxCount})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Jain Preparation"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{type:"number",className:"form-control input-one-line input-container",placeholder:"Enter Count",onChange:te,value:p.jainPreparation,name:"jainPreparation",readOnly:!F}),Number(p.jainPreparation)>p.paxCount&&(0,x.jsxs)("span",{className:"txt-danger fs-13-px",children:["Should be less than ",p.paxCount]})]})]}),-1!==p.packageId&&p.packageId&&(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Base Price per Plate"}),(0,x.jsxs)("div",{className:"p-1 fw-bold input-container d-flex align-items-center",children:["\u20b9 ",X.toLocaleString("en-IN")]})]})]}),p.packageId&&(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)(Yl,{editMode:F,isVegNonVeg:p.foodPreferenceId===Q.O.FoodType.value.VegNonVeg,isCustom:me,venueFoodPackageItemMapDTO:J,packageItemsList:je,addOnCountList:N,setAddOnCountList:e=>{b(e),i(!0)},readItemCount:p.addOnCountList})}),(0,x.jsxs)("div",{className:"package-summary-section my-4",children:[(0,x.jsx)("span",{className:"summary-heading",children:"Package Billing Summary"}),(0,x.jsx)("span",{className:"section-line"})]}),-1!==p.packageId&&(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"PACKAGE NAME"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[_," - Food Package"]}),(0,x.jsx)("td",{className:"text-end",children:p.paxCount}),(0,x.jsxs)("td",{className:"text-end",children:[" \u20b9",X]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(X||0)*(p.paxCount||0)]})]})})]})}),N.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0&&(0,x.jsx)(Ml,{isVegNonVeg:p.foodPreferenceId===Q.O.FoodType.value.VegNonVeg,addOnCountList:N.filter((e=>{let{addOnCount:s}=e;return s>0})),packageItemsList:je}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)(Vl,{addOnCountList:N.filter((e=>{let{addOnCount:s}=e;return s>0})),paxCount:p.paxCount,packageData:Z,packageId:p.packageId,packageItemsList:je})})]})]}),(0,x.jsx)(Hl,{show:v,handleClose:()=>j(!1),foodPackageCategoryLoading:k,foodPackageCategoryList:C,foodTypeOptionList:ne,packageList:f,okayClick:()=>j(!1)}),(0,x.jsx)(zl,{isFood:!0,show:U,handleClose:()=>H(!1),foodItemList:O}),(0,x.jsx)(Fl,{show:d,handleClose:()=>h(!1),onConfirm:async()=>{try{const a={InquiryFoodPackageId:e.packageId,InquiryInfoId:e.inquiryId};i(!0);(await Ts.deleteFoodPackageById(a)).title===o.A.success&&s("/inquiry-bookings/inquiry-info/"+e.inquiryId,{replace:!0})}catch(a){r.oR.error(a.message)}}})]})},Kl=e=>{let{show:s,handleClose:a,beverageOptionList:l,packageList:n=[],okayClick:i}=e;const[d,c]=(0,t.useState)({}),r=n.filter((e=>{let{beveragePreferenceId:s}=e;return s==d.beveragePreferenceId}));return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",size:"lg",centered:!0,scrollable:!0,dialogClassName:"modal-90w",children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Beverage Packages"})}),(0,x.jsx)(E.A.Body,{className:"height-75vh",children:(0,x.jsxs)("div",{className:"d-flex flex-column h-100",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Beverage Preference *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:l,placeholder:"Select category",onChange:e=>{const{value:s,name:a}=e.target,t={...d};t[a]=s,c(t)},value:d.beveragePreferenceId||"",name:"beveragePreferenceId"})})]})}),d.beveragePreferenceId?(0,x.jsx)("div",{className:"table-responsive menu-card-container h-100 flex-grow-1",children:r.length>0?r.map(((e,s)=>{let{venueBeveragePackageName:a,venueBeveragePackageCategoryName:t,venueBeveragePackageItemMapDTO:l,venueBeveragePackageAmount:n,venueBeveragePackageId:i}=e;return(0,x.jsx)("div",{className:"menu-card-wrapper",children:(0,x.jsxs)("div",{className:"menu-card",children:[(0,x.jsxs)("div",{className:"menu-header",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"menu-title",children:a}),(0,x.jsx)("div",{className:"menu-subtitle",children:t})]}),(0,x.jsxs)("div",{className:"menu-price",children:["\u20b9 ",n,"/-"]})]}),(0,x.jsxs)("div",{className:"menu-body",children:[(0,x.jsxs)("div",{className:"menu-label mb-3",children:[(0,x.jsx)("div",{className:"label",children:"Item"}),(0,x.jsx)("div",{className:"label",children:"Count"})]}),l.map(((e,s)=>{let{drinkName:a,count:t,liquorTypeId:l,liquorType:n}=e;return(0,x.jsxs)("div",{className:"menu-item mb-3",children:[(0,x.jsxs)("span",{className:"item-name text-truncate",title:"".concat(l>0?n:""," ").concat(a),children:[l>0&&n," ",a]}),(0,x.jsx)("div",{className:"flex-grow-1 d-flex align-items-center",children:(0,x.jsx)("div",{className:"line-bar flex-grow-1"})}),(0,x.jsx)("span",{className:"item-count",children:t})]},s)}))]})]})},i)})):(0,x.jsx)("div",{className:"h-100 align-items-center w-100 d-flex justify-content-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:Ul,alt:"recordNotFound"}),(0,x.jsx)("h4",{className:"fs-24-px description",children:"No Record Found"})]})})}):(0,x.jsx)("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center ",children:(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"my-auto",children:(0,x.jsx)("img",{src:Ea,height:80,width:80})}),(0,x.jsxs)("div",{className:"my-auto ms-4",children:[(0,x.jsx)("div",{className:"select-title",children:"Select Options"}),(0,x.jsx)("div",{className:"select-description",children:"Select package category and preference to load the packages"})]})]})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:"Okay"})})]})},Zl=e=>{let{isCustom:s,venueBeveragePackageItemMapDTO:a,packageItemsList:t,addOnCountList:l,setAddOnCountList:n,isAlAndNonAl:i=!1,editMode:d}=e;const c=l.every((e=>{let{addOnCount:s}=e;return s>0})),r=a.map((e=>{let{beveragePackageItemId:s}=e;return s})),o=l.map((e=>{let{beveragePackageItemId:s}=e;return s})),m=[...r,...o],u=e=>{let s=[...l];const a=s.findIndex((s=>s.beveragePackageItemId===e.beveragePackageItemId));-1!==a?(e.addOnCount>=0&&(s[a]={...e}),0===e.addOnCount&&(s=s.filter(((e,s)=>a!==s)))):e.addOnCount>=0&&s.push(e),n(s)},h=(e,s)=>{let a=[...l];const t=a.findIndex((e=>e.tempId===s)),i=a[t];-1!==t&&(a[t]={...i,beveragePackageItemId:e,addOnCount:0}),n(a)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEM"}),s?(0,x.jsx)("th",{className:"text-center col-width-100px",children:"COUNT"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("th",{className:"text-center border-right-2px col-width-100px",children:"COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COST"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"TOTAL COST"})]})]})}),(0,x.jsx)("tbody",{className:"bold-font",children:a.map((e=>(0,x.jsx)(Jl,{item:e,isCustom:s,addOnCountChange:u,addOnDropdownChange:h,packageItemsList:t,addOnCountList:l,selectedItems:m,isAlAndNonAl:i,editMode:d,venueBeveragePackageItemMapDTO:a},e.beveragePackageItemId)))}),(0,x.jsx)("tbody",{className:"bold-font",children:l.filter((e=>{let{beveragePackageItemId:s}=e;return!r.includes(s)})).map((e=>(0,x.jsx)(Jl,{item:e,isCustom:s,addOnCountChange:u,addOnDropdownChange:h,packageItemsList:t,addOnCountList:l,selectedItems:m,isAddOnRow:!0,isAlAndNonAl:i,editMode:d,venueBeveragePackageItemMapDTO:a},e.beveragePackageItemId)))})]}),d&&(0,x.jsx)("div",{className:"my-3",children:(0,x.jsx)("span",{className:"".concat(c?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{c&&n([...l,{beveragePackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})},Jl=e=>{let{isAddOnRow:s,isCustom:a,addOnCountChange:l,item:n,packageItemsList:i=[],addOnCountList:d,selectedItems:c,addOnDropdownChange:r,isAlAndNonAl:o,editMode:m,venueBeveragePackageItemMapDTO:h=[]}=e;const[v,j]=(0,t.useState)(!1),{drinkName:p,amount:g=0,beveragePackageItemId:N,liquorType:b,liquorTypeId:f,beverageTypeId:y}=i.find((e=>{let{beveragePackageItemId:s}=e;return s===n.beveragePackageItemId}))||{},{addOnCount:A=0,id:I=0}=d.find((e=>{let{beveragePackageItemId:s}=e;return s===n.beveragePackageItemId}))||{},C=h.find((e=>e.beveragePackageItemId===n.beveragePackageItemId))||{},w=c.filter((e=>e!=n.beveragePackageItemId));return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"food-item-width",children:s?(0,x.jsx)(oe.A,{customCss:"bordered ".concat(v?"invalid":""),dataSource:i.filter((e=>{let{beveragePackageItemId:s}=e;return!w.includes(s)})).map((e=>{let{beveragePackageItemId:s,drinkName:a,beverageTypeId:t,liquorTypeId:l,liquorType:n}=e;return{text:"".concat(l>0?n:""," ").concat(a," ").concat(o?" - "+Q.O.beveragePreference.text[t]:""),value:s}})),placeholder:"Select",onChange:e=>((e,s)=>{r(e,s)})(e.target.value,n.tempId),value:N}):(0,x.jsxs)(x.Fragment,{children:[f>0&&b," ",p,o&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[y]]})]})}),(0,x.jsx)("div",{className:"dash-line-diff flex-grow-1 ms-4"})]})}),!a&&(0,x.jsx)("td",{className:"text-center align-middle border-right-2px",children:s?(0,x.jsx)("span",{className:"read-only",children:"0"}):C.count}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"add-on-count ".concat(n.beveragePackageItemId?"":"read-only"),children:m?(0,x.jsxs)("div",{className:"inc-dec-container user-select-none",children:[(0,x.jsx)("div",{id:"decrement",role:"button",onClick:()=>{n.beveragePackageItemId?A>0&&l({beveragePackageItemId:N,addOnCount:A-1,addOnCost:g,id:I,count:C.count}):j(!0)},children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:A}),(0,x.jsx)("div",{id:"increment",role:"button",onClick:()=>{n.beveragePackageItemId?l({beveragePackageItemId:N,addOnCount:A+1,addOnCost:g,id:I,count:C.count}):j(!0)},children:(0,x.jsx)(u.FW,{})})]}):(0,x.jsx)("div",{className:"inc-dec-container user-select-none border-0",children:A})})}),!a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-center align-middle",children:A>0?g>0?(0,x.jsxs)("span",{children:["\u20b9 ",g]}):(0,x.jsxs)("span",{className:"read-only",children:["\u20b9 ",g]}):(0,x.jsx)("span",{className:"read-only",children:" 0"})}),(0,x.jsx)("td",{className:"text-center align-middle",children:A*g>0?(0,x.jsxs)("span",{children:[" \u20b9 ",A*g]}):(0,x.jsx)("span",{className:"read-only",children:"0"})})]})]})},Xl=e=>{let{addOnCountList:s=[],packageItemsList:a,isAlAndNonAl:t}=e;const l=s.reduce(((e,s)=>{let{addOnCount:t,beveragePackageItemId:l}=s;const{amount:n=0}=a.find((e=>l===e.beveragePackageItemId))||{};return e+n*t}),0);return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Add-ON ITEMS"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsxs)("tbody",{children:[s.map((e=>{let{addOnCount:s=0,beveragePackageItemId:l,addOnCost:n=0,id:i=0}=e;const{liquorTypeId:d,liquorType:c,drinkName:r,amount:o=0,beverageTypeId:m}=a.find((e=>l===e.beveragePackageItemId))||{};return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[d>0&&c," ",r,t&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[m]]})]}),(0,x.jsx)("td",{className:"text-end",children:s}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",o]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",s*o]})]})})),(0,x.jsxs)("tr",{className:"add-on-count-footer",children:[(0,x.jsx)("td",{colSpan:2,children:"Total (Add-on Items)"}),(0,x.jsxs)("td",{colSpan:2,className:"text-end",children:["\u20b9 ",l]})]})]})]})},_l=e=>{let{packageData:s,paxCount:a=0,packageItemsList:l=[],addOnCountList:n=[],formObject:i,beverageMenuList:d,isAlAndNonAl:m,addOnBottleCanList:u}=e;const[h,v]=(0,t.useState)([]),[j,p]=(0,t.useState)({}),{venueBeveragePackageAmount:g=0,venueBeveragePackageName:N=""}=s,{packageId:b,beveragePreferenceId:f}=i,y=n.reduce(((e,s)=>{let{addOnCount:a,beveragePackageItemId:t}=s;const{amount:n=0}=l.find((e=>t===e.beveragePackageItemId))||{};return e+n*a}),0),A=u.reduce(((e,s)=>{let{addOnCount:a,venueBeverageMenuItemId:t}=s;const{cost:l=0}=d.find((e=>t===e.id))||{};return e+l*a}),0),I=u.reduce(((e,s)=>{let{addOnCount:a,venueBeverageMenuItemId:t,beveragePackageItemId:n}=s;const{liquorTypeId:i,beverageDrinkItemId:c}=l.find((e=>n===e.beveragePackageItemId))||{},{liquorPercentage:r=0}=h.find((e=>i==e.liquorTypeId&&c==e.beverageDrinkItemId))||{},{cost:o=0}=d.find((e=>t===e.id))||{};return e+a*o*r/100}),0),C=u.reduce(((e,s)=>{let{addOnCount:a,venueBeverageMenuItemId:t,beveragePackageItemId:n}=s;const{liquorTypeId:i,beverageDrinkItemId:c}=l.find((e=>n===e.beveragePackageItemId))||{},{liquorPercentage:r=0}=h.find((e=>i==e.liquorTypeId&&c==e.beverageDrinkItemId))||{},{cost:o=0}=d.find((e=>t===e.id))||{};return e+a*o+a*o*r/100}),0);(0,t.useEffect)((()=>{w()}),[]);const w=async()=>{try{const e=await c.GetTaxesList(),{title:s,data:a={}}=e;if(s===o.A.success){const{venueGenericTaxesDTO:e=[],venueLiquorTaxesDTO:s=[]}=a,t=e.filter((e=>{let{isDeleted:s}=e;return!0!==s}));let l={};t.forEach((e=>{Q.O.genericTax.value.BeverageAlcoholic===e.genericTypeId&&(l.BeverageAlcoholic=e.genericPercentage||0),Q.O.genericTax.value.BeverageNonAlcoholic===e.genericTypeId&&(l.BeverageNonAlcoholic=e.genericPercentage||0),Q.O.genericTax.value.BeverageNonAlcoholicAlcoholic===e.genericTypeId&&(l.BeverageNonAlcoholicAlcoholic=e.genericPercentage||0)})),v(s.filter((e=>{let{isDeleted:s}=e;return!0!==s}))),p(l)}}catch(e){r.oR.error(e.message)}};let k=0;return f===Q.O.beveragePreference.value.Alcoholic&&(k=j.BeverageAlcoholic),f===Q.O.beveragePreference.value.NonAlcoholic&&(k=j.BeverageNonAlcoholic),f===Q.O.beveragePreference.value.AlcoholicNonAlcoholic&&(k=j.BeverageNonAlcoholicAlcoholic),k=k||0,(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Particulars"}),(0,x.jsx)("th",{className:"text-end",children:"Total Cost"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Tax"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Tax Amount"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Final Amount"})]})}),(0,x.jsxs)("tbody",{children:[-1!==b&&(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[N," - Beverage Package ("," ",Q.O.beveragePreference.text[f],")"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",a*g]}),(0,x.jsxs)("td",{className:"text-end",children:[k," %"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",a*g*k/100]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*g+a*g*k/100]})]}),n.length>0&&(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:["Add-on ",Q.O.beveragePreference.text[f]," ","Beverage"]}),(0,x.jsxs)("td",{className:"text-end",children:[" \u20b9 ",y]}),(0,x.jsxs)("td",{className:"text-end",children:[k," %"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",y*k/100]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",y+y*k/100]})]}),u.map((e=>{let{addOnCount:s=0,venueBeverageMenuItemId:a,beveragePackageItemId:t}=e;const{liquorTypeId:n,liquorType:i,drinkName:c,beverageTypeId:r,beverageDrinkItemId:o}=l.find((e=>t===e.beveragePackageItemId))||{},{liquorPercentage:u=0}=h.find((e=>n==e.liquorTypeId&&o==e.beverageDrinkItemId))||{},{cost:v=0}=d.find((e=>a===e.id))||{};return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[n>0&&i," ",c,m&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[r]]})]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",s*v]}),(0,x.jsxs)("td",{className:"text-end",children:[u,"%"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",s*v*u/100]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",s*v+s*v*u/100]})]})})),(0,x.jsxs)("tr",{className:"primary-background",children:[(0,x.jsx)("td",{children:"Total Amount ( Inclusive of taxes )"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*g+y+A]}),(0,x.jsx)("td",{}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*g*k/100+y*k/100+I," "]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",a*g+a*g*k/100+(y+y*k/100)+C]})]})]})]})},$l=e=>{let{setAddOnBottleCanList:s,addOnBottleCanList:a=[],packageItemsList:t=[],isAlAndNonAl:l,beverageMenuList:n,editMode:i}=e;const d=a.every((e=>{let{addOnCount:s}=e;return s>0})),c=(e,t)=>{const{value:l,name:n}=e.target,i=a.map((e=>e.tempId===t?"beveragePackageItemId"===n?{...e,[n]:l,addOnCount:0,venueBeverageMenuItemId:""}:{...e,[n]:l}:e));s(i)},r=e=>{let t=a.map((s=>s.tempId===e.tempId?{...s,...e}:s));const l=t.some((s=>s.tempId===e.tempId));!l&&e.addOnCount>=0&&t.push(e),s(t)};return(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"ITEM - ADD ON - BOTTLE/CAN"}),(0,x.jsx)("th",{children:"BRAND NAME"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"COST BY BOTTLE"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"TOTAL COST"})]})}),(0,x.jsx)("tbody",{className:"bold-font",children:a.map((e=>(0,x.jsx)(en,{item:e,addOnCountChange:r,addOnItemDropdownChange:c,packageItemsList:t,addOnBottleCanList:a,isAlAndNonAl:l,beverageMenuList:n,editMode:i},e.venueBeverageMenuItemId)))})]}),i&&(0,x.jsx)("div",{className:"my-3",children:(0,x.jsx)("span",{className:"".concat(d?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{d&&s([...a,{beveragePackageItemId:"",venueBeverageMenuItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})},en=e=>{let{addOnCountChange:s,item:a,packageItemsList:t=[],addOnBottleCanList:l,addOnItemDropdownChange:n,isAlAndNonAl:i,beverageMenuList:d=[],editMode:c}=e;const{costByItem:r=0,venueBeverageMenuItemId:o,beveragePackageItemId:m,addOnCount:h,id:v,tempId:j}=a,p=d.filter((e=>{let{beveragePackageItemId:s}=e;return s===a.beveragePackageItemId})),{cost:g=0}=p.find((e=>{let{id:s}=e;return s===a.venueBeverageMenuItemId}))||{},N=l.map((e=>{let{venueBeverageMenuItemId:s}=e;return s})).filter((e=>e!==a.venueBeverageMenuItemId));return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsx)("div",{className:"add-bottle-dd-width",children:(0,x.jsx)(oe.A,{customCss:"bordered",dataSource:t.map((e=>{let{beverageTypeId:s,beveragePackageItemId:a,drinkName:t,liquorTypeId:l,liquorType:n}=e;return{text:(l>0?n+" - ":"")+t+(i?" - "+Q.O.beveragePreference.text[s]:""),value:a}})),placeholder:"Select",onChange:e=>{n(e,a.tempId)},value:a.beveragePackageItemId,name:"beveragePackageItemId",readonly:!c})})}),(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsx)("div",{className:"brand-dd-width ".concat(a.beveragePackageItemId?"":"read-only"),children:(0,x.jsx)(oe.A,{customCss:"bordered",dataSource:p.filter((e=>{let{id:s}=e;return!N.includes(s)})).map((e=>{let{id:s,menuItemName:a}=e;return{text:a,value:s}})),placeholder:"Select",onChange:e=>{n(e,a.tempId)},value:a.venueBeverageMenuItemId,name:"venueBeverageMenuItemId",readonly:!c})})}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"add-on-count ".concat(a.beveragePackageItemId&&a.venueBeverageMenuItemId?"":"read-only"),children:c?(0,x.jsxs)("div",{className:"inc-dec-container user-select-none",children:[(0,x.jsx)("div",{role:"button",onClick:()=>{a.beveragePackageItemId&&a.addOnCount>0&&a.venueBeverageMenuItemId&&s({id:v,costByItem:r,venueBeverageMenuItemId:o,beveragePackageItemId:m,tempId:j,addOnCount:h-1})},children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:a.addOnCount}),(0,x.jsx)("div",{role:"button",onClick:()=>{a.beveragePackageItemId&&a.venueBeverageMenuItemId&&s({id:v,costByItem:r,venueBeverageMenuItemId:o,beveragePackageItemId:m,tempId:j,addOnCount:h+1})},children:(0,x.jsx)(u.FW,{})})]}):(0,x.jsx)("div",{className:"inc-dec-container user-select-none border-0",children:a.addOnCount})})}),(0,x.jsxs)("td",{className:"text-center align-middle",children:[g>0?"\u20b9":""," ",g.toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-center align-middle",children:[g*a.addOnCount>0?"\u20b9":""," ",(g*a.addOnCount).toLocaleString("en-IN")]})]})},sn=e=>{let{addOnBottleCanList:s=[],beverageMenuList:a=[],isAlAndNonAl:t,packageItemsList:l}=e;const n=s.reduce(((e,s)=>{let{addOnCount:t,venueBeverageMenuItemId:l}=s;const{cost:n=0}=a.find((e=>l===e.id))||{};return e+n*t}),0);return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Add-on Bottles/can"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsxs)("tbody",{children:[s.map((e=>{let{addOnCount:s=0,venueBeverageMenuItemId:n,beveragePackageItemId:i}=e;const{liquorTypeId:d,liquorType:c,drinkName:r,beverageTypeId:o}=l.find((e=>i===e.beveragePackageItemId))||{},{cost:m=0}=a.find((e=>n===e.id))||{};return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[d>0&&c," ",r,t&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[o]]})]}),(0,x.jsx)("td",{className:"text-end",children:s}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",m]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",s*m]})]})})),(0,x.jsxs)("tr",{className:"add-on-count-footer",children:[(0,x.jsx)("td",{colSpan:2,children:"Total (Add-on Bottles/Can)"}),(0,x.jsxs)("td",{colSpan:2,className:"text-end",children:["\u20b9 ",n]})]})]})]})},an=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),a=(0,l.zy)(),{inquiryInfoData:n,reloadData:i,setShowExitPrompt:d}=(0,l.KC)(),[h,v]=(0,t.useState)(!1),[j,p]=(0,t.useState)(!1),[g,N]=(0,t.useState)({}),[b,f]=(0,t.useState)(!0),[y,A]=(0,t.useState)([]),[I,C]=(0,t.useState)([]),[w,k]=(0,t.useState)([]),[S,D]=(0,t.useState)([]),[T,O]=(0,t.useState)([]),[q,P]=(0,t.useState)(!1),[B,F]=(0,t.useState)([]),[E,R]=(0,t.useState)(!1),[M,Y]=(0,t.useState)(!1),[L,U]=(0,t.useState)(!1),{profileDetails:H}=(0,t.useContext)(V.t0),{inquirySlotOutDTO:z=[]}=n||{},{paxCount:G=0,beveragePreferenceIds:K}=(null===z||void 0===z?void 0:z.find((s=>s.inquirySlotId==e.slotId)))||{};let Z=[];K&&(Z=null===K||void 0===K?void 0:K.split(",").map((e=>Q.O.beveragePreference.list.find((s=>{let{value:a}=s;return a==e})))),null!==K&&void 0!==K&&K.includes(Q.O.beveragePreference.value.Alcoholic)&&null!==K&&void 0!==K&&K.includes(Q.O.beveragePreference.value.NonAlcoholic)&&Z.push({text:Q.O.beveragePreference.text[3],value:Q.O.beveragePreference.value.AlcoholicNonAlcoholic})),(0,t.useEffect)((()=>{const{beveragePreferenceId:e,packageId:s}=g;f(!e||!s)}),[g]),(0,t.useEffect)((()=>{X(),_(),$()}),[]),(0,t.useEffect)((()=>{e.packageId?(P(!1),J()):(P(!0),N({id:0,inquiryInfoId:e.inquiryId,venueDetailId:e.venueId,inquirySlotId:e.slotId,platesCounts:G}))}),[e.packageId]);const J=async()=>{try{R(!0);const s=await Ts.getBeveragePackageById(e.packageId),{title:a,data:t}=s;if(a===o.A.success){const{id:e,beveragePreferenceId:s,packageNameId:a,inquiryBeveragePackageItems:l=[],addOnBottleCanListDTO:n=[],platesCounts:i}=t;N({id:e,packageId:0===a?-1:a,beveragePreferenceId:s,platesCounts:i}),null!==l&&void 0!==l&&l.length&&A(null===l||void 0===l?void 0:l.map((e=>{let{id:s,addOnCost:a,addOnCount:t,count:l,packageItemId:n}=e;return{id:s,addOnCost:a,addOnCount:t,count:l,beveragePackageItemId:n,tempId:(0,ta.A)()}}))),null!==n&&void 0!==n&&n.length&&C(null===n||void 0===n?void 0:n.map((e=>{let{venueBeverageMenuItemId:s,venueBeveragePackageItemId:a,addOnCount:t,costByItem:l,id:n}=e;return{id:n,costByItem:l,addOnCount:t,beveragePackageItemId:a,venueBeverageMenuItemId:s,tempId:(0,ta.A)()}})))}}catch(s){r.oR.error(s.message)}finally{R(!1)}},X=async()=>{try{D(!0);const s=await c.getFBPackageBeverageItemList(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&k(t)}catch(s){r.oR.error(s.message)}finally{D(!1)}},_=async()=>{try{const s=await c.getBeveragePackageItemList(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&O(t)}catch(s){r.oR.error(s.message)}},$=async()=>{try{const s=await c.getFBMenuBeverageItemList(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&F(t)}catch(s){r.oR.error(s.message)}},ee=e=>{d(!0);const{value:s,name:a}=e.target,t={...g};t[a]=s,"beveragePreferenceId"===a&&(delete t.packageId,A([{beveragePackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}]),C([{beveragePackageItemId:"",venueBeverageMenuItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])),"packageId"===a&&(A([{beveragePackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}]),C([{beveragePackageItemId:"",venueBeverageMenuItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])),N(t)},se=async(t,l)=>{t.preventDefault();const{beveragePreferenceId:i,packageId:c,id:m=0,platesCounts:u}=g;try{const t={id:m,beveragePreferenceId:i,venueBeveragePackageId:-1===c?0:c,platesCounts:u,basePricePerPlateOrPerson:ne,inquirySlotId:e.slotId,guestDetailId:n.guestDetailId,inquiryInfoId:e.inquiryId,venueDetailId:e.venueId,inquiryBeveragePackageItems:y.filter((e=>{let{addOnCount:s}=e;return s>0})).map((e=>{let{beveragePackageItemId:s,addOnCount:a=0,id:t=0}=e;const{amount:l=0,liquorTypeId:n,liquorType:i,drinkName:d,beverageTypeId:r}=ce.find((e=>s===e.beveragePackageItemId))||{},o=le.find((e=>s===e.beveragePackageItemId))||{};return{id:t,packageItemId:s,addOnCount:a,addOnCost:l,totalAddOnCost:l*a,count:o.count,venueBeveragePackageId:-1===c?0:c}})),addOnBottleCanListDTO:I.filter((e=>{let{addOnCount:s}=e;return s>0})).map((e=>{let{venueBeverageMenuItemId:s,beveragePackageItemId:a,addOnCount:t,id:l}=e;const{cost:n=0}=B.find((e=>a===e.beveragePackageItemId&&e.id===s))||{};return{venueBeverageMenuItemId:s,venueBeveragePackageItemId:a,addOnCount:t,costByItem:n,totalCost:n*t,id:l}}))};let r;d(!1),Y(!0),r=l?await Ts.updateBeveragePackage(t):await Ts.addBeveragePackage(t),r.title===o.A.success&&(l?(P(!1),J()):s(a.pathname+"/"+r.detail,{replace:!0}))}catch(h){r.oR.error(h.message)}finally{Y(!1)}};let ae=w.filter((e=>{let{beveragePreferenceId:s,venueBeveragePackageStatusId:a}=e;return s==g.beveragePreferenceId&&1===a})).map((e=>{let{venueBeveragePackageName:s,venueBeveragePackageId:a}=e;return{text:s,value:a}}));ae.push({text:"Custom",value:-1});const te=w.find((e=>e.venueBeveragePackageId===g.packageId))||{},{venueBeveragePackageItemMapDTO:le=[],venueBeveragePackageAmount:ne=0,venueBeveragePackageName:ie=""}=te,de=-1===g.packageId;let ce=T;g.beveragePreferenceId!==Q.O.beveragePreference.value.AlcoholicNonAlcoholic&&(ce=T.filter((e=>{let{beverageTypeId:s}=e;return s===g.beveragePreferenceId})));const re=[Q.O.inquiryState.value.InquiryCancelled,Q.O.inquiryState.value.BookingCancelled,Q.O.inquiryState.value.InquiryDisposed,Q.O.inquiryState.value.BookingCompleted,Q.O.inquiryState.value.BookingConfirmed],{Pending:me,Approved:ue,Rejected:he,Cancelled:xe}=Q.O.bookingRequestStatus.value,ve=re.includes(n.inquiryStateId),je=(null===H||void 0===H?void 0:H.id)!==(null===n||void 0===n?void 0:n.leadOwnerId)&&(null===H||void 0===H?void 0:H.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"package-details-header-container",children:(0,x.jsxs)("div",{className:"title-header",children:[(0,x.jsx)("div",{className:"title",children:"Beverage Package"}),(0,x.jsx)("div",{className:"line-diff"}),!ve&&![me,ue].includes(n.bookingStatusId)&&!je&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{align:"start",children:[(0,x.jsx)(W.A.Toggle,{as:e=>(0,x.jsx)("div",{...e,role:"button",children:(0,x.jsxs)("span",{className:"fs-13-px txt-primary fw-bold user-select-none",children:["More Action",(0,x.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M4 6L8 10L12 6",stroke:"#7D63EC","stroke-linecap":"round","stroke-linejoin":"round"})})]})})}),(0,x.jsxs)(W.A.Menu,{className:"package-dropdown-list",children:[(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>p(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.z1,{}),"\xa0\xa0 View All Packages"]})}),(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>U(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.Mo,{}),"\xa0\xa0 View Menu"]})}),e.packageId&&(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>v(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.RZ,{}),"\xa0\xa0 Delete Package"]})})]})]})}),(0,x.jsx)("div",{children:e.packageId?(0,x.jsx)(x.Fragment,{children:q?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:()=>{P(!1),J(),d(!1)},children:"Discard"}),(0,x.jsxs)("button",{disabled:b||M,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:e=>se(e,!0),children:[M&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Update Package"]})]}):(0,x.jsx)("button",{disabled:b,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:()=>P(!0),children:"Modify Package"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:()=>s("/inquiry-bookings/inquiry-info/"+e.inquiryId),children:"Discard"}),(0,x.jsxs)("button",{disabled:b||M,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:e=>se(e),children:[M&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Package"]})]})})]})]})}),E?(0,x.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsxs)("div",{className:"package-details-main-container ".concat(q?"":"readonly-form"),children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(g.id?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0 text-truncate",children:"Beverage Preference *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:Z,placeholder:"Select category",onChange:ee,value:g.beveragePreferenceId||"",name:"beveragePreferenceId",readonly:!q||g.id})})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(g.id?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Name *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{isLoading:S,dataSource:ae,placeholder:"Select category",onChange:ee,value:g.packageId||"",name:"packageId",readonly:!q||g.id})})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"No. of Pax *"}),(0,x.jsx)(Rl,{count:g.platesCounts,readOnly:!q,countOnChange:e=>{const s={...g};s.platesCounts=e,N(s),d(!0)},slotPaxCount:G})]}),-1!==g.packageId&&g.packageId>0&&(0,x.jsxs)("div",{className:"col-md-3 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Base Price per person"}),(0,x.jsxs)("div",{className:"p-1 fw-bold p-1 fw-bold input-container d-flex align-items-center",children:["\u20b9 ",ne.toLocaleString("en-IN")]})]})]}),g.packageId&&(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsx)(Zl,{isAlAndNonAl:g.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic,isCustom:de,venueBeveragePackageItemMapDTO:le,packageItemsList:ce,addOnCountList:y,setAddOnCountList:e=>{A(e),d(!0)},editMode:q})}),(q||I.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0)&&(0,x.jsx)($l,{setAddOnBottleCanList:C,addOnBottleCanList:I,beverageMenuList:B,packageItemsList:ce,isAlAndNonAl:g.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic,editMode:q}),(0,x.jsxs)("div",{className:"package-summary-section mb-4",children:[(0,x.jsx)("span",{className:"summary-heading",children:"Package Billing Summary"}),(0,x.jsx)("span",{className:"section-line"})]}),-1!==g.packageId&&(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"PACKAGE NAME"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[ie," - Beverage Package ("," ",Q.O.beveragePreference.text[g.beveragePreferenceId],")"]}),(0,x.jsx)("td",{className:"text-end",children:g.platesCounts}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9",ne.toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(ne*g.platesCounts).toLocaleString("en-IN")]})]})})]})}),y.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0&&(0,x.jsx)(Xl,{packageItemsList:ce,addOnCountList:y.filter((e=>{let{addOnCount:s}=e;return s>0})),isAlAndNonAl:g.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic}),I.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0&&(0,x.jsx)(sn,{beverageMenuList:B,addOnBottleCanList:I.filter((e=>{let{addOnCount:s}=e;return s>0})),packageItemsList:ce,isAlAndNonAl:g.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)(_l,{addOnCountList:y.filter((e=>{let{addOnCount:s}=e;return s>0})),addOnBottleCanList:I.filter((e=>{let{addOnCount:s}=e;return s>0})),paxCount:g.platesCounts,packageData:te,formObject:g,packageItemsList:ce,beverageMenuList:B})})]})]}),(0,x.jsx)(Kl,{show:j,handleClose:()=>p(!1),beverageOptionList:Z,packageList:w,okayClick:()=>p(!1)}),(0,x.jsx)(Fl,{show:h,handleClose:()=>v(!1),onConfirm:async()=>{try{const a={InquiryBeveragePackageId:e.packageId,InquiryInfoId:e.inquiryId};d(!0);(await Ts.deleteBeveragePackageById(a)).title===o.A.success&&s("/inquiry-bookings/inquiry-info/"+e.inquiryId)}catch(a){r.oR.error(a.message)}}}),(0,x.jsx)(zl,{isBeverage:!0,show:L,handleClose:()=>U(!1),beverageItemList:T})]})},tn=e=>{let{show:s,handleClose:a,beverageOptionList:l,foodTypeOptionList:n,packageList:i=[],okayClick:d,foodPackageCategoryLoading:c,foodPackageCategoryList:r,packageItemsList:o=[],foodItemsList:m=[],isAlAndNonAl:u,isVegNonVeg:h}=e;const[v,j]=(0,t.useState)({}),p=e=>{const{value:s,name:a}=e.target,t={...v};t[a]=s,j(t)},g=i.filter((e=>{let{foodPreferenceId:s,beveragePreferenceId:a,venueFoodBeveragePackageStatusId:t,venueFoodBeveragePackageCategoryId:l}=e;return s==v.foodPreferenceId&&a==v.beveragePreferenceId&&l==v.packageCategoryId&&1===t}));return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",size:"lg",centered:!0,scrollable:!0,dialogClassName:"modal-90w",children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Food & Beverage Packages"})}),(0,x.jsx)(E.A.Body,{className:"height-75vh",children:(0,x.jsxs)("div",{className:"d-flex flex-column h-100",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Category *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{isLoading:c,dataSource:r,placeholder:"Select category",onChange:p,value:v.packageCategoryId||"",name:"packageCategoryId"})})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Food Preference *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:n,placeholder:"Select category",onChange:p,value:v.foodPreferenceId||"",name:"foodPreferenceId"})})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Beverage Preference *"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:l,placeholder:"Select category",onChange:p,value:v.beveragePreferenceId||"",name:"beveragePreferenceId"})})]})]}),v.beveragePreferenceId?(0,x.jsx)("div",{className:"table-responsive menu-card-container h-100 flex-grow-1",children:g.length>0?g.map(((e,s)=>{let{venueFoodBeveragePackageName:a,venueFoodBeveragePackageCategory:t,venueFoodBeveragePackageItemMapDTO:l=[],venueFoodBeveragePackageAmount:n=0}=e;return(0,x.jsx)("div",{className:"menu-card-wrapper",children:(0,x.jsxs)("div",{className:"menu-card",children:[(0,x.jsxs)("div",{className:"menu-header",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"menu-title",children:a}),(0,x.jsx)("div",{className:"menu-subtitle",children:t})]}),(0,x.jsxs)("div",{className:"menu-price",children:["\u20b9 ",n,"/-"]})]}),(0,x.jsxs)("div",{className:"menu-body",children:[(0,x.jsxs)("div",{className:"menu-label mb-3",children:[(0,x.jsx)("div",{className:"label",children:"Item"}),(0,x.jsx)("div",{className:"label",children:"Count"})]}),l.map(((e,s)=>{let a={};a=e.beveragePackageItemId?o.find((s=>{let{beveragePackageItemId:a}=s;return a===e.beveragePackageItemId}))||{}:m.find((s=>{let{venueFoodPackageItemId:a}=s;return a===e.venueFoodPackageItemId}))||{};const{drinkName:t,liquorType:l,liquorTypeId:n,beverageTypeId:i,venueFoodItemTypeName:d,foodPreferenceId:c}=a;let r="";return r=e.venueFoodPackageItemId?"".concat(d," \n                                ").concat(h?" - "+Q.O.FoodType.text[c]:""):"".concat(n>0?l:""," ").concat(t," ").concat(u?" - "+Q.O.beveragePreference.text[i]:""),(0,x.jsxs)("div",{className:"menu-item mb-3",children:[(0,x.jsx)("span",{className:"item-name text-truncate",title:r,children:r}),(0,x.jsx)("div",{className:"flex-grow-1 d-flex align-items-center",children:(0,x.jsx)("div",{className:"line-bar flex-grow-1"})}),(0,x.jsx)("span",{className:"item-count",children:e.count})]},s)}))]})]})},s)})):(0,x.jsx)("div",{className:"h-100 align-items-center w-100 d-flex justify-content-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:Ul,alt:"recordNotFound"}),(0,x.jsx)("h4",{className:"fs-24-px description",children:"No Record Found"})]})})}):(0,x.jsx)("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center ",children:(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"my-auto",children:(0,x.jsx)("img",{src:Ea,height:80,width:80})}),(0,x.jsxs)("div",{className:"my-auto ms-4",children:[(0,x.jsx)("div",{className:"select-title",children:"Select Options"}),(0,x.jsx)("div",{className:"select-description",children:"Select package category and preference to load the packages"})]})]})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:"Okay"})})]})},ln=e=>{let{isCustom:s,venueFoodBeveragePackageItemMapDTO:a,packageItemsList:t,addOnCountList:l,setAddOnCountList:n,isAlAndNonAl:i=!1,foodItemsList:d,isVegNonVeg:c,editMode:r}=e;const o=l.every((e=>{let{addOnCount:s}=e;return s>0})),m=a.map((e=>{let{beveragePackageItemId:s,venueFoodPackageItemId:a}=e,t="";return t=s?"beverage-"+s:"food-"+a,t})),u=l.map((e=>{let{beveragePackageItemId:s,venueFoodPackageItemId:a}=e,t="";return t=s?"beverage-"+s:"food-"+a,t})),h=[...m,...u],v=e=>{let s=[...l];const a=s.findIndex((s=>s.beveragePackageItemId===e.beveragePackageItemId&&s.venueFoodPackageItemId===e.venueFoodPackageItemId));-1!==a?(e.addOnCount>=0&&(s[a]={...e}),0===e.addOnCount&&(s=s.filter(((e,s)=>a!==s)))):e.addOnCount>=0&&s.push(e),n(s)},j=(e,s)=>{let a=[...l];const t=a.findIndex((e=>e.tempId===s)),i=a[t];-1!==t&&(e.includes("food-")&&(a[t]={...i,venueFoodPackageItemId:Number(e.replace("food-","")),beveragePackageItemId:0,addOnCount:0}),e.includes("beverage-")&&(a[t]={...i,beveragePackageItemId:Number(e.replace("beverage-","")),venueFoodPackageItemId:0,addOnCount:0})),n(a)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEM"}),s?(0,x.jsx)("th",{className:"text-center col-width-100px",children:"COUNT"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("th",{className:"text-center border-right-2px col-width-100px",children:"COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COST"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"TOTAL COST"})]})]})}),(0,x.jsx)("tbody",{className:"bold-font",children:a.map((e=>(0,x.jsx)(nn,{item:e,isCustom:s,addOnCountChange:v,addOnDropdownChange:j,packageItemsList:t,foodItemsList:d,addOnCountList:l,selectedItems:h,isAlAndNonAl:i,isVegNonVeg:c,editMode:r,venueFoodBeveragePackageItemMapDTO:a},e.beveragePackageItemId+"-"+e.venueFoodPackageItemId)))}),(0,x.jsx)("tbody",{className:"bold-font",children:l.filter((e=>{let{beveragePackageItemId:s,venueFoodPackageItemId:a}=e,t="";return t=s?"beverage-"+s:"food-"+a,!m.includes(t)})).map((e=>(0,x.jsx)(nn,{item:e,isCustom:s,addOnCountChange:v,addOnDropdownChange:j,packageItemsList:t,addOnCountList:l,selectedItems:h,isAddOnRow:!0,isAlAndNonAl:i,isVegNonVeg:c,editMode:r,foodItemsList:d,venueFoodBeveragePackageItemMapDTO:a},e.beveragePackageItemId+"-"+e.venueFoodPackageItemId)))})]}),r&&(0,x.jsx)("div",{className:"my-3",children:(0,x.jsx)("span",{className:"".concat(o?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{o&&n([...l,{beveragePackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})},nn=e=>{let{isAddOnRow:s,isCustom:a,addOnCountChange:l,item:n,packageItemsList:i=[],addOnCountList:d,selectedItems:c,addOnDropdownChange:r,isAlAndNonAl:o,foodItemsList:m,isVegNonVeg:h,editMode:v,venueFoodBeveragePackageItemMapDTO:j}=e;const[p,g]=(0,t.useState)(!1);let N={},b="";n.beveragePackageItemId&&(b="beverage-"+n.beveragePackageItemId,N=i.find((e=>{let{beveragePackageItemId:s}=e;return s===n.beveragePackageItemId}))||{}),n.venueFoodPackageItemId&&(b="food-"+n.venueFoodPackageItemId,N=m.find((e=>{let{venueFoodPackageItemId:s}=e;return s===n.venueFoodPackageItemId}))||{});const{drinkName:f,liquorType:y,liquorTypeId:A,beverageTypeId:I,venueFoodItemTypeName:C,foodPreferenceId:w,amount:k=0}=N,{addOnCount:S=0,id:D=0,tempId:T=(0,ta.A)()}=d.find((e=>n.beveragePackageItemId===e.beveragePackageItemId&&n.venueFoodPackageItemId===e.venueFoodPackageItemId))||{},O=j.find((e=>e.beveragePackageItemId===n.beveragePackageItemId))||{},q=c.filter((e=>e!=b)),P=i.filter((e=>{let{beveragePackageItemId:s}=e;return!q.includes(s)})).map((e=>{let{beveragePackageItemId:s,drinkName:a,beverageTypeId:t,liquorTypeId:l,liquorType:n}=e;return{text:"".concat(l>0?n:""," ").concat(a," ").concat(o?" - "+Q.O.beveragePreference.text[t]:""),value:"beverage-"+s}})),B=m.filter((e=>{let{venueFoodPackageItemId:s}=e;return!q.includes(s)})).map((e=>{let{venueFoodPackageItemId:s,venueFoodItemTypeName:a,foodPreferenceId:t}=e;return{text:"".concat(a," \n    ").concat(h?" - "+Q.O.FoodType.text[t]:""),value:"food-"+s}})),F=[...B,...P].filter((e=>{let{value:s}=e;return!q.includes(s)}));return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"food-item-width",children:s?(0,x.jsx)(oe.A,{readonly:!v,customCss:"bordered ".concat(p?"invalid":""),dataSource:F,placeholder:"Select",onChange:e=>((e,s)=>{r(e,s)})(e.target.value,n.tempId),value:b}):(0,x.jsxs)(x.Fragment,{children:[n.beveragePackageItemId>0&&(0,x.jsxs)(x.Fragment,{children:[A>0&&y," ",f,o&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[I]]})]}),n.venueFoodPackageItemId>0&&(0,x.jsxs)(x.Fragment,{children:[C,h?" - ".concat(Q.O.FoodType.text[w]):""]})]})}),(0,x.jsx)("div",{className:"dash-line-diff flex-grow-1 ms-4"})]})}),!a&&(0,x.jsx)("td",{className:"text-center align-middle border-right-2px",children:s?(0,x.jsx)("span",{className:"read-only",children:"0"}):O.count}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"add-on-count ".concat(n.beveragePackageItemId||n.venueFoodPackageItemId?"":"read-only"),children:v?(0,x.jsxs)("div",{className:"inc-dec-container user-select-none",children:[(0,x.jsx)("div",{id:"decrement",role:"button",onClick:()=>{b?S>0&&l({beveragePackageItemId:n.beveragePackageItemId,venueFoodPackageItemId:n.venueFoodPackageItemId,addOnCount:S-1,id:D,tempId:T,count:O.count,addOnCost:k}):g(!0)},children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:S}),(0,x.jsx)("div",{id:"increment",role:"button",onClick:()=>{b?l({beveragePackageItemId:n.beveragePackageItemId,venueFoodPackageItemId:n.venueFoodPackageItemId,addOnCount:S+1,addOnCost:k,id:D,tempId:T,count:O.count}):g(!0)},children:(0,x.jsx)(u.FW,{})})]}):(0,x.jsx)("div",{className:"inc-dec-container border-0",children:S})})}),!a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-center align-middle",children:S>0?k>0?(0,x.jsxs)("span",{children:["\u20b9 ",k.toLocaleString("en-IN")]}):(0,x.jsxs)("span",{className:"read-only",children:["\u20b9 ",k.toLocaleString("en-IN")]}):(0,x.jsx)("span",{className:"read-only",children:" 0"})}),(0,x.jsx)("td",{className:"text-center align-middle",children:S*k>0?(0,x.jsxs)("span",{children:[" \u20b9 ",(S*k).toLocaleString("en-IN")]}):(0,x.jsx)("span",{className:"read-only",children:"0"})})]})]})},dn=e=>{let{setAddOnBottleCanList:s,addOnBottleCanList:a=[],packageItemsList:t=[],isAlAndNonAl:l,beverageMenuList:n,editMode:i}=e;const d=a.every((e=>{let{addOnCount:s}=e;return s>0})),c=(e,t)=>{const{value:l,name:n}=e.target,i=a.map((e=>e.tempId===t?"beveragePackageItemId"===n?{...e,[n]:l,addOnCount:0,venueBeverageMenuItemId:""}:{...e,[n]:l}:e));s(i)},r=e=>{let t=a.map((s=>s.tempId===e.tempId?{...s,...e}:s));const l=t.some((s=>s.tempId===e.tempId));!l&&e.addOnCount>=0&&t.push(e),s(t)};return(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"ITEM - ADD ON - BOTTLE/CAN"}),(0,x.jsx)("th",{children:"BRAND NAME"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"ADD ON COUNT"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"COST BY BOTTLE"}),(0,x.jsx)("th",{className:"text-center col-width-150px",children:"TOTAL COST"})]})}),(0,x.jsx)("tbody",{className:"bold-font",children:a.map((e=>(0,x.jsx)(cn,{item:e,addOnCountChange:r,addOnItemDropdownChange:c,packageItemsList:t,addOnBottleCanList:a,isAlAndNonAl:l,beverageMenuList:n,editMode:i},e.venueBeverageMenuItemId)))})]}),i&&(0,x.jsx)("div",{className:"my-3",children:(0,x.jsx)("span",{className:"".concat(d?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{d&&s([...a,{beveragePackageItemId:"",venueBeverageMenuItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})},cn=e=>{let{addOnCountChange:s,item:a,packageItemsList:t=[],addOnBottleCanList:l,addOnItemDropdownChange:n,isAlAndNonAl:i,beverageMenuList:d=[],editMode:c}=e;const{costByItem:r=0,venueBeverageMenuItemId:o,beveragePackageItemId:m,addOnCount:h,id:v,tempId:j}=a,p=d.filter((e=>{let{beveragePackageItemId:s}=e;return s===a.beveragePackageItemId})),g=l.map((e=>{let{venueBeverageMenuItemId:s}=e;return s})).filter((e=>e!==a.venueBeverageMenuItemId)),{cost:N=0}=p.find((e=>{let{id:s}=e;return s===a.venueBeverageMenuItemId}))||{};let b=0;return b=a.id?r||0:N,(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsx)("div",{className:"add-bottle-dd-width",children:(0,x.jsx)(oe.A,{customCss:"bordered",dataSource:t.map((e=>{let{beverageTypeId:s,beveragePackageItemId:a,drinkName:t,liquorTypeId:l,liquorType:n}=e;return{text:(l>0?n+" - ":"")+t+(i?" - "+Q.O.beveragePreference.text[s]:""),value:a}})),placeholder:"Select",onChange:e=>{n(e,a.tempId)},value:a.beveragePackageItemId,name:"beveragePackageItemId"})})}),(0,x.jsx)("td",{className:"align-middle",children:(0,x.jsx)("div",{className:"brand-dd-width ".concat(a.beveragePackageItemId?"":"read-only"),children:(0,x.jsx)(oe.A,{customCss:"bordered",dataSource:p.filter((e=>{let{id:s}=e;return!g.includes(s)})).map((e=>{let{id:s,menuItemName:a}=e;return{text:a,value:s}})),placeholder:"Select",onChange:e=>{n(e,a.tempId)},value:a.venueBeverageMenuItemId,name:"venueBeverageMenuItemId"})})}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"add-on-count ".concat(a.beveragePackageItemId&&a.venueBeverageMenuItemId?"":"read-only"),children:c?(0,x.jsxs)("div",{className:"inc-dec-container user-select-none",children:[(0,x.jsx)("div",{role:"button",onClick:()=>{a.beveragePackageItemId&&a.addOnCount>0&&a.venueBeverageMenuItemId&&s({id:v,costByItem:r,venueBeverageMenuItemId:o,beveragePackageItemId:m,tempId:j,addOnCount:h-1})},children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:a.addOnCount}),(0,x.jsx)("div",{role:"button",onClick:()=>{a.beveragePackageItemId&&a.venueBeverageMenuItemId&&s({id:v,costByItem:r,venueBeverageMenuItemId:o,beveragePackageItemId:m,tempId:j,addOnCount:h+1})},children:(0,x.jsx)(u.FW,{})})]}):(0,x.jsx)("div",{className:"inc-dec-container border-0",children:h})})}),(0,x.jsxs)("td",{className:"text-center align-middle",children:[b>0?"\u20b9":""," ",b.toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-center align-middle",children:[b*a.addOnCount>0?"\u20b9":""," ",(b*a.addOnCount).toLocaleString("en-IN")]})]})},rn=e=>{let{addOnCountList:s=[],packageItemsList:a,isAlAndNonAl:t,isVegNonVeg:l,foodItemsList:n}=e;const i=s.reduce(((e,s)=>{let{addOnCount:t,beveragePackageItemId:l,venueFoodPackageItemId:i}=s,d={};l&&(d=a.find((e=>e.beveragePackageItemId===l))||{}),i&&(d=n.find((e=>e.venueFoodPackageItemId===i))||{});const{amount:c=0}=d;return e+c*t}),0);return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Add-ON ITEMS"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsxs)("tbody",{children:[s.map((e=>{let{addOnCount:s=0,beveragePackageItemId:i,venueFoodPackageItemId:d}=e,c={};i&&(c=a.find((e=>e.beveragePackageItemId===i))||{}),d&&(c=n.find((e=>e.venueFoodPackageItemId===d))||{});const{drinkName:r,liquorType:o,liquorTypeId:m,beverageTypeId:u,venueFoodItemTypeName:h,foodPreferenceId:v,amount:j=0}=c;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[i>0&&(0,x.jsxs)(x.Fragment,{children:[m>0&&o," ",r,t&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[u]]})]}),d>0&&(0,x.jsxs)(x.Fragment,{children:[h,l?" - ".concat(Q.O.FoodType.text[v]):""]})]}),(0,x.jsx)("td",{className:"text-end",children:s}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",j.toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(s*j).toLocaleString("en-IN")]})]})})),(0,x.jsxs)("tr",{className:"add-on-count-footer",children:[(0,x.jsx)("td",{colSpan:2,children:"Total (Add-on Items)"}),(0,x.jsxs)("td",{colSpan:2,className:"text-end",children:["\u20b9 ",i.toLocaleString("en-IN")]})]})]})]})},on=e=>{let{addOnBottleCanList:s=[],beverageMenuList:a=[],isAlAndNonAl:t,packageItemsList:l}=e;const n=s.reduce(((e,s)=>{let{addOnCount:t,venueBeverageMenuItemId:l}=s;const{cost:n=0}=a.find((e=>l===e.id))||{};return e+n*t}),0);return(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Add-on Bottles/can"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsxs)("tbody",{children:[s.map((e=>{let{addOnCount:s=0,venueBeverageMenuItemId:n,beveragePackageItemId:i}=e;const{liquorTypeId:d,liquorType:c,drinkName:r,beverageTypeId:o}=l.find((e=>i===e.beveragePackageItemId))||{},{cost:m=0}=a.find((e=>n===e.id))||{};return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[d>0&&c," ",r,t&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[o]]})]}),(0,x.jsx)("td",{className:"text-end",children:s}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",m.toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(s*m).toLocaleString("en-IN")]})]})})),(0,x.jsxs)("tr",{className:"add-on-count-footer",children:[(0,x.jsx)("td",{colSpan:2,children:"Total (Add-on Bottles/Can)"}),(0,x.jsxs)("td",{colSpan:2,className:"text-end",children:["\u20b9 ",n.toLocaleString("en-IN")]})]})]})]})},mn=e=>{let{packageData:s,paxCount:a=0,packageItemsList:l=[],addOnCountList:n=[],formObject:i,beverageMenuList:d,isAlAndNonAl:m,foodItemsList:u,addOnBottleCanList:h}=e;const[v,j]=(0,t.useState)([]),[p,g]=(0,t.useState)({}),{venueFoodBeveragePackageAmount:N=0,venueFoodBeveragePackageName:b=""}=s,{packageId:f,beveragePreferenceId:y}=i,A=n.reduce(((e,s)=>{let{addOnCount:a,beveragePackageItemId:t,venueFoodPackageItemId:n}=s,i={};t&&(i=l.find((e=>e.beveragePackageItemId===t))||{}),n&&(i=u.find((e=>e.venueFoodPackageItemId===n))||{});const{amount:d=0}=i;return e+d*a}),0),I=h.reduce(((e,s)=>{let{addOnCount:a,venueBeverageMenuItemId:t}=s;const{cost:l=0}=d.find((e=>t===e.id))||{};return e+l*a}),0),C=h.reduce(((e,s)=>{let{addOnCount:a,venueBeverageMenuItemId:t,beveragePackageItemId:n}=s;const{liquorTypeId:i,beverageDrinkItemId:c}=l.find((e=>n===e.beveragePackageItemId))||{},{liquorPercentage:r=0}=v.find((e=>i==e.liquorTypeId&&c==e.beverageDrinkItemId))||{},{cost:o=0}=d.find((e=>t===e.id))||{};return e+a*o*r/100}),0),w=h.reduce(((e,s)=>{let{addOnCount:a,venueBeverageMenuItemId:t,beveragePackageItemId:n}=s;const{liquorTypeId:i,beverageDrinkItemId:c}=l.find((e=>n===e.beveragePackageItemId))||{},{liquorPercentage:r=0}=v.find((e=>i==e.liquorTypeId&&c==e.beverageDrinkItemId))||{},{cost:o=0}=d.find((e=>t===e.id))||{};return e+a*o+a*o*r/100}),0);(0,t.useEffect)((()=>{k()}),[]);const k=async()=>{try{const e=await c.GetTaxesList(),{title:s,data:a={}}=e;if(s===o.A.success){const{venueGenericTaxesDTO:e=[],venueLiquorTaxesDTO:s=[]}=a,t=e.filter((e=>{let{isDeleted:s}=e;return!0!==s}))||[],l=s||[];let n={};t.forEach((e=>{Q.O.genericTax.value.BeverageAlcoholic===e.genericTypeId&&(n.BeverageAlcoholic=e.genericPercentage||0),Q.O.genericTax.value.BeverageNonAlcoholic===e.genericTypeId&&(n.BeverageNonAlcoholic=e.genericPercentage||0),Q.O.genericTax.value.BeverageNonAlcoholicAlcoholic===e.genericTypeId&&(n.BeverageNonAlcoholicAlcoholic=e.genericPercentage||0)})),g(n),j(l.filter((e=>{let{isDeleted:s}=e;return!0!==s})))}}catch(e){r.oR.error(e.message)}};let S=0;return y===Q.O.beveragePreference.value.Alcoholic&&(S=p.BeverageAlcoholic),y===Q.O.beveragePreference.value.NonAlcoholic&&(S=p.BeverageNonAlcoholic),y===Q.O.beveragePreference.value.AlcoholicNonAlcoholic&&(S=p.BeverageNonAlcoholicAlcoholic),S=S||0,(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-0 footer-total",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"Particulars"}),(0,x.jsx)("th",{className:"text-end",children:"Total Cost"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Tax"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Tax Amount"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"Final Amount"})]})}),(0,x.jsxs)("tbody",{children:[-1!==f&&(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[b," - F&B Package ("," ",Q.O.beveragePreference.text[y],")"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(a*N).toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:[S," %"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(a*N*S/100).toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(a*N+a*N*S/100).toLocaleString("en-IN")]})]}),n.length>0&&(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:["Add-on ",Q.O.beveragePreference.text[y]," ","Beverage"]}),(0,x.jsxs)("td",{className:"text-end",children:[" ","\u20b9 ",A.toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:[S," %"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(A*S/100).toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(A+A*S/100).toLocaleString("en-IN")]})]}),h.map((e=>{let{addOnCount:s=0,venueBeverageMenuItemId:a,beveragePackageItemId:t}=e;const{liquorTypeId:n,liquorType:i,drinkName:c,beverageTypeId:r,beverageDrinkItemId:o}=l.find((e=>t===e.beveragePackageItemId))||{},{cost:u=0}=d.find((e=>a===e.id))||{},{liquorPercentage:h=0}=v.find((e=>n==e.liquorTypeId&&o==e.beverageDrinkItemId))||{};return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[n>0&&i," ",c,m&&(0,x.jsxs)(x.Fragment,{children:[" - ",Q.O.beveragePreference.text[r]]})]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(s*u).toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:[h,"%"]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(s*u*h/100).toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(s*u+s*u*h/100).toLocaleString("en-IN")]})]})})),(0,x.jsxs)("tr",{className:"primary-background",children:[(0,x.jsx)("td",{children:"Total Amount ( Inclusive of taxes )"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(a*N+A+I).toLocaleString("en-IN")]}),(0,x.jsx)("td",{}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(a*N*S/100+A*S/100+C).toLocaleString("en-IN")]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(a*N+a*N*S/100+(A+A*S/100)+w).toLocaleString("en-IN")]})]})]})]})},un=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),a=(0,l.zy)(),{inquiryInfoData:n,setShowExitPrompt:i}=(0,l.KC)(),[d,h]=(0,t.useState)(!1),[v,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)({}),[N,b]=(0,t.useState)(!0),[f,y]=(0,t.useState)([]),[A,I]=(0,t.useState)([]),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[D,T]=(0,t.useState)(!1),[O,q]=(0,t.useState)([]),[P,B]=(0,t.useState)([]),[F,E]=(0,t.useState)([]),[R,M]=(0,t.useState)(!0),[Y,L]=(0,t.useState)(!1),[U,H]=(0,t.useState)([]),[z,G]=(0,t.useState)(!1),[K,Z]=(0,t.useState)(!1),{profileDetails:J}=(0,t.useContext)(V.t0),{inquirySlotOutDTO:X=[]}=n||{},{paxCount:_,beveragePreferenceIds:$,foodPreferenceIds:ee}=(null===X||void 0===X?void 0:X.find((s=>s.inquirySlotId==e.slotId)))||{};let se=[];$&&(se=null===$||void 0===$?void 0:$.split(",").map((e=>Q.O.beveragePreference.list.find((s=>{let{value:a}=s;return a==e})))),null!==$&&void 0!==$&&$.includes(Q.O.beveragePreference.value.Alcoholic)&&null!==$&&void 0!==$&&$.includes(Q.O.beveragePreference.value.NonAlcoholic)&&se.push({text:Q.O.beveragePreference.text[3],value:Q.O.beveragePreference.value.AlcoholicNonAlcoholic}));const ae=C.find((e=>e.venueFoodBeveragePackageId===p.packageId))||{},{venueFoodBeveragePackageItemMapDTO:te=[],venueFoodBeveragePackageAmount:le=0,venueFoodBeveragePackageName:ne=""}=ae;(0,t.useEffect)((()=>{const{beveragePreferenceId:e,packageId:s,packageCategoryId:a,foodPreferenceId:t}=p;b(!(e&&s&&a&&t))}),[p]),(0,t.useEffect)((()=>{de(),ce(),re(),me(),ue()}),[]),(0,t.useEffect)((()=>{e.packageId?(L(!1),ie()):(L(!0),g({id:0,inquiryInfoId:e.inquiryId,venueDetailId:e.venueId,inquirySlotId:e.slotId,platesCount:_}))}),[e.packageId]);const ie=async()=>{try{T(!0);const s=await Ts.getFoodBeveragePackageById(e.packageId),{title:a,data:t={}}=s;if(a===o.A.success){const{id:e,packageCategoryId:s,foodPreferenceId:a,beveragePreferenceId:l,packageNameId:n,jainCount:i,inquiryFBPackageItemListDTO:d=[],addOnBottleCanListDTO:c=[],platesCount:r}=t;e&&d&&c&&(g({id:e,packageCategoryId:s,foodPreferenceId:a,beveragePreferenceId:l,packageId:0===n?-1:n,jainPreparation:i,platesCount:r}),y(null===d||void 0===d?void 0:d.map((e=>{let{venueBeveragePackageItemId:s,venueFoodPackageItemId:a,addOnCount:t,addOnCost:l,count:n,id:i}=e;return{beveragePackageItemId:s,venueFoodPackageItemId:a,addOnCount:t,addOnCost:l,id:i,count:n,tempId:(0,ta.A)()}}))),I(null===c||void 0===c?void 0:c.map((e=>{let{id:s,venueBeverageMenuItemId:a,venueBeveragePackageItemId:t,addOnCount:l,costByItem:n}=e;return{venueBeverageMenuItemId:a,beveragePackageItemId:t,addOnCount:l,costByItem:n,id:s,tempId:(0,ta.A)()}}))))}}catch(s){r.oR.error(s.message)}finally{T(!1)}},de=async()=>{try{S(!0);const s=await c.getFBPackageFoodBeverageItemList(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&w(t)}catch(s){r.oR.error(s.message)}finally{S(!1)}},ce=async()=>{try{const s=await c.getBeveragePackageItemList(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&q(t)}catch(s){r.oR.error(s.message)}},re=async()=>{try{const s=await c.getFBMenuBeverageItemList(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&H(t)}catch(s){r.oR.error(s.message)}},me=async()=>{try{M(!0);const e=await c.getFoodPackageCategory(),{title:s,data:a=[]}=e;s===o.A.success&&E(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{M(!1)}},ue=async()=>{try{const s=await c.getFoodPackageItemListById(e.venueId),{title:a,data:t}=s;a===o.A.success&&t.length&&B(t)}catch(s){r.oR.error(s.message)}},he=e=>{i(!0);const{value:s,name:a}=e.target,t={...p};t[a]=s,"packageCategoryId"===a&&(delete t.foodPreferenceId,delete t.beveragePreferenceId,delete t.packageId,xe()),"foodPreferenceId"===a&&(delete t.beveragePreferenceId,delete t.packageId,xe()),"beveragePreferenceId"===a&&(delete t.packageId,xe()),"packageId"===a&&xe(),g(t)},xe=()=>{y([{beveragePackageItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}]),I([{beveragePackageItemId:"",venueBeverageMenuItemId:"",addOnCount:0,tempId:(0,ta.A)(),id:0}])},ve=async(t,l)=>{t.preventDefault();const{id:d,packageCategoryId:c,foodPreferenceId:m,beveragePreferenceId:u,packageId:h,jainPreparation:x=0,platesCount:v}=p;if(Number(x)<=Number(p.platesCount))try{const t={id:d,basePricePerPlateOrPerson:le,packageCategoryId:c,beveragePreferenceId:u,foodPreferenceId:m,packageNameId:-1===h?0:h,jainCount:x||0,platesCount:v,guestDetailId:n.guestDetailId,inquiryInfoId:e.inquiryId,venueDetailId:e.venueId,inquirySlotId:e.slotId,inquiryFBPackageItemListDTO:f.filter((e=>{let{addOnCount:s}=e;return s>0})).map((e=>{let{beveragePackageItemId:s=0,venueFoodPackageItemId:a=0,addOnCount:t=0,id:l=0,addOnCost:n,count:i}=e,d={};s&&(d=ge.find((e=>e.beveragePackageItemId===s))||{}),a&&(d=Ae.find((e=>e.venueFoodPackageItemId===a))||{});const{amount:c=0}=d,r=te.find((e=>e.beveragePackageItemId===s))||{};return{id:l,venueBeveragePackageItemId:s,venueFoodPackageItemId:a,addOnCount:t,addOnCost:c,totalAddOnCost:c*t,count:r.count}})),addOnBottleCanListDTO:A.filter((e=>{let{addOnCount:s}=e;return s>0})).map((e=>{let{venueBeverageMenuItemId:s,beveragePackageItemId:a,addOnCount:t,id:l=0}=e;const{cost:n=0}=U.find((e=>a===e.beveragePackageItemId&&e.id===s))||{};return{id:l,venueBeverageMenuItemId:s,venueBeveragePackageItemId:a,addOnCount:t,costByItem:n,totalCost:n*t}}))};let r;r=l?await Ts.updateFoodBeveragePackage(t):await Ts.addFoodBeveragePackage(t),r.title===o.A.success&&(i(!1),l?(L(!1),ie()):s(a.pathname+"/"+r.detail,{replace:!0}))}catch(j){r.oR.error(j.message)}finally{G(!1)}};let je=C.filter((e=>{let{foodPreferenceId:s,beveragePreferenceId:a,venueFoodBeveragePackageStatusId:t,venueFoodBeveragePackageCategoryId:l}=e;return s==p.foodPreferenceId&&a==p.beveragePreferenceId&&l==p.packageCategoryId&&1===t})).map((e=>{let{venueFoodBeveragePackageName:s,venueFoodBeveragePackageId:a}=e;return{text:s,value:a}}));je.push({text:"Custom",value:-1});const pe=-1===p.packageId;let ge=O;p.beveragePreferenceId!==Q.O.beveragePreference.value.AlcoholicNonAlcoholic&&(ge=O.filter((e=>{let{beverageTypeId:s}=e;return s===p.beveragePreferenceId})));const{VegNonVeg:Ne,Veg:be,NonVeg:fe,Vegan:ye}=Q.O.FoodType.value,Ae=P.filter((e=>{let{foodPreferenceId:s}=e;switch(p.foodPreferenceId){case Ne:return[be,fe].includes(s);case be:return s===be;case fe:return s===fe;case ye:return s===ye;default:return!1}}));let Ie=[];ee&&(Ie=null===ee||void 0===ee?void 0:ee.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e})))),null!==ee&&void 0!==ee&&ee.includes(Q.O.FoodType.value.Veg)&&null!==ee&&void 0!==ee&&ee.includes(Q.O.FoodType.value.NonVeg)&&Ie.push({text:"Veg + Non-Veg",value:3}));const Ce=[Q.O.inquiryState.value.InquiryCancelled,Q.O.inquiryState.value.BookingCancelled,Q.O.inquiryState.value.InquiryDisposed,Q.O.inquiryState.value.BookingCompleted,Q.O.inquiryState.value.BookingConfirmed],{Pending:we,Approved:ke,Rejected:Se,Cancelled:De}=Q.O.bookingRequestStatus.value,Te=Ce.includes(n.inquiryStateId),Oe=(null===J||void 0===J?void 0:J.id)!==(null===n||void 0===n?void 0:n.leadOwnerId)&&(null===J||void 0===J?void 0:J.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"package-details-header-container",children:(0,x.jsxs)("div",{className:"title-header",children:[(0,x.jsx)("div",{className:"title",children:"Food & Beverage Package"}),(0,x.jsx)("div",{className:"line-diff"}),!Te&&![we,ke].includes(n.bookingStatusId)&&!Oe&&(0,x.jsxs)(x.Fragment,{children:[" ",(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{align:"start",children:[(0,x.jsx)(W.A.Toggle,{as:e=>(0,x.jsx)("div",{...e,role:"button",children:(0,x.jsxs)("span",{className:"fs-13-px txt-primary fw-bold user-select-none",children:["More Action",(0,x.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M4 6L8 10L12 6",stroke:"#7D63EC","stroke-linecap":"round","stroke-linejoin":"round"})})]})})}),(0,x.jsxs)(W.A.Menu,{className:"package-dropdown-list",children:[(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>j(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.z1,{}),"\xa0\xa0 View All Packages"]})}),(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>Z(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.Mo,{}),"\xa0\xa0 View Menu"]})}),e.packageId&&(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>h(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.RZ,{}),"\xa0\xa0 Delete Package"]})})]})]})}),(0,x.jsx)("div",{children:e.packageId?(0,x.jsx)(x.Fragment,{children:Y?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:()=>{L(!1),ie(),i(!1)},children:"Discard"}),(0,x.jsxs)("button",{disabled:N||z,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:e=>ve(e,!0),children:[z&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Update Package"]})]}):(0,x.jsx)("button",{disabled:N,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:()=>L(!0),children:"Modify Package"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:()=>s("/inquiry-bookings/inquiry-info/"+e.inquiryId),children:"Discard"}),(0,x.jsxs)("button",{disabled:N||z,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:e=>ve(e),children:[z&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Package"]})]})})]})]})}),D?(0,x.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsxs)("div",{className:"package-details-main-container ".concat(Y?"":"readonly-form"),children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(p.id?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Category*"}),(0,x.jsx)(oe.A,{isLoading:R,dataSource:F,placeholder:"Select category",onChange:he,value:p.packageCategoryId,name:"packageCategoryId",readonly:!Y||p.id})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 ".concat(p.id?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Food Preference*"}),(0,x.jsx)(oe.A,{dataSource:Ie,placeholder:"Select category",onChange:he,value:p.foodPreferenceId||"",name:"foodPreferenceId",readonly:!Y||p.id})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 text-truncate ".concat(p.id?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Beverage Preference*"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{dataSource:se,placeholder:"Select category",onChange:he,value:p.beveragePreferenceId||"",name:"beveragePreferenceId",readonly:!Y||p.id})})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4 text-truncate ".concat(p.id?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Package Name*"}),(0,x.jsx)("div",{className:"dropdown-wrapper",children:(0,x.jsx)(oe.A,{isLoading:k,dataSource:je,placeholder:"Select category",onChange:he,value:p.packageId||"",name:"packageId",readonly:!Y||p.id})})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-1 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0 text-truncate",children:"No. of Plate*"}),(0,x.jsx)(Rl,{count:p.platesCount,readOnly:!Y,countOnChange:e=>{const s={...p};s.platesCount=e,g(s),i(!0)},slotPaxCount:_})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-1 col-sm-6 mb-4 ",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0 text-truncate",children:"Jain Preparation"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{type:"number",className:"form-control input-one-line input-container",placeholder:"Enter Count",onChange:he,value:p.jainPreparation,name:"jainPreparation",readOnly:!Y}),Number(p.jainPreparation)>p.platesCount&&(0,x.jsxs)("span",{className:"txt-danger fs-13-px",children:["Should be less than ",p.platesCount]})]})]}),-1!==p.packageId&&p.packageId&&(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0 text-truncate",children:"Base Price per plate"}),(0,x.jsxs)("div",{className:"p-1 fw-bold input-container d-flex align-items-center",children:["\u20b9 ",le.toLocaleString("en-IN")]})]})]}),p.packageId&&(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsx)(ln,{isAlAndNonAl:p.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic,isVegNonVeg:p.foodPreferenceId===Q.O.FoodType.value.VegNonVeg,isCustom:pe,venueFoodBeveragePackageItemMapDTO:te,addOnCountList:f,setAddOnCountList:e=>{y(e),i(!0)},packageItemsList:ge,foodItemsList:Ae,editMode:Y})}),(Y||A.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0)&&(0,x.jsx)(dn,{setAddOnBottleCanList:e=>{I(e),i(!0)},addOnBottleCanList:A,beverageMenuList:U,packageItemsList:ge,isAlAndNonAl:p.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic,editMode:Y}),(0,x.jsxs)("div",{className:"package-summary-section mb-4",children:[(0,x.jsx)("span",{className:"summary-heading",children:"Package Billing Summary"}),(0,x.jsx)("span",{className:"section-line"})]}),-1!==p.packageId&&(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table mb-4",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"summary",children:[(0,x.jsx)("th",{children:"PACKAGE NAME"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"COST / QTY"}),(0,x.jsx)("th",{className:"text-end col-width-180px",children:"AMOUNT"})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[ne," - F&B Package ("," ",Q.O.beveragePreference.text[p.beveragePreferenceId],")"]}),(0,x.jsx)("td",{className:"text-end",children:p.platesCount}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9",le]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9"," ",(le*p.platesCount).toLocaleString("en-IN")]})]})})]})}),f.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0&&(0,x.jsx)(rn,{packageItemsList:ge,addOnCountList:f.filter((e=>{let{addOnCount:s}=e;return s>0})),isAlAndNonAl:p.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic,isVegNonVeg:p.foodPreferenceId===Q.O.FoodType.value.VegNonVeg,foodItemsList:Ae}),A.filter((e=>{let{addOnCount:s}=e;return s>0})).length>0&&(0,x.jsx)(on,{beverageMenuList:U,addOnBottleCanList:A.filter((e=>{let{addOnCount:s}=e;return s>0})),packageItemsList:ge,isAlAndNonAl:p.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)(mn,{addOnCountList:f.filter((e=>{let{addOnCount:s}=e;return s>0})),addOnBottleCanList:A.filter((e=>{let{addOnCount:s}=e;return s>0})),paxCount:p.platesCount,packageData:ae,formObject:p,packageItemsList:ge,beverageMenuList:U,foodItemsList:Ae})})]})]}),(0,x.jsx)(tn,{show:v,handleClose:()=>j(!1),foodPackageCategoryLoading:R,foodPackageCategoryList:F,foodTypeOptionList:Ie,beverageOptionList:se,packageList:C,okayClick:()=>j(!1),packageItemsList:O,foodItemsList:P,isAlAndNonAl:p.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic,isVegNonVeg:p.foodPreferenceId===Q.O.FoodType.value.VegNonVeg}),(0,x.jsx)(Fl,{show:d,handleClose:()=>h(!1),onConfirm:async()=>{try{const a={InquiryFoodBeverageId:e.packageId,InquiryInfoId:e.inquiryId};i(!0);(await Ts.deleteFoodBeveragePackageById(a)).title===o.A.success&&s("/inquiry-bookings/inquiry-info/"+e.inquiryId)}catch(a){r.oR.error(a.message)}}}),(0,x.jsx)(zl,{isBeverage:!0,isFood:!0,show:K,handleClose:()=>Z(!1),foodItemList:P,beverageItemList:O})]})},hn=a.p+"static/media/PageNotFound.4772daeba3d9b496ff52.png",xn=()=>(0,x.jsx)("div",{className:"bg-custom-white page-not-found",children:(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:hn,alt:"page not found"}),(0,x.jsx)("h2",{className:"mt-4 title",children:"Page Now Found"}),(0,x.jsx)("div",{className:"description mt-3",children:"The page you are looking for is no longer available."}),(0,x.jsx)(n.N_,{to:"/dashboard",className:"btn btn-primary mt-4 home-button",children:"Back to Home"})]})})}),vn=e=>{let{modifyAddress:s,setModifyAddress:a,addressData:l,getGuestData:n}=e;const i={guestAddress:"",guestCountryId:"",guestStateId:"",guestCityId:"",guestCountry:"",guestState:"",guestCity:"",guestZipCode:"",guestId:"",guestCode:""},[d,c]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[v,j]=(0,t.useState)([]),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)(i),[A,I]=(0,t.useState)({});(0,t.useEffect)((()=>{Object.keys(l).length?y({...l}):y(i)}),[l]),(0,t.useEffect)((()=>{C()}),[]),(0,t.useEffect)((()=>{f.guestCountryId&&w()}),[f.guestCountryId]),(0,t.useEffect)((()=>{f.guestStateId&&k()}),[f.guestStateId]);const C=async()=>{g(!0);try{const e=await je.A.getAllCountryList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&c(l.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{g(!1)}},w=async()=>{g(!0);try{const e=await je.A.getAllStateList(f.guestCountryId),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&h(l.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{g(!1)}},k=async()=>{g(!0);try{const e=await je.A.getAllCityList(f.guestStateId),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&j(l.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{g(!1)}},S=e=>{const{value:s,name:a}=e.target;let t={...f};t[a]=s,y(t)},D=()=>{y({...l}),I({})},T=async e=>{if(e.preventDefault(),(()=>{let{guestAddress:e,guestCountryId:s,guestStateId:a,guestCityId:t,guestZipCode:l}={...f},n={},i=!0;return 0===e.length?(n.guestAddress="Please enter address",i=!1):(0,pe.zv)(e)?10<=e.length&&e.length<=255||(n.guestAddress="Please enter at least 10 characters",i=!1):(n.guestAddress="Please enter valid address",i=!1),s?(0,pe.zv)(s)||(n.guestCountryId="Please enter valid country",i=!1):(n.guestCountryId="Please select country",i=!1),a?(0,pe.zv)(a)||(n.guestStateId="Please enter valid state",i=!1):(n.guestStateId="Please select state",i=!1),t?(0,pe.zv)(t)||(n.guestCityId="Please enter valid city",i=!1):(n.guestCityId="Please select city",i=!1),0===l.length?(n.guestZipCode="Please enter zip code",i=!1):(0,pe.b_)(l)||(n.guestZipCode="Please enter correct zip code",i=!1),I(n),i})()){b(!0);const e={guestId:f.guestId,guestAddress:f.guestAddress,guestCountryId:f.guestCountryId,guestStateId:f.guestStateId,guestCityId:f.guestCityId,guestZipCode:f.guestZipCode};try{const s=await ve.updateGuestAddress(e),{detail:t,message:l,title:i}=s;i===o.A.success&&(a(!1),n())}catch(s){r.oR.error(s.message)}finally{b(!1)}}};return(0,x.jsxs)(z.A,{className:"venue-info-offcanvas",show:s,onHide:a,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Address"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body h-100",children:(0,x.jsxs)("form",{onSubmit:T,children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(A.guestAddress&&"error"),children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Address *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"guestAddress",value:f.guestAddress,onChange:S}),A&&A.guestAddress&&(0,x.jsx)("div",{className:"input-error-text",children:A.guestAddress})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(A.guestCountryId&&"error"),children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Country *"}),(0,x.jsx)(oe.A,{onChange:S,value:f.guestCountryId,name:"guestCountryId",dataSource:d,placeholder:"Select Country"}),A&&A.guestCountryId&&(0,x.jsx)("div",{className:"input-error-text",children:A.guestCountryId})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(A.guestStateId&&"error"),children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"State *"}),(0,x.jsx)(oe.A,{onChange:S,value:f.guestStateId,name:"guestStateId",dataSource:u,placeholder:"Select State"}),A&&A.guestStateId&&(0,x.jsx)("div",{className:"input-error-text",children:A.guestStateId})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(A.guestCityId&&"error"),children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"City *"}),(0,x.jsx)(oe.A,{onChange:S,value:f.guestCityId,name:"guestCityId",dataSource:v,placeholder:"Select State",isLoading:p}),A&&A.guestCityId&&(0,x.jsx)("div",{className:"input-error-text",children:A.guestCityId})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(A.guestZipCode&&"error"),children:[(0,x.jsx)("label",{for:"",className:"form-label custom-form-label",children:"Zip Code *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:f.guestZipCode,name:"guestZipCode",onChange:S,maxLength:6,minLength:6}),A&&A.guestZipCode&&(0,x.jsx)("div",{className:"input-error-text",children:A.guestZipCode})]})})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex d-flex align-items-center justify-content-between w-100",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>D(),role:"button",children:"Reset"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>{a(!1),D()},role:"button",children:"Cancel"}),(0,x.jsxs)("button",{className:"btn btn-primary px-4",onClick:T,type:"submit",disabled:""===f.guestAddress||!f.guestCityId||!f.guestCountryId||!f.guestStateId||""===f.guestZipCode,children:[N&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Update"]})]})]})})]})})]})},jn=e=>{let{modifyCompanyInfo:s,setModifyCompanyInfo:a,companyData:l,getGuestData:n}=e;const i={sourceId:0,department:"",designation:"",companyAddress:"",companyCountryId:0,companyStateId:0,companyCityId:0,companyZipCode:"",companyName:"",guestId:"",guestCode:"",website:""},[d,c]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[v,j]=(0,t.useState)([]),[p,g]=(0,t.useState)(i),[N,b]=(0,t.useState)({}),[f,y]=(0,t.useState)(!1),[A,I]=(0,t.useState)(!1);(0,t.useEffect)((()=>{Object.keys(l).length?g(l):g(i)}),[l]),(0,t.useEffect)((()=>{C()}),[]),(0,t.useEffect)((()=>{p.companyCountryId&&w()}),[p.companyCountryId]),(0,t.useEffect)((()=>{p.companyStateId&&k()}),[p.companyStateId]);const C=async()=>{I(!0);try{const e=await je.A.getAllCountryList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&c(l.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{I(!1)}},w=async()=>{I(!0);try{const e=await je.A.getAllStateList(p.companyCountryId),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&h(l.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{I(!1)}},k=async()=>{I(!0);try{const e=await je.A.getAllCityList(p.companyStateId),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&j(l.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{I(!1)}},S=e=>{const{value:s,name:a}=e.target;let t={...p};t[a]=s,g(t)},D=async e=>{if(e.preventDefault(),(()=>{let{companyName:e,companyAddress:s,companyCountryId:a,companyStateId:t,companyCityId:l,companyZipCode:n}={...p},i={},d=!0;return 0===e.length?(i.companyName="Please enter company name",d=!1):e.length>=2&&e.length<=100&&(0,pe.zv)(e)||(i.companyName="Please enter valid company name",d=!1),0===s.length?(i.companyAddress="Please enter address",d=!1):(0,pe.zv)(s)?10<=s.length&&s.length<=255||(i.companyAddress="Please enter at least 10 characters",d=!1):(i.companyAddress="Please enter valid address",d=!1),a?(0,pe.zv)(a)||(i.companyCountryId="Please enter valid country",d=!1):(i.companyCountryId="Please select country",d=!1),t?(0,pe.zv)(t)||(i.companyStateId="Please enter valid state",d=!1):(i.companyStateId="Please select state",d=!1),l?(0,pe.zv)(l)||(i.companyCityId="Please enter valid city",d=!1):(i.companyCityId="Please select city",d=!1),0===n.length?(i.companyZipCode="Please enter zip code",d=!1):(0,pe.b_)(n)||(i.companyZipCode="Please enter correct zip code",d=!1),b(i),d})()){y(!0);const e={guestId:p.guestId,companyName:p.companyName,department:p.department,designation:p.designation,companyAddress:p.companyAddress,companyCountryId:p.companyCountryId,companyStateId:p.companyStateId,companyCityId:p.companyCityId,companyZipCode:p.companyZipCode,website:p.website,sourceId:1};try{const s=await ve.updateGuestCompany(e),{detail:t,message:l,title:i}=s;i===o.A.success&&(a(!1),n())}catch(s){r.oR.error(s.message)}finally{y(!1)}}};return(0,x.jsxs)(z.A,{className:"venue-info-offcanvas",show:s,onHide:a,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Company Info"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body h-100",children:(0,x.jsxs)("form",{onSubmit:D,children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.companyName&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Company Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"companyName",value:p.companyName,onChange:S}),N&&N.companyName&&(0,x.jsx)("div",{className:"input-error-text",children:N.companyName})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Website"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"website",value:p.website,onChange:S})]})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Department"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"department",value:p.department,onChange:S})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Designation"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"designation",value:p.designation,onChange:S})]})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.companyAddress&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Address *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"companyAddress",value:p.companyAddress,onChange:S}),N&&N.companyAddress&&(0,x.jsx)("div",{className:"input-error-text",children:N.companyAddress})]})})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.companyCountryId&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Country *"}),(0,x.jsx)(oe.A,{onChange:S,value:p.companyCountryId,name:"companyCountryId",dataSource:d,placeholder:"Select Country"}),N&&N.companyCountryId&&(0,x.jsx)("div",{className:"input-error-text",children:N.companyCountryId})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.companyStateId&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"State *"}),(0,x.jsx)(oe.A,{onChange:S,value:p.companyStateId,name:"companyStateId",dataSource:u,placeholder:"Select State",isLoading:A}),N&&N.companyStateId&&(0,x.jsx)("div",{className:"input-error-text",children:N.companyStateId})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.companyCityId&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"City *"}),(0,x.jsx)(oe.A,{onChange:S,value:p.companyCityId,name:"companyCityId",dataSource:v,placeholder:"Select City",isLoading:A}),N&&N.companyCityId&&(0,x.jsx)("div",{className:"input-error-text",children:N.companyCityId})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(N.companyZipCode&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Zip Code *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"companyZipCode",value:p.companyZipCode,onChange:S,maxLength:6,minLength:6}),N&&N.companyZipCode&&(0,x.jsx)("div",{className:"input-error-text",children:N.companyZipCode})]})})]})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex d-flex align-items-center justify-content-between w-100",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>{g({...l}),b({})},role:"button",children:"Reset"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>a(!1),role:"button",children:"Cancel"}),(0,x.jsxs)("button",{className:"btn btn-primary px-4","data-bs-dismiss":"offcanvas",onClick:D,type:"submit",disabled:""===p.companyName||""===p.companyAddress||!p.companyCityId||!p.companyCountryId||!p.companyStateId||""===p.companyZipCode,children:[f&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Update"]})]})]})})]})})]})},pn=e=>{let{modify:s,setModify:a,personalInfoData:l,getGuestData:n}=e;const i={guestCode:"",firstName:"",middleName:"",lastName:"",mobileNumber:"",alternateMobileNumber:"",emailAddress:"",alternateEmailAddress:"",title:Q.O.titles.text[1],countryCode:Q.O.countryCodes.text[1],sourceId:"",titleId:1,alternateMobileCountryCode:Q.O.countryCodes.text[1],mobileCountryCode:Q.O.countryCodes.text[1]},[d,c]=(0,t.useState)(i),[m,u]=(0,t.useState)({}),[h,v]=(0,t.useState)([]),[j,p]=(0,t.useState)("");(0,t.useEffect)((()=>{c(l),f()}),[]);const g=e=>{const{value:s,name:a}=e.target;let t={...d};t[a]=s,c(t)},N=()=>{c({...l}),u({})},b=async e=>{if(e.preventDefault(),(()=>{let{firstName:e,lastName:s,mobileNumber:a,emailAddress:t,title:l,alternateEmailAddress:n,sourceId:i,alternateMobileNumber:c}={...d},r={},o=!0;return 0===e.length?(r.firstName="Please enter your first name",o=!1):e.length>=1&&e.length<=50&&(0,pe.pW)(e)||(r.firstName="Please enter valid first name",o=!1),0===s.length?(r.lastName="Please enter your last name",o=!1):s.length>=1&&s.length<=50&&(0,pe.pW)(s)||(r.lastName="Please enter valid last name",o=!1),0===a.length?(r.mobileNumber="Please enter mobile number",o=!1):(0,pe.Up)(a)||(r.mobileNumber="Please enter a valid 10-digit mobile number",o=!1),c.length&&((0,pe.Up)(c)?c===a&&(r.alternateMobileNumber="Mobile and alternate mobile number cannot be same",o=!1):(r.alternateMobileNumber="Please enter a valid 10-digit mobile number",o=!1)),0===t.length?(r.emailAddress="Please enter email address",o=!1):(0,pe.DT)(t)||(r.emailAddress="Please enter a valid email address",o=!1),n.length>0&&((0,pe.DT)(n)?n===t&&(r.alternateEmailAddress="Email and alternate email address cannot be same",o=!1):(r.alternateEmailAddress="Please enter a valid email address",o=!1)),i||(r.sourceId="Please select source",o=!1),u(r),o})())try{const e={mobileNumber:d.mobileNumber,titleId:d.titleId,firstName:d.firstName,middleName:d.middleName,lastName:d.lastName,emailAddress:d.emailAddress,alternateMobileNumber:d.alternateMobileNumber||0,alternateEmailAddress:d.alternateEmailAddress,sourceId:d.sourceId,guestId:d.guestId,alternateMobileCountryCode:d.alternateMobileCountryCode,mobileCountryCode:d.mobileCountryCode},s=await ve.updateGuestPersonalInfo(e),{detail:t,message:l,title:i}=s;if(i===o.A.success)a(!1),n();else{const e={};t.includes("Mobile")&&(e.mobileNumber=t),t.includes("Email")&&(e.emailAddress=t),u(e)}}catch(s){r.oR.error(s.message)}},f=async()=>{try{const e=await je.A.getSourceList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&v(l.map((e=>({value:e.id,text:e.title}))))}catch(e){r.oR.error(e.message)}};return(0,x.jsxs)(z.A,{className:"venue-info-offcanvas",show:s,onHide:()=>a(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Personal Info"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body h-100",children:(0,x.jsxs)("form",{onSubmit:b,noValidate:!0,children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Customer ID"}),(0,x.jsx)("div",{className:"fb-fullname-badge",children:d.guestCode})]})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.titleId&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Title *"}),(0,x.jsx)(oe.A,{onChange:g,value:d.titleId,name:"titleId",dataSource:Q.O.titles.list,placeholder:"Select title"}),m&&m.titleId&&(0,x.jsx)("div",{className:"input-error-text",children:m.titleId})]})}),(0,x.jsx)("div",{className:"col-md-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.firstName&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"First Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:d.firstName,name:"firstName",onChange:g}),m&&m.firstName&&(0,x.jsx)("div",{className:"input-error-text",children:m.firstName})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Middle Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:d.middleName,name:"middleName",onChange:g})]}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.lastName&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:d.lastName,name:"lastName",onChange:g}),m&&m.lastName&&(0,x.jsx)("div",{className:"input-error-text",children:m.lastName})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Mobile Number *"}),(0,x.jsx)("div",{className:"col-md-3 mb-3",children:(0,x.jsx)(oe.A,{onChange:g,value:Q.O.countryCodes.value[d.countryCode],name:"mobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"Select"})}),(0,x.jsx)("div",{className:"col-md-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.mobileNumber&&"error"),children:[(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:d.mobileNumber,name:"mobileNumber",onChange:g,maxLength:10}),m&&m.mobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:m.mobileNumber})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Alternate Mobile Number"}),(0,x.jsx)("div",{className:"col-md-3 mb-3",children:(0,x.jsx)(oe.A,{onChange:g,value:Q.O.countryCodes.value[d.countryCode],name:"alternateMobileCountryCode",dataSource:Q.O.countryCodes.list,placeholder:"Select"})}),(0,x.jsx)("div",{className:"col-md-9 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.alternateMobileNumber&&"error"),children:[(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",value:d.alternateMobileNumber||"",name:"alternateMobileNumber",onChange:g,maxLength:10}),m&&m.alternateMobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:m.alternateMobileNumber})]})})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.emailAddress&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Email Address *"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",value:d.emailAddress,name:"emailAddress",onChange:g}),m&&m.emailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:m.emailAddress})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.alternateEmailAddress&&"error"),children:[(0,x.jsx)("label",{htmlFor:"",className:"form-label custom-form-label",children:"Alternate Email Address"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",value:d.alternateEmailAddress,name:"alternateEmailAddress",onChange:g}),m&&m.alternateEmailAddress&&(0,x.jsx)("div",{className:"input-error-text",children:m.alternateEmailAddress})]})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(m.sourceId?"error":""),children:[(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Source*"}),(0,x.jsx)(oe.A,{onChange:g,value:d.sourceId,name:"sourceId",dataSource:h,placeholder:"Select source"}),m.sourceId&&(0,x.jsx)("div",{className:"input-error-text",children:m.sourceId})]})})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsxs)("div",{className:"d-flex d-flex align-items-center justify-content-between w-100",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:N,role:"button",children:"Reset"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",onClick:()=>{N(),a(!s)},role:"button",children:"Cancel"}),(0,x.jsx)("button",{className:"btn btn-primary px-4",type:"submit",onClick:b,disabled:!d.titleId||""===d.firstName||""===d.lastName||""===d.mobileNumber||""===d.emailAddress||!d.sourceId,children:"Update"})]})]})})]})})]})},gn=e=>{let{setModifyAddress:s,permissions:a}=e;return(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsxs)("div",{className:"col-md-12 d-flex align-items-center justify-content-center",children:[(0,x.jsx)("div",{className:"address-map",children:(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"personal-address"})}),(0,x.jsxs)("div",{className:"address-sec",children:[(0,x.jsx)("h4",{className:"info-headings",children:"Personal Address"}),(null===a||void 0===a?void 0:a.canAdd)&&(0,x.jsxs)("p",{className:"address-text mb-0",children:[(0,x.jsx)("span",{className:"canvas-text",onClick:()=>s(!0),children:"Click here"})," ","to add the personal address"]})]})]})})},Nn=e=>{let{address:s}=e;return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"row custom-inputs mt-4",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Address"}),(0,x.jsx)("div",{className:"guest-value",children:s.guestAddress})]})})}),(0,x.jsxs)("div",{className:"row custom-inputs",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Country"}),(0,x.jsx)("div",{className:"guest-value",children:s.guestCountry})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"State "}),(0,x.jsx)("div",{className:"guest-value",children:s.guestState})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"City"}),(0,x.jsx)("div",{className:"guest-value",children:s.guestCity})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Zip Code"}),(0,x.jsx)("div",{className:"guest-value",children:s.guestZipCode})]})})]})]})},bn=e=>{let{personalInfo:s}=e;const{guestCode:a,title:t,firstName:l,middleName:n,lastName:i,customerSince:d,source:c,mobileNumber:r,alternateMobileNumber:o,countryCode:m,alternateEmailAddress:u,emailAddress:h}=s;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"row custom-inputs mt-4",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Cust ID"}),(0,x.jsx)("div",{className:"guest-value",children:a})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Full Name"}),(0,x.jsxs)("div",{className:"guest-value",title:t+". "+l+n+" "+ +i,children:[t,". ",l," ",n," ",i]})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Customer Since"}),(0,x.jsx)("div",{className:"guest-value",children:d})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Source"}),(0,x.jsx)("div",{className:"guest-value",children:c})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Mobile Number"}),(0,x.jsxs)("div",{className:"guest-value",children:[m," ",r]})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Alternate Mobile "}),(0,x.jsx)("div",{className:"guest-value",children:o?m+" "+o:"-"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Alternate Email"}),(0,x.jsx)("div",{className:"guest-value",title:u,children:u||"-"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Email Address"}),(0,x.jsx)("div",{className:"guest-value",title:h,children:h})]})})]})})},fn=e=>{let{companyInfo:s}=e;return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"row custom-inputs mt-4",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Company Name"}),(0,x.jsx)("div",{className:"guest-value",children:s.companyName})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Website"}),(0,x.jsx)("div",{className:"guest-value",children:s.website})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Designation"}),(0,x.jsx)("div",{className:"guest-value",children:s.designation})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Department"}),(0,x.jsx)("div",{className:"guest-value",children:s.department})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Country"}),(0,x.jsx)("div",{className:"guest-value",children:s.companyCountry})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"State"}),(0,x.jsx)("div",{className:"guest-value",children:s.companyState})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"City"}),(0,x.jsx)("div",{className:"guest-value",children:s.companyCity})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Zip Code"}),(0,x.jsx)("div",{className:"guest-value",children:s.companyZipCode})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"guest-info-wrapper",children:[(0,x.jsx)("div",{className:"guest-info-label",children:"Address"}),(0,x.jsx)("div",{className:"guest-value",children:s.companyAddress})]})})]})})},yn=e=>{let{setModifyCompanyInfo:s,permissions:a}=e;return(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsxs)("div",{className:"col-md-12 d-flex align-items-center justify-content-center gap-2",children:[(0,x.jsx)("div",{className:"address-map",children:(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"company-info"})}),(0,x.jsxs)("div",{className:"address-sec",children:[(0,x.jsx)("h4",{className:"info-headings",children:"Company Info"}),(null===a||void 0===a?void 0:a.canAdd)&&(0,x.jsxs)("p",{className:"address-text mb-0",children:[(0,x.jsx)("span",{className:"canvas-text",onClick:()=>s(!0),children:"Click here"})," ","to add the company details"]})]})]})})},An=e=>{let{notification:s}=e;return(0,x.jsxs)("div",{className:"guest-notification",children:[(0,x.jsx)("div",{className:"guest-notification-heading",children:s.title}),(0,x.jsxs)("div",{className:"notification-text",children:["Event: ",s.event_details.event," | Event ID: ",s.event_details.event_id]}),(0,x.jsx)("div",{className:"notification-text",children:s.event_details.event_date})]})},In=()=>{const{guestData:e,getGuestData:s,permissions:a}=(0,l.KC)(),[n,i]=(0,t.useState)({fullName:"",countryCode:"",mobileNumber:"",title:"",firstName:"",middleName:"",lastName:"",emailAddress:"",alternateMobileNumber:"",alternateEmailAddress:"",location:"",sourceID:"",source:"",customerSince:"",guestId:"",guestCode:""}),[d,c]=(0,t.useState)({department:"",designation:"",companyAddress:"",companyCountryID:"",companyStateID:"",companyCityID:"",companyCountry:"",companyState:"",companyCity:"",companyZipCode:"",companyName:"",website:""}),[r,o]=(0,t.useState)({guestAddress:"",guestCountryID:"",guestStateID:"",guestCityID:"",guestCountry:"",guestState:"",guestCity:"",guestZipCode:""}),[m,h]=(0,t.useState)(!1),[v,j]=(0,t.useState)(!1),[p,N]=(0,t.useState)(!1),[b,f]=(0,t.useState)(!1),[y,A]=(0,t.useState)([]);(0,t.useEffect)((()=>{const{guestDetailByIdDTO:s,companyInfoDTO:a,guestAddressOutDTO:t}=e;null!==s&&i(s),null!==a&&c(a),null!==t&&o(t)}),[e]);const I=e=>Object.entries(e).every((e=>{let[s,a]=e;return void 0===a||""===a})),C={fullName:n.fullName,countryCode:n.countryCode,mobileNumber:n.mobileNumber,title:n.title,firstName:n.firstName,middleName:n.middleName,lastName:n.lastName,emailAddress:n.emailAddress,alternateMobileNumber:n.alternateMobileNumber,alternateEmailAddress:n.alternateEmailAddress,alternateMobileCountryCode:n.countryCode,mobileCountryCode:n.countryCode,location:n.location,sourceId:n.sourceID,source:n.source,customerSince:n.customerSince,guestId:n.guestId,guestCode:n.guestCode,titleId:1},w={guestAddress:r.guestAddress,guestCountryId:r.guestCountryId,guestStateId:r.guestStateId,guestCityId:r.guestCityId,guestCountry:r.guestCountry,guestState:r.guestState,guestCity:r.guestCity,guestZipCode:r.guestZipCode},k={department:d.department,designation:d.designation,companyAddress:d.companyAddress,companyCountryId:d.companyCountryId,companyStateId:d.companyStateId,companyCityId:d.companyCityId,companyCountry:d.companyCountry,companyState:d.companyState,companyCity:d.companyCity,companyZipCode:d.companyZipCode,companyName:d.companyName,website:d.website};return(0,x.jsxs)("div",{className:"row h-100",children:[(0,x.jsx)("div",{className:"col-md-9",children:(0,x.jsx)("div",{className:"bg-custom-white h-100 guest-profile",children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("div",{className:"top-wrapper",children:[(0,x.jsx)("h6",{className:"guest-heading mb-0",children:"Personal Info"}),(0,x.jsx)("div",{className:"header-seperator"}),(null===a||void 0===a?void 0:a.canEdit)&&(0,x.jsx)("div",{className:"btns-wrapper",children:(0,x.jsxs)("button",{className:"btn btn-outline-primary px-2 py-1 btn-text fs-12-px ",onClick:()=>j(!0),children:[(0,x.jsx)(u.R2,{})," Modify"]})})]}),(0,x.jsx)(bn,{personalInfo:C})]}),(0,x.jsxs)("div",{className:"address-info mt-4",children:[(0,x.jsxs)("div",{className:"top-wrapper",children:[(0,x.jsx)("h6",{className:"guest-heading mb-0",children:"Address"}),(0,x.jsx)("div",{className:"header-seperator"}),(0,x.jsx)("div",{className:"btns-wrapper",children:I(w)?(null===a||void 0===a?void 0:a.canAdd)&&(0,x.jsxs)("button",{className:"btn btn-outline-primary px-2 py-1 btn-text fs-12-px d-inline-flex ",onClick:()=>N(!0),children:[(0,x.jsx)(u.FW,{color:"#7D63EC"})," Add"]}):(null===a||void 0===a?void 0:a.canEdit)&&(0,x.jsxs)("button",{className:"btn btn-outline-primary px-2 py-1 btn-text fs-12-px d-inline-flex",onClick:()=>N(!0),children:[(0,x.jsx)(u.R2,{})," Modify"]})})]}),I(w)?(0,x.jsx)(gn,{setModifyAddress:N,permissions:a}):(0,x.jsx)(Nn,{address:w})]}),(0,x.jsxs)("div",{className:"companyinfo mt-4",children:[(0,x.jsxs)("div",{className:"top-wrapper",children:[(0,x.jsx)("h6",{className:"guest-heading",children:"Company Info"}),(0,x.jsx)("div",{className:"header-seperator"}),(0,x.jsx)("div",{className:"btns-wrapper",children:I(k)?(null===a||void 0===a?void 0:a.canAdd)&&(0,x.jsxs)("button",{className:"btn btn-outline-primary px-2 py-1 btn-text fs-12-px d-inline-flex",onClick:()=>f(!0),children:[(0,x.jsx)(u.FW,{color:"#7D63EC"})," Add"]}):(null===a||void 0===a?void 0:a.canEdit)&&(0,x.jsxs)("button",{className:"btn btn-outline-primary px-2 py-1 btn-text fs-12-px d-inline-flex",onClick:()=>f(!0),children:[(0,x.jsx)(u.R2,{})," Modify"]})})]}),I(k)?(0,x.jsx)(yn,{setModifyCompanyInfo:f,permissions:a}):(0,x.jsx)(fn,{companyInfo:k})]})]})})}),(0,x.jsx)("div",{className:"col-md-3 ",children:(0,x.jsx)("div",{className:"bg-custom-white h-100",children:(0,x.jsxs)("div",{className:"guest-notification-group",children:[(0,x.jsx)("h6",{className:"title guest-notification-heading",children:"Notifications"}),(0,x.jsx)("div",{className:"guest-notification-wrapper ".concat(0===y.length&&"justify-content-center"),children:m?(0,x.jsx)(g.A,{}):y.length?(0,x.jsx)("div",{className:"guest-notification-container",children:y.map((e=>(0,x.jsx)(An,{notification:e},e.event_details.event_id)))}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("img",{src:Nl,alt:"notification"}),(0,x.jsx)("h5",{className:"guest-empty-notification",children:"No new notifications as of now"})]})})]})})}),v&&(0,x.jsx)(pn,{personalInfoData:C,modify:v,setModify:j,getGuestData:s}),p&&(0,x.jsx)(vn,{modifyAddress:p,setModifyAddress:N,addressData:{...w,guestId:n.guestId,guestCode:n.guestCode},getGuestData:s}),b&&(0,x.jsx)(jn,{modifyCompanyInfo:b,setModifyCompanyInfo:f,companyData:{...k,guestId:n.guestId,guestCode:n.guestCode},getGuestData:s})]})},Cn=()=>{const e=[{field:"eId",headerText:"E- ID",clipMode:"EllipsisWithTooltip",width:"100"},{field:"createdOn",headerText:"CREATED ON",type:"dateTime",format:"dd-MMM-yy",clipMode:"EllipsisWithTooltip",width:"150"},{field:"purpose",headerText:"PURPOSE",clipMode:"EllipsisWithTooltip",width:"150"},{field:"bookingDates",headerText:"BOOKING DATES",type:"dateTime",format:"dd-MMM-yy",clipMode:"EllipsisWithTooltip",width:"150",template:e=>e.isMultipleSlot?(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"me-2",children:(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"}),(0,x.jsx)(Wt,{props:e})]}):(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"},{field:"venue",headerText:"VENUE",clipMode:"EllipsisWithTooltip",width:"150"},{field:"pax",headerText:"PAX",clipMode:"EllipsisWithTooltip",width:"100"},{field:"estimatedRevenue",headerText:"EST REVENUE",clipMode:"EllipsisWithTooltip",width:"120",template:e=>{let{estimatedRevenue:s}=e;return"\u20b9"+s}},{field:"status",headerText:"STATUS",template:kn,clipMode:"EllipsisWithTooltip",width:"100"},{field:"leadOwner",headerText:"ASSIGNED TO",template:e=>(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:Ja,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:e.leadOwner})]}),clipMode:"EllipsisWithTooltip",width:"150"},{field:"priority",headerText:"PRIORITY",template:_t,clipMode:"EllipsisWithTooltip",width:"120"}],[s,a]=(0,t.useState)([]),[n,i]=(0,t.useState)([]),[d,c]=(0,t.useState)(!1),m=(0,l.Zp)(),u=(0,l.g)();(0,t.useEffect)((()=>{(async()=>{c(!0);try{let e=await Ts.getGuestInquiries(u.guestId),{data:s,detail:t}=e;(t=o.A.success)&&a(s)}catch(e){r.oR.error(e.message)}finally{c(!1)}})()}),[]);let h=s;return(0,x.jsx)("div",{className:"guest-data-container h-100  bg-custom-white",children:d?(0,x.jsx)(g.A,{}):(null===s||void 0===s?void 0:s.length)>0?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"custom-data-table pagination-table guest-inquiries-table inquiries-table",children:[(0,x.jsxs)(Se._,{dataSource:n,allowSorting:!0,enableHover:!0,rowSelected:e=>{m("/inquiry-bookings/inquiry-info/"+e.data.eId)},children:[(0,x.jsx)(De.r,{children:e.map((e=>(0,x.jsx)(De.e,{...e})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]}),(0,x.jsx)(Fe,{data:h,searchText:"",getPaginatedData:i},"guestInquiries")]})}):(0,x.jsx)(wn,{})})},wn=()=>(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-image",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Inquiries found!"}),(0,x.jsx)("p",{className:"description"})]})}),kn=e=>{let{statusId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),2===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Disposed"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),4===s&&(0,x.jsx)("span",{className:"active-text",children:"Completed"})]})},Sn=()=>{const e=[{field:"eId",headerText:"E- ID",clipMode:"EllipsisWithTooltip",width:"100"},{field:"createdOn",headerText:"CREATED ON",type:"dateTime",format:"dd-MMM-yy",clipMode:"EllipsisWithTooltip",width:"150"},{field:"purpose",headerText:"PURPOSE",clipMode:"EllipsisWithTooltip",width:"150"},{field:"bookingDates",headerText:"BOOKING DATES",type:"dateTime",format:"dd-MMM-yy",clipMode:"EllipsisWithTooltip",width:"150",template:e=>e.isMultipleSlot?(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"me-2",children:(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"}),(0,x.jsx)(Wt,{props:e})]}):(0,B.Yq)(e.bookingDates,"DD-MMM-YYYY")||"-"},{field:"venue",headerText:"VENUE",clipMode:"EllipsisWithTooltip",width:"150"},{field:"pax",headerText:"PAX",clipMode:"EllipsisWithTooltip",width:"100"},{field:"estimatedRevenue",headerText:"REVENUE",clipMode:"EllipsisWithTooltip",width:"120"},{field:"status",headerText:"STATUS",template:Tn,clipMode:"EllipsisWithTooltip",width:"100"},{field:"leadOwner",headerText:"ASSIGNED TO",template:e=>(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:Ja,alt:""}),(0,x.jsx)("span",{className:"ms-1",children:e.leadOwner})]}),clipMode:"EllipsisWithTooltip",width:"150"},{field:"priority",headerText:"PRIORITY",template:_t,clipMode:"EllipsisWithTooltip",width:"120"}],[s,a]=(0,t.useState)([]),[n,i]=(0,t.useState)([]),[d,c]=(0,t.useState)(!1),m=(0,l.Zp)(),u=(0,l.g)();(0,t.useEffect)((()=>{(async()=>{c(!0);try{let e=await Ts.getGuestBookings(u.guestId),{data:s,detail:t}=e;(t=o.A.success)&&a(s)}catch(e){r.oR.error(e.message)}finally{c(!1)}})()}),[]);let h=s;return(0,x.jsx)("div",{className:"guest-data-container h-100  bg-custom-white",children:d?(0,x.jsx)(g.A,{}):(null===s||void 0===s?void 0:s.length)>0?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"custom-data-table pagination-table guest-inquiries-table inquiries-table",children:[(0,x.jsxs)(Se._,{dataSource:n,allowSorting:!0,enableHover:!0,rowSelected:e=>{m("/inquiry-bookings/inquiry-info/"+e.data.eId)},children:[(0,x.jsx)(De.r,{children:e.map((e=>(0,x.jsx)(De.e,{...e})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]}),(0,x.jsx)(Fe,{data:h,searchText:"",getPaginatedData:i},"guestBookings")]})}):(0,x.jsx)(Dn,{})})},Dn=()=>(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-image",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Bookings found!"}),(0,x.jsx)("p",{className:"description"})]})}),Tn=e=>{let{statusId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),5===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Confirmed"}),8===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),7===s&&(0,x.jsx)("span",{className:"active-text",children:"Completed"})]})},On=e=>{let{show:s,handleClose:a,onSubmitClick:l}=e;const[n,i]=(0,t.useState)(""),[d,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{i(""),c(!1)}),[s]);return(0,x.jsx)(E.A,{show:s,className:"custom-modal",centered:!0,onHide:a,children:(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"Confirm"===n?(l(),a(),c(!1)):c(!0)},children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:(0,x.jsx)("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Confirm action"})})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:ne,alt:""}),(0,x.jsx)("h4",{className:"fw-bold mt-4",children:"Are you sure ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once you update mobile no. & email address, you will be logged out of the system and will have to re-verify both via otp to access your account."}),(0,x.jsxs)("p",{className:"mb-3 text-center type-text",children:["Type ",(0,x.jsx)("span",{className:"font-italic text-primary",children:'"Confirm"'})," to proceed"]}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control confirm-input ".concat(d?"error":""),placeholder:"Confirm",value:n,onChange:e=>{i(e.target.value),c(!1)}})})})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("span",{type:"button",className:"txt-primary px-3 fw-bold fs-13-px",onClick:a,children:"Discard"}),(0,x.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Submit"})]})]})})},qn=()=>{const{accountDetails:e,reload:s}=(0,l.KC)(),[a,n]=((0,l.Zp)(),(0,t.useState)(!1)),[i,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!0),[v,j]=(0,t.useState)({}),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)({firstName:"",middleName:"",lastName:"",mobileNumber:"",emailId:""});(0,t.useEffect)((()=>{A()}),[e]);const A=()=>{const{firstName:s,middleName:a,lastName:t,mobileNumber:l,emailId:n}=e;y({firstName:s||"",middleName:a||"",lastName:t||"",mobileNumber:l||0,emailId:n||0})},I=e=>{const{name:s,value:a}=e.target;y({...f,[s]:a})},C=()=>{let{firstName:e,lastName:s,mobileNumber:a,emailId:t}={...(0,B.QN)(f)},l={},n=!0;0===e.length?(l.firstName="Please enter first name",n=!1):e.length>=1&&e.length<=50&&(0,pe.pW)(e)||(l.firstName="Please enter valid first name",n=!1),0===s.length?(l.lastName="Please enter last name",n=!1):s.length>=1&&s.length<=50&&(0,pe.pW)(s)||(l.lastName="Please enter valid last name",n=!1);0===a.length?(l.mobileNumber="Please enter mobile number",n=!1):/^(0|91)?[6-9][0-9]{9}$/.test(a)||(l.mobileNumber="Please enter a valid 10-digit mobile number",n=!1);return 0===t.length?(l.emailId="Please enter email address",n=!1):/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)||(l.emailId="Please enter valid email address",n=!1),j(l),n},w=U("Account","Edit");return(0,x.jsxs)("div",{children:[(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C()&&!N&&g(!0)},className:"".concat(u?"readonly-form fs-15-px":"fs-14-px"),children:[(0,x.jsxs)("div",{className:"top-wrapper mb-4",children:[(0,x.jsx)("h6",{className:"title-three",children:"Personal Information"}),(0,x.jsx)("div",{className:"btns-wrapper",children:u?w&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{h(!1),j({}),n(!1),d({})},children:"Edit"}):(0,x.jsxs)("div",{className:"save-disc-btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{role:"button",className:"fw-bold txt-primary fs-13-px",onClick:()=>{A(),h(!0),j({}),n(!1),d({})},children:"Discard"}),(0,x.jsxs)("button",{type:"submit",className:"btn btn-primary btn-sm ms-4",children:[N&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save"]})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(v.firstName?"error":""),children:[(0,x.jsx)("label",{className:"form-label ",children:"First Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line font-w-medium",name:"firstName",value:f.firstName,onChange:I,readOnly:u}),v.firstName&&(0,x.jsx)("div",{className:"input-error-text",children:v.firstName})]})}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Middle Name"}),u?(0,x.jsx)("div",{className:"font-w-medium py-1",children:f.middleName||"-"}):(0,x.jsx)("input",{type:"text",className:"form-control input-one-line font-w-medium",name:"middleName",value:f.middleName,onChange:I,readOnly:u})]}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(v.lastName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line font-w-medium",name:"lastName",value:f.lastName,onChange:I,readOnly:u}),v.lastName&&(0,x.jsx)("div",{className:"input-error-text",children:v.lastName})]})}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Mobile Number *"}),u?(0,x.jsxs)("div",{className:"font-w-medium py-1",children:["+91 "," ",f.mobileNumber]}):(0,x.jsxs)("div",{className:"error-boundary ".concat(v.mobileNumber?"error":""),children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-4 pe-0",children:(0,x.jsx)(oe.A,{dataSource:Q.O.countryCodes.list,value:1})}),(0,x.jsx)("div",{className:"col-8 ps-0",children:(0,x.jsx)("input",{maxLength:10,type:"number",className:"form-control input-one-line font-w-medium",name:"mobileNumber",value:f.mobileNumber,onChange:I,readOnly:u})})]}),v.mobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:v.mobileNumber})]})]}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(v.emailId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Email ID *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line font-w-medium",name:"emailId",value:f.emailId,onChange:I,readOnly:u}),v.emailId&&(0,x.jsx)("div",{className:"input-error-text",children:v.emailId})]})}),a&&(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"py-2 px-3 error-container-already-exist",children:[(0,x.jsx)("span",{children:(0,x.jsx)("svg",{width:"23",height:"19",viewBox:"0 0 23 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M0.666016 19L11.666 0L22.666 19H0.666016ZM4.11602 17H19.216L11.666 4L4.11602 17ZM11.666 16C11.9493 16 12.187 15.904 12.379 15.712C12.5703 15.5207 12.666 15.2833 12.666 15C12.666 14.7167 12.5703 14.4793 12.379 14.288C12.187 14.096 11.9493 14 11.666 14C11.3827 14 11.1453 14.096 10.954 14.288C10.762 14.4793 10.666 14.7167 10.666 15C10.666 15.2833 10.762 15.5207 10.954 15.712C11.1453 15.904 11.3827 16 11.666 16ZM10.666 13H12.666V8H10.666V13Z",fill:"#EB5E5E"})})}),(0,x.jsx)("span",{className:"ms-2",children:i})]})})]})]}),(0,x.jsx)(On,{show:p,handleClose:()=>g(!1),onSubmitClick:async()=>{try{const{firstName:a,middleName:t,lastName:l,mobileNumber:i,emailId:r}=f,m={id:e.userId,firstName:a,middleName:t,lastName:l,mobileNumber:i,emailId:r};b(!0),n(!1),d("");const u=await c.updateInfo(m),{detail:x="",title:v}=u;v===o.A.success?(await s({mobileNumber:e.mobileNumber,emailId:e.emailId}),h(!0)):(null!==x&&void 0!==x&&x.includes("email")?j({mobileNumber:"This number already exists"}):null!==x&&void 0!==x&&x.includes("mobile")&&j({emailId:"This email id already exists"}),n(!0),d(x))}catch(a){r.oR.error(a.message)}finally{b(!1)}}})]})},Pn=()=>{var e,s,a,n;const{accountDetails:i,reload:d}=(0,l.KC)(),[h,v]=(0,t.useState)(!0),[j,p]=(0,t.useState)({}),[g,N]=(0,t.useState)({}),[b,f]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!1),[I,C]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,D]=(0,t.useState)([]),[T,O]=(0,t.useState)([]),[q,P]=(0,t.useState)([]),[F,E]=(0,t.useState)("");(0,t.useEffect)((()=>{L()}),[]),(0,t.useEffect)((()=>{R()}),[i]);const R=()=>{const{entityName:e,entityAddressLineOne:s,entityAddressLineTwo:a,entityCountryId:t,entityStateId:l,entityCityId:n,entityZipCode:d,entityCommunicationEmail:c,entityCountryName:r,entityStateName:o,entityCityName:m}=i;N({entityName:e||"",entityAddressLineOne:s||"",entityAddressLineTwo:a||"",entityCountryId:t||0,entityStateId:l||0,entityCityId:n||0,entityZipCode:d||"",entityCommunicationEmail:c||"",entityCountryName:r,entityStateName:o,entityCityName:m})};(0,t.useEffect)((()=>{g.entityCountryId&&V()}),[g.entityCountryId]),(0,t.useEffect)((()=>{g.entityStateId&&H()}),[g.entityStateId]);const M=e=>{const{name:s,value:a}=e.target;N({...g,[s]:a})},Y=()=>{let{entityName:e,entityAddressLineOne:s,entityAddressLineTwo:a,entityCountryId:t,entityStateId:l,entityCityId:n,entityZipCode:i,entityCommunicationEmail:d}={...(0,B.QN)(g)},c={},r=!0;const o=/^[a-zA-Z0-9\s\-_.,]+$/;return 0===e.length?(c.entityName="Please enter entity name",r=!1):o.test(e)||(c.entityName="Please enter valid entity name",r=!1),0===s.length?(c.entityAddressLineOne="Please enter address",r=!1):o.test(s)?10<=s.length&&s.length<=255||(c.entityAddressLineOne="Please enter at least 10 characters",r=!1):(c.entityAddressLineOne="Please enter valid address",r=!1),a.length>0&&(o.test(a)?10<=a.length&&a.length<=255||(c.entityAddressLineTwo="Please enter at least 10 Characters",r=!1):(c.entityAddressLineTwo="Please enter valid address",r=!1)),0===t?(c.entityCountryId="Please select country",r=!1):o.test(t)||(c.entityCountryId="Please enter valid country",r=!1),0===l?(c.entityStateId="Please select state",r=!1):o.test(l)||(c.entityStateId="Please enter valid state",r=!1),0===n?(c.entityCityId="Please select city",r=!1):o.test(n)||(c.entityCityId="Please enter valid city",r=!1),0===i.length?(c.entityZipCode="Please enter zip code",r=!1):(0,pe.b_)(i)||(c.entityZipCode="Please enter correct zip code",r=!1),0===d.length?(c.entityCommunicationEmail="Please enter email address ",r=!1):(0,pe.DT)(d)||(c.entityCommunicationEmail="Please enter valid email address",r=!1),p(c),r},L=async()=>{try{A(!0);const e=await je.A.getAllCountryList(),{title:s,data:a}=e;s===o.A.success&&D(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{A(!1)}},V=async()=>{try{C(!0);const e=await je.A.getAllStateList(g.entityCountryId),{title:s,data:a}=e;s===o.A.success&&O(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{C(!1)}},H=async()=>{try{k(!0);const e=await je.A.getAllCityList(g.entityStateId),{title:s,data:a}=e;s===o.A.success&&P(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{k(!1)}},Q=async()=>{try{const{entityName:e,entityAddressLineOne:s,entityAddressLineTwo:a,entityCountryId:t,entityStateId:l,entityCityId:n,entityZipCode:i,entityCommunicationEmail:r}=g,m={entityName:e,entityAddressLineOne:s,entityAddressLineTwo:a,entityCountryId:t,entityStateId:l,entityCityId:n,entityZipCode:i,entityCommunicationEmail:r};f(!0),E("");const u=await c.updateEntity(m),{detail:h,title:x}=u;x===o.A.success?(v(!0),d()):(h.includes("already exists")&&(E(h),p({entityAddressLineOne:" ",entityCountryId:" ",entityStateId:" ",entityCityId:" ",entityZipCode:" ",entityName:" "})),h.includes("Communication email already exists.")&&(E(""),p({entityCommunicationEmail:h})))}catch(e){r.oR.error(e.message)}finally{f(!1)}},W=U("Account","Edit");return(0,x.jsx)("div",{children:(0,x.jsxs)("form",{noValidate:!0,onSubmit:e=>{e.preventDefault(),Y()&&!b&&Q()},className:"".concat(h&&"readonly-form"),children:[(0,x.jsxs)("div",{className:"top-wrapper mb-4",children:[(0,x.jsx)("h6",{className:"title-three",children:"Entity Details"}),(0,x.jsx)("div",{className:"btns-wrapper",children:h?W&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>{v(!1)},children:"Edit"}):(0,x.jsxs)("div",{className:"save-disc-btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{role:"button",className:"fw-bold txt-primary fs-13-px",onClick:()=>{R(),v(!0),p({}),E("")},children:"Discard"}),(0,x.jsxs)("button",{type:"submit",className:"btn btn-primary btn-sm ms-4 d-flex align-items-center",children:[b&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save"]})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityName?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Entity Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line font-w-medium",name:"entityName",value:g.entityName,onChange:M,readOnly:h}),j.entityName&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityName})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityAddressLineOne?"error":""),children:[(0,x.jsx)("div",{className:"form-label",children:"Address Line 1 *"}),(0,x.jsx)("input",{className:"form-control input-one-line font-w-medium",type:"text",name:"entityAddressLineOne",value:g.entityAddressLineOne,onChange:M,readOnly:h}),j.entityAddressLineOne&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityAddressLineOne})]})}),(0,x.jsx)("div",{className:"col-md-12 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityAddressLineTwo?"error":""),children:[(0,x.jsx)("div",{className:"form-label",children:"Address Line 2"}),(0,x.jsx)("input",{className:"form-control input-one-line font-w-medium",type:"text",name:"entityAddressLineTwo",value:g.entityAddressLineTwo,onChange:M,readOnly:h}),j.entityAddressLineTwo&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityAddressLineTwo})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityCountryId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Country *"}),h?(0,x.jsx)("div",{className:"py-1 font-w-medium",children:g.entityCountryName}):(0,x.jsx)(oe.A,{onChange:M,value:g.entityCountryId,name:"entityCountryId",dataSource:S,readonly:h,placeholder:"Select Country"}),j.entityCountryId&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityCountryId})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityStateId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"State *"}),h?(0,x.jsx)("div",{className:"py-1 font-w-medium",children:g.entityStateName}):(0,x.jsx)(oe.A,{onChange:M,value:g.entityStateId,name:"entityStateId",dataSource:T,readonly:h,placeholder:"Select State"}),j.entityStateId&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityStateId})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityCityId?"error":""),children:[(0,x.jsx)("label",{className:"form-label",children:"City *"}),h?(0,x.jsx)("div",{className:"py-1 font-w-medium",children:g.entityCityName}):(0,x.jsx)(oe.A,{value:g.entityCityId,onChange:M,name:"entityCityId",dataSource:q,readonly:h,placeholder:"Select City"}),j.entityCityId&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityCityId})]})}),(0,x.jsx)("div",{className:"col-md-6 mb-3",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityZipCode?"error":""),children:[(0,x.jsx)("div",{className:"form-label",children:"Zip Code *"}),(0,x.jsx)("input",{className:"form-control input-one-line font-w-medium",type:"text",name:"entityZipCode",value:g.entityZipCode,onChange:M,readOnly:h,minLength:6,maxLength:6}),j.entityZipCode&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityZipCode})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(j.entityCommunicationEmail?"error":""),children:[(0,x.jsx)("div",{className:"form-label",children:"Communication Email Address *"}),h?(0,x.jsx)("div",{className:"py-1 font-w-medium",children:null!==i&&void 0!==i&&i.entityCommunicationEmail&&0===(null===i||void 0===i||null===(e=i.entityCommunicationEmail)||void 0===e||null===(s=e.trim())||void 0===s?void 0:s.length)?"-":g.entityCommunicationEmail}):(0,x.jsx)("input",{className:"form-control input-one-line font-w-medium",type:"email",name:"entityCommunicationEmail",value:g.entityCommunicationEmail,onChange:M,readOnly:h}),j.entityCommunicationEmail&&(0,x.jsx)("div",{className:"input-error-text",children:j.entityCommunicationEmail}),!(null!==i&&void 0!==i&&i.entityCommunicationEmail&&(null===i||void 0===i||null===(a=i.entityCommunicationEmail)||void 0===a||null===(n=a.trim())||void 0===n?void 0:n.length)>0)&&(0,x.jsxs)("div",{className:"communication-email mt-2",children:[(0,x.jsx)("div",{className:"icon",children:(0,x.jsx)(u.d0,{height:24,width:24,color:"#e5960a"})}),(0,x.jsx)("div",{className:"message",children:"Please enter Communication Email Address to access all feature."})]})]})}),(0,x.jsx)("div",{className:"col-md-12 mt-2",children:F.length>0&&(0,x.jsxs)("div",{className:"py-2 px-3 error-container-already-exist",children:[(0,x.jsx)("span",{children:(0,x.jsx)("svg",{width:"23",height:"19",viewBox:"0 0 23 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{d:"M0.666016 19L11.666 0L22.666 19H0.666016ZM4.11602 17H19.216L11.666 4L4.11602 17ZM11.666 16C11.9493 16 12.187 15.904 12.379 15.712C12.5703 15.5207 12.666 15.2833 12.666 15C12.666 14.7167 12.5703 14.4793 12.379 14.288C12.187 14.096 11.9493 14 11.666 14C11.3827 14 11.1453 14.096 10.954 14.288C10.762 14.4793 10.666 14.7167 10.666 15C10.666 15.2833 10.762 15.5207 10.954 15.712C11.1453 15.904 11.3827 16 11.666 16ZM10.666 13H12.666V8H10.666V13Z",fill:"#EB5E5E"})})}),(0,x.jsx)("span",{className:"ms-2",children:F})]})})]})]})})},Bn=()=>{const{accountDetails:e}=(0,l.KC)(),{gstNumber:s,companyName:a,addressLineOne:t,addressLineTwo:n,zipCode:i,countryName:d,stateName:c,cityName:r}=e;return(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white primary-information",children:(0,x.jsxs)("div",{className:"row h-100",children:[(0,x.jsx)("div",{className:"col-md-4 bolder-col-right mb-3",children:(0,x.jsxs)("div",{className:"information-card px-2",children:[(0,x.jsx)("h6",{className:"title-three mb-4",children:"Company Details"}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"GST Number"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:s||"-"})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Company Name"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:a||"-"})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Address Line 1"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:t||"-"})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Address Line 2"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:n||"-"})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Country"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:d||"-"})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"State"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:c||"-"})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"City"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:r||"-"})]}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Zip Code"}),(0,x.jsx)("div",{className:"py-1 font-w-medium",children:i||"-"})]})]})]})}),(0,x.jsx)("div",{className:"col-md-4 bolder-col-right mb-3",children:(0,x.jsx)("div",{className:"information-card px-2",children:(0,x.jsx)(Pn,{})})}),(0,x.jsx)("div",{className:"col-md-4 bolder-col-right mb-3",children:(0,x.jsx)("div",{className:"information-card px-2",children:(0,x.jsx)(qn,{})})})]})})},Fn=()=>(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white accounts-venue-details",children:(0,x.jsx)(l.sv,{})}),En=e=>{let{stroke:s,percentage:a,data:l}=e;const n=2*Math.PI*30,[i,d]=(0,t.useState)(0);(0,t.useEffect)((()=>{d(n-a/100*n)}),[a]);const[c,r]=(0,t.useState)(!1);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("svg",{width:"70",height:"70",children:[(0,x.jsx)("circle",{cx:"35",cy:"35",r:30,fill:"transparent",stroke:"#eceef1",strokeWidth:"10",strokeLinecap:"round",ransform:"rotate(-90 35 35)",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)}),(0,x.jsx)("circle",{cx:"35",cy:"35",r:30,fill:"transparent",stroke:s,strokeWidth:"10",strokeLinecap:"round",strokeDasharray:"".concat(n," ").concat(n),strokeDashoffset:i,transform:"rotate(-90 35 35)",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)})]}),(0,x.jsx)("div",{className:"".concat(Object.keys(l).length&&c?"d-flex flex-column ":"d-none"," p-1 shadow bg-white position-absolute rounded z-3 "),children:Object.keys(l).length?Object.keys(l).map((e=>(0,x.jsxs)("div",{className:"d-flex p-1 data-card",children:[(0,x.jsx)("div",{className:"me-2 text-nowrap key",children:e}),(0,x.jsx)("div",{className:"value",children:(0,x.jsx)("b",{children:l[e]})})]}))):""})]})},Rn=()=>{const[e,s]=(0,t.useState)([{id:0,subscriptionPackageId:0,subscriptionPackageName:"-",subscriptionTypeId:0,subscriptionTypeName:"-",userCount:0,totalActiveUserCount:0,venueCount:0,totalActiveVenueCount:0,startDate:"2024-04-08T09:03:27.044Z",expiryDate:"2024-04-08T09:03:27.044Z",subcriptionCurrentStartDate:"-",subcriptionCurrentEndDate:"-",subcriptionCurrentName:"-",duration:0,pricePerUser:0,totalAmount:0,modeofPaymentTypeId:0,modeofPaymentTypeName:"-",statusId:0,statusName:"-"}]),[a,l]=(0,t.useState)({}),[n,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)(!0);(0,t.useEffect)((()=>{m()}),[]);const m=async()=>{c(!0);try{const e=await jl.A.getSubscriptionDetails(),{detail:a,message:t,title:l,data:n}=e;l===o.A.success&&n.length&&(s(n),n.every((e=>e.statusId===Q.O.subscriptionPlanEnum.value.InActive))&&i(!1))}catch(e){r.oR.error(e.message)}finally{c(!1)}};return(0,x.jsx)("div",{className:"subscription-details-wrapper h-100 ",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 h-100",children:d?(0,x.jsx)(g.A,{}):(0,x.jsx)(x.Fragment,{children:Object.keys(a).length?(0,x.jsx)(Ge,{viewDetails:a,setViewDetails:l}):(0,x.jsxs)(x.Fragment,{children:[n?(0,x.jsx)("div",{className:"tab-wrapper",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-4 mb-4",children:(0,x.jsx)("div",{className:"card sub-card ",children:(0,x.jsxs)("div",{className:"plan-wrapper",children:[(0,x.jsxs)("h5",{className:"plan-heading-text",children:[(0,B.Yq)(e[0].startDate,"Do MMM YY")," ","-"," ",(0,B.Yq)(e[0].expiryDate,"Do MMM YY")]}),(0,x.jsxs)("p",{className:"plan",children:["Current :"," ",e[0].subscriptionPackageName," -"," ",e[0].subscriptionTypeName]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card sub-card mb-4",children:(0,x.jsxs)("div",{className:"user-wrapper ",children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("h5",{className:"plan-heading-text",children:[e[0].userCount," Users"]}),(0,x.jsx)("p",{className:"plan",children:"Active Users"})]}),(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,x.jsx)("div",{className:"me-5 ",children:(0,x.jsx)(En,{stroke:"#9B8EFF",percentage:Math.round(e[0].totalActiveUserCount/e[0].userCount*100),data:{"Active Users":e[0].totalActiveUserCount,"Total Users":e[0].userCount}})})})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card sub-card mb-4",children:(0,x.jsxs)("div",{className:"user-wrapper",children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("h5",{className:"plan-heading-text",children:[e[0].venueCount," Venues"]}),(0,x.jsx)("p",{className:"plan",children:"Active Venues"})]}),(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,x.jsx)("div",{className:"me-5",children:(0,x.jsx)(En,{stroke:"#FE709B",percentage:Math.round(e[0].totalActiveVenueCount/e[0].venueCount*100),data:{"Active Venues":e[0].totalActiveVenueCount,"Total Venues":e[0].venueCount}})})})]})})})]})}):(0,x.jsxs)("div",{className:"inactive-plan-warning mb-4 ",children:[(0,x.jsx)("h6",{className:"inactive-plan-heading",children:"Account Inactive"}),(0,x.jsxs)("div",{className:"d-flex align-items-center cursor-pointer inactive-plan-desc",children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("span",{className:"ms-2 white-space-nowrap",children:"Plan renewal pending"})]})]}),(0,x.jsx)(ps,{details:e,setViewDetails:l})]})})})})},Mn=e=>{let{editMode:s,onChange:a,genericTaxList:l=[],rowErrorId:n,permissions:i}=e;const[d,m]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),v=l.every((e=>{let{genericPercentage:s,genericTypeId:a}=e;return s&&a})),p=l.filter((e=>{let{isDeleted:s}=e;return!0!==s})),g=p.map((e=>e.genericTypeId));(0,t.useEffect)((()=>{N()}),[]);const N=async()=>{try{h(!0);const e=await c.getGenericTaxesType(),{title:s,data:a=[]}=e;s===o.A.success&&m(a.map((e=>{let{title:s,id:a}=e;return{value:a,text:s}})))}catch(e){r.oR.error(e.message)}finally{h(!1)}},b=(e,s)=>{const{value:t,name:n}=e.target;let i=[];l.forEach((e=>{e.tempId===s?i.push({...e,[n]:t}):i.push(e)})),a(i)};return(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"ps-4",children:"ITEM"}),(0,x.jsx)("th",{className:"text-start tax-col-width",children:"TAX %"}),(0,x.jsx)("th",{className:"delete-col"})]})}),s?(0,x.jsx)("tbody",{children:p.length>0?p.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"item-input-width",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(n.includes(e.tempId)?"invalid":""),onChange:s=>b(s,e.tempId),value:e.genericTypeId,name:"genericTypeId",dataSource:d.filter((s=>!g.filter((s=>s!==e.genericTypeId)).includes(s.value))),placeholder:"Select Tax Type"})})}),(0,x.jsx)("td",{className:"tax-col-width",children:(0,x.jsxs)("div",{className:"tax-input-field ".concat(n.includes(e.tempId)?"invalid":""),children:[(0,x.jsx)("input",{type:"number",className:"form-control form-control-sm me-1",placeholder:"Enter Tax",min:0,max:100,step:.01,disabled:!s,onChange:s=>b(s,e.tempId),value:e.genericPercentage,name:"genericPercentage"}),(0,x.jsx)("span",{className:"txt-grey",children:"%"})]})}),(0,x.jsx)("td",{className:"delete-col",children:(null===i||void 0===i?void 0:i.canDelete)&&(0,x.jsx)(x.Fragment,{children:1!==p.length||e.genericPercentage||e.genericTypeId?(0,x.jsx)("span",{role:"button",onClick:()=>((e,s)=>{let t=[];l.forEach((s=>{s.tempId===e?s.id&&t.push({...s,isDeleted:!0}):t.push(s)})),0===s&&l.filter((e=>{let{isDeleted:s}=e;return!0!==s})).length<=1&&t.push({tempId:(0,ta.A)(),id:0}),a(t)})(e.tempId,t),children:(0,x.jsx)(j.s8,{})}):(0,x.jsx)(j.w$,{})})})]},e.tempId))):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"4",children:"No records to display"})})}):(0,x.jsx)("tbody",{children:p.filter((e=>{let{genericTypeId:s,genericPercentage:a}=e;return s||a})).length>0?p.map(((e,s)=>{var a;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"text-start border-bottom ",children:e.genericTypeId&&(null===(a=d.find((s=>s.value===e.genericTypeId)))||void 0===a?void 0:a.text)}),(0,x.jsx)("td",{className:"tax-col-width",children:e.genericPercentage&&(0,x.jsxs)("span",{children:[e.genericPercentage,"%"]})}),(0,x.jsx)("td",{className:"delete-col"})]},s)})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"4",children:"No records to display"})})})]}),(null===i||void 0===i?void 0:i.canAdd)&&(0,x.jsx)(x.Fragment,{children:s&&(0,x.jsx)("span",{className:"".concat(v?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{v&&a([...l,{tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})},Yn=e=>{let{editMode:s,onChange:a,liquorTaxList:l=[],rowErrorId:n,permissions:i}=e;const[d,m]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),v=l.every((e=>{let{liquorPercentage:s,liquorTypeId:a}=e;return s&&a}));(0,t.useEffect)((()=>{p()}),[]);const p=async()=>{try{h(!0);const e=await c.GetLiquorTaxesType(),{title:s,data:a=[]}=e;s===o.A.success&&m(a.map((e=>{let{liquorTypeId:s,beveragePackageItemName:a,beverageDrinkItemId:t}=e;return{value:s+"-"+t,text:a}})))}catch(e){r.oR.error(e.message)}finally{h(!1)}},g=(e,s)=>{const{value:t,name:n}=e.target;let i=[];l.forEach((e=>{e.tempId===s?i.push({...e,[n]:t}):i.push(e)})),a(i)},N=l.filter((e=>{let{isDeleted:s}=e;return!0!==s})),b=N.map((e=>e.liquorTypeId));return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"top-wrapper mb-2",children:(0,x.jsx)("h5",{className:"mb-0 fw-bold",children:"Taxes - Liquor Type"})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"ps-4",children:"ITEM"}),(0,x.jsx)("th",{className:"text-start tax-col-width",children:"TAX %"}),(0,x.jsx)("th",{className:"delete-col"})]})}),s?(0,x.jsx)("tbody",{children:N.length>0?N.map(((e,t)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"item-input-width",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(n.includes(e.tempId)?"invalid":""),onChange:s=>g(s,e.tempId),value:e.liquorTypeId,name:"liquorTypeId",dataSource:d.filter((s=>!b.filter((s=>s!==e.liquorTypeId)).includes(s.value))),placeholder:"Select Tax Type"})})}),(0,x.jsx)("td",{className:"tax-col-width",children:(0,x.jsxs)("div",{className:"tax-input-field ".concat(n.includes(e.tempId)?"invalid":""),children:[(0,x.jsx)("input",{type:"number",className:"form-control form-control-sm me-1",placeholder:"Enter Tax",min:0,max:100,step:.01,disabled:!s,onChange:s=>g(s,e.tempId),value:e.liquorPercentage,name:"liquorPercentage"}),(0,x.jsx)("span",{className:"txt-grey",children:"%"})]})}),(0,x.jsx)("td",{className:"delete-col",children:(null===i||void 0===i?void 0:i.canDelete)&&(0,x.jsx)(x.Fragment,{children:1!==N.length||e.liquorPercentage||e.liquorTypeId?(0,x.jsx)("span",{role:"button",onClick:()=>((e,s)=>{let t=[];l.forEach((s=>{s.tempId===e?s.id&&t.push({...s,isDeleted:!0}):t.push(s)})),0===s&&l.filter((e=>{let{isDeleted:s}=e;return!0!==s})).length<=1&&t.push({tempId:(0,ta.A)(),id:0}),a(t)})(e.tempId,t),children:(0,x.jsx)(j.s8,{})}):(0,x.jsx)(j.w$,{})})})]},e.tempId))):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"4",children:"No records to display"})})}):(0,x.jsx)("tbody",{children:N.filter((e=>{let{liquorPercentage:s,liquorTypeId:a}=e;return s||a})).length>0?N.map(((e,a)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"text-start border-bottom ",children:(0,x.jsx)("span",{children:e.liquorTypeId?e.liquorTypeName:(0,x.jsx)("div",{className:"item-input-width",children:(0,x.jsx)(oe.A,{customCss:"bordered",placeholder:"Select Tax Type",dataSource:[],readonly:!0})})})}),(0,x.jsx)("td",{className:"tax-col-width",children:e.liquorTypeId?(0,x.jsxs)("span",{children:[e.liquorPercentage,"%"]}):(0,x.jsxs)("div",{className:"tax-input-field",children:[(0,x.jsx)("input",{type:"number",className:"form-control form-control-sm me-1",placeholder:"Enter Tax",disabled:!s}),(0,x.jsx)("span",{className:"txt-grey",children:"%"})]})}),(0,x.jsx)("td",{className:"delete-col",children:!e.liquorTypeId&&!e.liquorPercentage&&(0,x.jsx)(j.w$,{})})]},a))):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"4",children:"No records to display"})})})]}),(null===i||void 0===i?void 0:i.canAdd)&&(0,x.jsx)(x.Fragment,{children:s&&(0,x.jsx)("span",{className:"".concat(v?"txt-primary":"txt-secondary"," fw-bold ms-3 user-select-none"),role:"button",onClick:()=>{v&&a([...l,{tempId:(0,ta.A)(),id:0}])},children:"+ Add New"})})]})]})},Ln=e=>{let{show:s,handleClose:a,onSubmitClick:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action "})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ne,alt:""})}),(0,x.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Confirm Action ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center ",children:"Once confirmed, all active inquiries tax amount and percentage will be updated."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{size:"sm",variant:"primary",onClick:t,children:"Confirm"})})]})},Vn=e=>{let{taxesData:s,reload:a,setOperationAction:l,operationAction:n}=e;const[i,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[v,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{A();const{venueGenericTaxesDTO:e=[],venueLiquorTaxesDTO:a=[]}=s||{};(null===e||void 0===e?void 0:e.length)>0&&(null===a||void 0===a?void 0:a.length)>0&&y(!1)}),[s]),(0,t.useEffect)((()=>{let e=!0;i.forEach((s=>{let{genericTypeId:a,genericPercentage:t}=s;(a||t)&&(e=!1)})),u.forEach((s=>{let{liquorTypeId:a,liquorPercentage:t}=s;(a||t)&&(e=!1)})),y(e)}),[i,u]);const A=e=>{const{venueGenericTaxesDTO:a=[],venueLiquorTaxesDTO:t=[]}=s||{},n=t||[],i=0===(a||[]).filter((e=>{let{isDeleted:s}=e;return 1!=s})).length&&0===n.filter((e=>{let{isDeleted:s}=e;return 1!=s})).length;a.length>0?d(a.map((e=>({...e,tempId:(0,ta.A)()})))):d([{tempId:(0,ta.A)(),id:0}]),t.length>0?h(t.map((e=>({...e,liquorTypeId:e.liquorTypeId+"-"+e.beverageDrinkItemId,tempId:(0,ta.A)()})))):h([{tempId:(0,ta.A)(),id:0}]),i&&e&&l(Q.O.action.zero)},I=U("Account","Add"),C=U("Account","Edit"),w=U("Account","Delete");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"top-wrapper mb-2",children:[(0,x.jsx)("h5",{className:"mb-0 fw-bold",children:"Taxes - Generic"}),n===Q.O.action.edit?(0,x.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 fs-13-px",onClick:()=>{l(Q.O.action.read),A(!0)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34",onClick:()=>{(()=>{const e=[];let s=!0;return i.forEach((s=>{let{genericTypeId:a,genericPercentage:t,tempId:l}=s;(a&&!t||!a&&t)&&e.push(l)})),u.forEach((s=>{let{liquorTypeId:a,liquorPercentage:t,tempId:l}=s;(a&&!t||!a&&t)&&e.push(l)})),e.length?(b(e),s=!1):b([]),s})()&&g(!0)},disabled:f,children:[v&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):C&&(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:(0,x.jsx)("button",{className:"btn btn-outline-primary btn-sm btn-34",onClick:()=>l(Q.O.action.edit),children:"Edit Details"})})]}),(0,x.jsx)(Mn,{genericTaxList:i,onChange:e=>{d(e)},editMode:n===Q.O.action.edit,rowErrorId:N,permissions:{canAdd:I,canEdit:C,canDelete:w}}),(0,x.jsx)(Yn,{liquorTaxList:u,onChange:e=>{h(e)},editMode:n===Q.O.action.edit,rowErrorId:N,permissions:{canAdd:I,canEdit:C,canDelete:w}}),(0,x.jsx)(Ln,{show:p,handleClose:()=>g(!1),onSubmitClick:()=>{g(!1),(async(e,s)=>{try{j(!0);let t={venueGenericTaxesDTO:e.filter((e=>{let{genericTypeId:s,genericPercentage:a}=e;return s&&a})).map((e=>{let{genericTypeId:s,genericPercentage:a,isDeleted:t,id:l}=e;return{genericTypeId:s,genericPercentage:a,isDeleted:t,id:l}})),venueLiquorTaxesDTO:s.filter((e=>{let{liquorTypeId:s,liquorPercentage:a}=e;return s&&a})).map((e=>{let{liquorTypeId:s="",liquorPercentage:a,isDeleted:t,id:l}=e;const[n,i]=s.split("-");return{liquorTypeId:n,beverageDrinkItemId:i,liquorPercentage:a,isDeleted:t,id:l}}))};const n=await c.addTaxesList(t),{title:i}=n;i===o.A.success&&(l(Q.O.action.read),a())}catch(t){r.oR.error(t.message)}finally{j(!1)}})(i,u)}})]})},Un=a.p+"static/media/add-taxes-img.5bdca4eda2bc156fd8f2.png",Hn=()=>{const[e,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)([]),[n,i]=(0,t.useState)(Q.O.action.zero);(0,t.useEffect)((()=>{s(!0),d()}),[]);const d=async()=>{try{const e=await c.GetTaxesList(),{title:s,data:a={}}=e;if(s===o.A.success){const{venueGenericTaxesDTO:e=[],venueLiquorTaxesDTO:s=[]}=a,t=e.filter((e=>{let{isDeleted:s}=e;return!0!==s})).map((e=>({...e,genericPercentage:e.genericPercentage+""}))),n=s.filter((e=>{let{isDeleted:s}=e;return!0!==s})).map((e=>({...e,liquorPercentage:e.liquorPercentage+""})));t.length>0||n.length>0?i(Q.O.action.read):i(Q.O.action.zero),l({venueGenericTaxesDTO:t,venueLiquorTaxesDTO:n})}}catch(e){r.oR.error(e.message)}finally{s(!1)}};return(0,x.jsx)("div",{className:"tax-wrapper flex-grow-1 mx-4 bg-custom-white",children:e?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):Q.O.action.zero===n?(0,x.jsx)(Qn,{setOperationAction:i}):(0,x.jsx)(Vn,{setOperationAction:i,operationAction:n,taxesData:a,reload:d})})},Qn=e=>{let{setOperationAction:s}=e;const a=U("Account","Add");return(0,x.jsxs)("div",{className:"no-taxes-wrapper",children:[(0,x.jsx)("img",{height:150,width:150,src:Un,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Add Taxes"}),(0,x.jsx)("p",{className:"description",children:"Create tax for different items to add it in your billing summary during bookings."}),(0,x.jsx)("div",{className:"d-flex align-items-center mb-4",children:a&&(0,x.jsxs)("button",{className:"btn btn-primary px-3 add-btn btn-34",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})})]})},Wn=a.p+"static/media/create-doc-img.6d6562455d3db3dc8231.png",zn=e=>{let{setShowModal:s}=e;const a=U("Account","Add");return(0,x.jsxs)("div",{className:"add-doc-wrapper",children:[(0,x.jsx)("img",{src:Wn,alt:"design",className:"mb-2"}),(0,x.jsxs)("h3",{className:"page-heading",children:["Create Documents & Add Header Footer Images"," "]}),(0,x.jsx)("p",{className:"description",children:"Create different policies, terms and conditions and other contract documents to smooth out the booking process"}),(0,x.jsx)("div",{className:"d-flex align-items-center mb-4",children:a&&(0,x.jsxs)("button",{className:"btn btn-primary fw-bold fs-14 px-3 add-btn",onClick:e=>{s(!0)},children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})})]})};var Gn=a(4635),Kn=a(3934),Zn=a(5540);const Jn=e=>{let{showModal:s,setShowModal:a,setAdd:l,setDocumentType:n,documents:i}=e;const[d,c]=(0,t.useState)(""),r=["QuotationProposal","BillingSummary"],[o,m]=(0,t.useState)(""),u=e=>{c(e.target.value)};(0,t.useEffect)((()=>{if(1===i.length){const e=i.map((e=>e.documentType))[0];m(e),c(r.find((s=>s!==e)))}}),[]);return(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"create-new-modal custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{className:"new-doc-header",children:"Create New"})}),(0,x.jsx)(E.A.Body,{className:"",children:(0,x.jsxs)("div",{className:"modal-form",children:[(0,x.jsx)("div",{className:"modal-form-title",children:"Select the type of document you want to create"}),(0,x.jsx)(Gn.A,{className:"mt-3",children:(0,x.jsx)(Gn.A.Group,{as:Kn.A,children:(0,x.jsxs)(Zn.A,{children:[(0,x.jsx)(Gn.A.Check,{type:"radio",id:"Quotation / Proposal",label:"Quotation / Proposal",value:"QuotationProposal",checked:"QuotationProposal"===d,onChange:u,className:"mt-2 document-type",disabled:"QuotationProposal"===o}),(0,x.jsx)(Gn.A.Check,{type:"radio",id:"Booking Summary",label:"Booking Summary",value:"BillingSummary",checked:"BillingSummary"===d,onChange:u,className:"mt-2 document-type",disabled:"BillingSummary"===o})]})})})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)(R.A,{variant:"btn txt-primary fs-15-px fw-bold ",onClick:()=>a(!1),children:"Discard"}),(0,x.jsx)(R.A,{variant:"btn btn-primary custom-btn ",onClick:()=>{n(d),l(!0),a(!1)},disabled:!d,children:"Create"})]})]})},Xn=e=>{let{confirm:s,setConfirm:a,deleteDocument:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"create-new-modal custom-modal ",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Account action"})}),(0,x.jsx)(E.A.Body,{className:"text-center",children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper",children:[(0,x.jsx)("img",{src:M,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Delete Action ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once deleted the action cannot be reversed."})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)(R.A,{variant:"btn txt-primary fw-bold fs-15-px ",onClick:()=>a(!1),children:"Discard"}),(0,x.jsx)(R.A,{variant:"btn btn-danger custom-btn ",onClick:t,children:"Confirm"})]})]})},_n=e=>{let{title:s,getHeaderFooter:a,imgSrc:l,setHeaderFooter:n,getLoading:i,permissions:d}=e;const[m,u]=(0,t.useState)(""),[h,v]=(0,t.useState)(null),[p,g]=(0,t.useState)(!0),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a(s)}),[]),(0,t.useEffect)((()=>{u(l)}),[l]);const A=async(e,s)=>{b(!0);try{const a=new FormData;a.append("File",s);let t="Header"===e?await c.addHeader(a):await c.addFooter(a);const{detail:l,message:n,title:i}=t;i===o.A.success&&u(l)}catch(a){r.oR.error(a.message)}finally{b(!1)}};return(0,x.jsxs)("div",{className:"doc-image-uploader",children:[N||i?(0,x.jsx)("div",{className:"loader-container bg-custom-white mb-4  ",children:(0,x.jsx)("div",{className:"spinner-border",role:"status"})}):(0,x.jsxs)(x.Fragment,{children:[!m&&(0,x.jsxs)("div",{className:"upload-wrapper",children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{className:"txt-primary fw-bold ms-2 mt-5",children:"Upload Media"})]}),(0,x.jsx)("span",{className:"txt-semi-dark text-center",children:"JPEG/PNG. Maximum file size less than 2MB"}),(null===d||void 0===d?void 0:d.canAdd)&&(0,x.jsx)("input",{type:"file",onChange:e=>{const a=e.target.files[0];a&&a.size>2097152?alert("File size exceeds the maximum limit (2MB)"):"image/jpeg"===a.type||"image/png"===a.type?(A(s,a),v(a),g(!1)):alert("Please select a image file.")},accept:".png, .jpeg, .jpg"})]}),m&&(0,x.jsxs)("div",{className:"uploaded-file",children:[(0,x.jsx)("div",{className:"top-wrapper",children:(0,x.jsx)("img",{src:m,width:"100%",height:"80px",style:{marginTop:"20px"}})}),(0,x.jsxs)("div",{className:"bottom-wrapper d-flex align-items-center justify-content-between",children:[(0,x.jsxs)("h5",{className:"fw-bold mb-0 fs-18-px",children:[" ",s]}),(null===d||void 0===d?void 0:d.canDelete)&&(0,x.jsxs)("div",{className:"dropdown",children:[(0,x.jsx)("button",{className:"btn dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)(j.zu,{})}),(0,x.jsx)("ul",{className:"dropdown-menu",children:(0,x.jsx)("li",{className:"",children:(0,x.jsxs)("button",{className:"dropdown-item",onClick:()=>y(!0),children:[(0,x.jsx)(j.PT,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"Delete Document"})]})})})]})]})]})]}),(0,x.jsx)(Xn,{confirm:f,setConfirm:y,deleteDocument:()=>(async e=>{y(!1),b(!0);try{const s="Header"===e?await c.deleteHeader():await c.deleteFooter(),{detail:a,message:t,title:l}=s;l===o.A.success&&(u(""),n((s=>({...s,["Header"===e?"header":"footer"]:""}))))}catch(s){r.oR.error(s.message)}finally{b(!1)}})(s)})]})},$n=e=>{let{documents:s,setShowModal:a,setViewDocument:l,getDocuments:n,setDocEditMode:i,loading:d,childLoader:m,getHeaderFooter:u,data:h,setHeaderFooter:v}=e;const[p,N]=(0,t.useState)([]),[b,f]=(0,t.useState)(!1),[y,A]=(0,t.useState)(),I={QuotationProposal:"Quotation / Proposal",BillingSummary:"Booking Summary"};(0,t.useEffect)((()=>{N([...s])}),[s]);const C=U("Account","Add"),w=U("Account","Edit"),k=U("Account","Delete");return(0,x.jsxs)("div",{className:"",children:[(0,x.jsxs)("div",{className:"top-wrapper mb-4",children:[(0,x.jsx)("h4",{className:"mb-0 fw-bold fs-18-px",children:"Terms & Conditions"}),C&&p.length<2&&(0,x.jsx)("button",{className:"btn btn-primary fw-bolder fs-13-px ",onClick:e=>a(!0),children:"Add New"})]}),(0,x.jsx)("div",{className:"documents-wrapper mb-4",children:(0,x.jsx)("div",{className:"row gap-4 ",children:d?(0,x.jsx)(g.A,{}):p.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"document-card-wrapper",children:[(0,x.jsxs)("div",{className:"doc-top-wrapper",children:[(0,x.jsx)("h5",{className:"fw-bold fs-14",children:I[e.documentType]}),(0,x.jsx)("div",{className:"bind-text-nav",children:(new DOMParser).parseFromString(e.documentText,"text/html").documentElement.textContent})]}),(0,x.jsxs)("div",{className:"doc-bottom-wrapper",children:[(0,x.jsxs)("div",{className:"left-wrapper",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,x.jsx)(j.py,{}),(0,x.jsx)("div",{className:"txt-dark text ms-2",children:I[e.documentType]})]}),(0,x.jsx)("div",{className:"date-wrapper",children:(0,B.Yq)(e.lastModifiedOn,"DD MMM, YYYY")})]}),(0,x.jsx)("div",{className:"right-wrapper",children:(0,x.jsxs)("div",{className:"dropdown",children:[(0,x.jsx)("button",{className:"btn dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,x.jsx)(j.zu,{})}),(0,x.jsxs)("ul",{className:"dropdown-menu",children:[(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsxs)("button",{className:"dropdown-item",onClick:()=>{l(e),i(!1)},children:[(0,x.jsx)(j.To,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"View Document"})]})}),w&&(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsxs)("button",{className:"dropdown-item",onClick:()=>{(e=>{l(e),i(!1)})(e),i(!0)},children:[(0,x.jsx)(j.GN,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"Edit Document"})]})}),k&&(0,x.jsx)("li",{className:"mb-1",children:(0,x.jsxs)("button",{className:"dropdown-item",onClick:()=>{return s=e.documentType,f(!0),void A(s);var s},children:[(0,x.jsx)(j.PT,{}),(0,x.jsx)("span",{className:"fw-bold ms-2",children:"Delete Document"})]})})]})]})})]})]})},s)))})}),(0,x.jsx)("div",{className:"top-wrapper mb-4",children:(0,x.jsx)("h4",{className:"mb-0 fw-bold fs-18-px",children:"Header & Footer"})}),(0,x.jsx)("div",{className:"header-footer-wrapper",children:(0,x.jsxs)("div",{className:"row gap-4",children:[(0,x.jsx)("div",{className:"col-md-5 mb-4",children:(0,x.jsxs)("div",{className:"doc-upload-wrapper",children:[(0,x.jsx)("div",{className:"title txt-primary fw-bold",children:"Header"}),(0,x.jsx)("div",{children:(0,x.jsx)(_n,{title:"Header",setHeaderFooter:v,imgSrc:h.header,getHeaderFooter:u,getLoading:m,permissions:{canAdd:C,canEdit:w,canDelete:k}})})]})}),(0,x.jsx)("div",{className:"col-md-5 mb-4",children:(0,x.jsxs)("div",{className:"doc-upload-wrapper",children:[(0,x.jsx)("div",{className:"title txt-primary fw-bold",children:"Footer"}),(0,x.jsx)("div",{children:(0,x.jsx)(_n,{title:"Footer",setHeaderFooter:v,imgSrc:h.footer,getHeaderFooter:u,getLoading:m,permissions:{canAdd:C,canEdit:w,canDelete:k}})})]})})]})}),(0,x.jsx)(Xn,{confirm:b,setConfirm:f,deleteDocument:()=>(async()=>{f(!1);const e=y;try{let s;s="QuotationProposal"===e?await c.deleteQuotation():await c.deleteBookingSummary();const{title:a}=s;a===o.A.success&&n()}catch(s){r.oR.error(s.message)}})()})]})};var ei=a(3261),si=a(502),ai=a(5126),ti=a(5655),li=a(9419),ni=a(8254);const ii=e=>{let{showConfirm:s,setShowConfirm:a,confirmSave:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"create-new-modal custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{className:"text-center",children:(0,x.jsxs)("div",{className:"inactive-account-modal-wrapper",children:[(0,x.jsx)("img",{src:ne,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Confirm Action ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once confirmed, the action cannot be reversed."})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)(R.A,{variant:"btn txt-primary fw-bold px-3",onClick:()=>a(!1),children:"Discard"}),(0,x.jsx)(R.A,{variant:"btn btn-primary fw-bold px-3",onClick:t,children:"Confirm"})]})]})};var di=a(7359),ci=a.n(di);const ri=e=>{let{setAdd:s,documentType:a,setDocumentType:l,viewDocument:n,setViewDocument:i,getDocuments:d,docEditMode:u}=e;const[h,v]=(0,t.useState)(!1),[j,p]=(0,t.useState)({documentText:""}),[g,N]=(0,t.useState)(!1),b=(0,t.useRef)(null),[f,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{Object.keys(n).length?p({...n}):p({...j,documentType:a}),v(u)}),[]),(0,t.useEffect)((()=>{""!==a&&v(!0)}),[a]),(0,t.useEffect)((()=>{h&&b.current.focusIn()}),[h]);const A=()=>{s(!1),i({})},C=async()=>{let e="";e=Object.keys(n).length?"QuotationProposal"===n.documentType?"quotationText":"billingSummaryText":"QuotationProposal"===a?"quotationText":"billingSummaryText",y(!0);const t={[e]:j.documentText};try{let a;a="quotationText"===e?await c.addQuotation(t):await c.addBookingSummary(t);const{detail:n,message:r,title:m}=a;m===o.A.success&&(N(!1),s(!1),i({}),l(""),d())}catch(m){r.oR.error(m.message)}finally{y(!1)}},w=(U("Account","Add"),U("Account","Edit"));return(0,x.jsxs)("div",{className:"h-100",children:[(0,x.jsxs)("div",{className:"top-wrapper mb-3",children:[(0,x.jsx)("h5",{className:"fw-bold",children:{QuotationProposal:"Quotation / Proposal",BillingSummary:"Booking Summary"}[j.documentType]}),h?(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bolder fs-13-px me-3 cursor-pointer",onClick:A,children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary fw-bolder fs-13-px ",onClick:()=>{Object.keys(n).length?N(!0):C()},children:[f&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 cursor-pointer",onClick:A,children:"Back"}),w&&(0,x.jsx)("button",{className:"btn btn-primary fw-bolder fs-13-px",onClick:()=>{v(!0)},children:"Edit Details"})]})]}),h?(0,x.jsx)(ei.q,{height:450,toolbarSettings:{items:["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","|","CreateLink","Image","|","ClearFormat","Print","SourceCode","FullScreen","|","Undo","Redo"],type:"Expand"},quickToolbarSettings:{image:["Replace","Align","Caption","Remove","InsertLink","OpenImageLink","-","EditImageLink","RemoveImageLink","Display","AltText","Dimension"],link:["Open","Edit","UnLink"]},fontFamily:{items:[{text:"Segoe UI",value:"Segoe UI"},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"Courier New,Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Calibri Light",value:"CalibriLight"},{text:"Lato",value:"Lato"}],width:"60px",default:"Lato"},value:j.documentText,change:e=>p({...j,documentText:e.value}),ref:b,children:(0,x.jsx)(I.y_,{services:[si.M,ai._,ti.N,li.D,ni.v]})}):(0,x.jsx)("div",{className:"doc-content",children:(0,x.jsx)("div",{dangerouslySetInnerHTML:{__html:ci().sanitize(j.documentText)}})}),(0,x.jsx)(ii,{setShowConfirm:N,showConfirm:g,confirmSave:()=>C()})]})},oi=()=>{const[e,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)({}),[d,m]=(0,t.useState)(!0),[u,h]=(0,t.useState)([]),[v,j]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),[f,y]=(0,t.useState)({header:"",footer:""});(0,t.useEffect)((()=>{A()}),[]);const A=async()=>{g(!0);try{const e=await c.getDocuments(),{title:s,data:a}=e;s===o.A.success&&h(a)}catch(e){r.oR.error(e.message)}finally{g(!1)}};return(0,x.jsxs)("div",{className:"documents-wrapper",children:[(0,x.jsx)("div",{className:"flex-grow-1 mx-4 h-100 bg-custom-white overflow-y-auto",children:0!==u.length||""!==f.header||""!==f.footer||p||e?e||Object.keys(n).length?(0,x.jsx)(ri,{setAdd:s,documentType:v,setDocumentType:j,viewDocument:n,setViewDocument:i,getDocuments:()=>A(),docEditMode:d,setDocEditMode:m}):(0,x.jsx)($n,{documents:u,setShowModal:l,setViewDocument:i,getDocuments:()=>A(),setDocEditMode:m,loading:p,childLoader:N,getHeaderFooter:async e=>{b(!0);try{const s="Header"===e?await c.getHeader():await c.getFooter(),{detail:a,message:t,title:l,data:n}=s;l===o.A.success&&y((s=>({...s,["Header"===e?"header":"footer"]:n})))}catch(s){r.oR.error(s.message)}finally{b(!1)}},data:f,setHeaderFooter:y}):(0,x.jsx)(zn,{showModal:a,setShowModal:l})}),a&&(0,x.jsx)(Jn,{showModal:a,setShowModal:l,setAdd:s,setDocumentType:j,documents:u})]})};var mi=a(7855);const ui=e=>{let{show:s,handleClose:a,onDiscardClick:t,onSubmitClick:l}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ne,alt:""})}),(0,x.jsx)("h4",{style:{fontSize:"20px"},className:"fw-bold text-center mb-4",children:"Are you sure ?"}),(0,x.jsx)("p",{className:"description mb-4 text-center ",children:"Once you make a venue inactive you wont be able to take any new inquiries for this venue, until its active again"})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 fs-13-px btn-34",role:"button",onClick:t,children:"Discard"}),(0,x.jsx)(R.A,{className:"btn-34",variant:"primary",onClick:l,children:"Confirm"})]})]})},hi=e=>{let{show:s,handleClose:a,onConfirmClick:l,onDiscardClick:n}=e;const[i,d]=(0,t.useState)(""),[c,r]=(0,t.useState)(!1);(0,t.useEffect)((()=>{d(""),r(!1)}),[s]);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{className:"text-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:ne,alt:""}),(0,x.jsx)("h4",{className:"fw-bold",children:"Are you sure ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center",children:"Once you update mobile no. & email address, you will be logged out of the system and will have to re-verify both via otp to access your account."}),(0,x.jsxs)("p",{className:"mb-3 text-center type-text",children:["Type"," ",(0,x.jsx)("span",{className:"font-italic txt-danger",children:'"Delete" \xa0'})," to proceed"]}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control delete-input ".concat(c?"error":""),placeholder:"Delete",value:i,onChange:e=>{d(e.target.value),r(!1)}})})})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-1 btn-34",role:"button",onClick:n,children:"Discard"}),(0,x.jsx)(R.A,{variant:"primary btn-sm btn-34",onClick:e=>{e.preventDefault(),"Delete"===i?(l(),a(),r(!1)):r(!0)},children:"Confirm"})]})]})})},xi=e=>{let{data:s,reloadData:a,permissions:n}=e;const i=(0,l.Zp)(),d=e=>{let{venueStatusId:s,id:l}=e;const[i,d]=(0,t.useState)(!1),[m,u]=(0,t.useState)(!1),h=async e=>{try{let s={venueDetailId:l,venueStatusId:e};const t=await c.updateStatus(s),{title:n}=t;n===o.A.success&&a()}catch(s){r.oR.error(s.message)}};return(0,x.jsxs)(x.Fragment,{children:[s!==Q.O.venueStatus.value.Deleted&&(0,x.jsx)(ut,{select:e=>{const{id:s}=e.item.properties;"active"===s&&h(Q.O.venueStatus.value.Active),"inActive"===s&&d(!0),"delete"===s&&u(!0)},cssClass:"e-caret-hide e-round-corner",items:Q.O.venueStatus.value.Active===s?[(null===n||void 0===n?void 0:n.canInActive)&&{id:"inActive",text:"Mark as Inactive",iconCss:"css-in-active-icon"},(null===n||void 0===n?void 0:n.canDelete)&&{id:"delete",text:"Delete Venue",iconCss:"css-delete-icon"}]:[(null===n||void 0===n?void 0:n.canActive)&&{id:"active",text:"Mark as Active",iconCss:"css-in-active-icon"},(null===n||void 0===n?void 0:n.canDelete)&&{text:"Delete",id:"delete",iconCss:"css-delete-icon"}]}),(0,x.jsx)(ui,{show:i,onDiscardClick:()=>d(!1),onSubmitClick:()=>{h(Q.O.venueStatus.value.InActive),d(!1)},handleClose:()=>d(!1)}),(0,x.jsx)(hi,{handleClose:()=>u(!1),show:m,onDiscardClick:()=>u(!1),onConfirmClick:()=>{h(Q.O.venueStatus.value.Deleted),u(!1)}})]})},[m]=(0,t.useState)([{field:"venueName",headerText:"VENUE NAME",width:"150",template:vi},{field:"venueType",headerText:"VENUE TYPE",template:ji,width:"200"},{field:"venueCategoryIds",headerText:"VENUE CATEGORY",template:pi,width:"150"},{field:"bookingTypeId",headerText:"BOOKING TYPE",template:gi,width:"150"},{field:"foodPreferenceIds",headerText:"FOOD PREFERENCE",template:Ni,width:"200"},{field:"capacity",headerText:"CAPACITY",width:"150",template:bi},{field:"area",headerText:"AREA",width:"150",template:fi},{field:"venueStatusId",headerText:"STATUS",template:yi,width:"100"},{field:"",headerText:"",template:e=>(0,x.jsx)("div",{className:"e-unselectable",children:(0,x.jsx)(d,{...e,reloadData:a})}),width:"70"}]);return(0,x.jsx)("div",{className:"custom-data-table sub-plan-table h-100 mt-4",children:(0,x.jsxs)(Se._,{loadingIndicator:{indicatorType:"Spinner"},textWrapSettings:!0,width:"100%",dataSource:s,rowSelected:e=>{if(!e.target.closest(".e-unselectable")){const s=e.data;i(s.id+"")}},enableHover:!0,children:[(0,x.jsx)(De.r,{children:m.map(((e,s)=>(0,x.jsx)(De.e,{...e},s)))}),(0,x.jsx)(I.y_,{services:[mi.L]})]})})},vi=e=>{let{venueName:s}=e;return(0,x.jsx)("div",{className:"text-truncate",title:s,children:s})},ji=e=>{let{venueTypeMapDTO:s}=e;return s?(0,x.jsx)("div",{title:null===s||void 0===s?void 0:s.map((e=>{let{title:s}=e;return s})).join(","),className:"text-truncate",children:null===s||void 0===s?void 0:s.map((e=>{let{title:s}=e;return s})).join(",")}):"-"},pi=e=>{let{venueCategoryIds:s}=e;return s.split(",").map((e=>Q.O.venueCategory.text[e])).join(",")},gi=e=>{let{bookingTypeId:s}=e;return(0,x.jsx)("span",{children:Q.O.bookingType.text[s]})},Ni=e=>{let{bookingTypeId:s,foodPreferenceIds:a}=e;return Q.O.bookingType.value.VenueRentals===s?"-":a.split(",").map((e=>Q.O.FoodType.text[e])).join(",")},bi=e=>{let{capacity:s}=e;return s+"  pax"},fi=e=>{let{area:s}=e;return s+"  sqft"},yi=e=>{let{venueStatusId:s}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),2===s&&(0,x.jsx)("span",{className:"inactive-text",children:"InActive"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Deleted"})]})},Ai=e=>{let{show:s,handleClose:a,onOkayClick:t}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Information Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ja,alt:""})}),(0,x.jsx)("h4",{style:{fontSize:"20px"},className:"fw-bold text-center mb-4",children:"Limit Exhausted"}),(0,x.jsx)("p",{className:"description mb-4 text-center ",children:"You have reached maximum limit to add venues. Please reach out to Boozno Support."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{className:"btn-34",variant:"primary",onClick:t,children:"Okay"})})]})},Ii=()=>{const e=(0,l.Zp)(),[s,a]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1);(0,t.useEffect)((()=>{i(!0),h()}),[]);const h=async()=>{try{const e=await c.getVenueListing(),{title:s,data:t}=e;s===o.A.success&&a(t)}catch(e){r.oR.error(e.message)}finally{i(!1)}},v=U("Account","Add"),p=U("Account","Active"),g=U("Account","InActive"),N=U("Account","Delete");return(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsx)(x.Fragment,{children:s.length>0?(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"title-wrapper",children:[(0,x.jsx)("h4",{children:"Venues"}),v&&(0,x.jsxs)("button",{className:"btn btn-primary px-3 btn-34 add-btn",onClick:()=>{const{isLimitExhausted:a=!1}=(null===s||void 0===s?void 0:s[0])||{};a?u(a):e("new")},children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})]}),(0,x.jsxs)("div",{className:"custom-table-wrapper",children:[(0,x.jsx)(xi,{data:s,reloadData:h,permissions:{canAdd:v,canActive:p,canInActive:g,canDelete:N}}),(0,x.jsx)(Ai,{show:d,onOkayClick:()=>{u(!1)},handleClose:()=>u(!1)})]})]}):(0,x.jsx)(Ci,{addPermission:v})})})},Ci=e=>{let{addPermission:s}=e;const a=(0,l.Zp)();return(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:Ce,alt:"",height:120,width:120}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Venues"}),(0,x.jsx)("p",{className:"description",children:"Start your journey by adding venue details, creating packages, amenities and much more"}),s&&(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsxs)("button",{className:"btn btn-primary btn-34 px-3 add-btn",onClick:()=>a("new"),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})})]})})},wi=(0,t.createContext)(),ki=e=>{let{stepperList:s=[]}=e;const a=(0,l.g)(),{activeStepper:n,setActiveStepper:i}=(0,t.useContext)(wi),d=(0,l.Zp)();return(0,x.jsxs)("div",{className:"VerticalStepper h-100",children:[(0,x.jsx)("div",{className:"mb-4 d-flex align-items-center",children:(0,x.jsxs)("span",{role:"button",onClick:()=>d("/settings/account-details/venue-details"),children:[(0,x.jsx)(j.IN,{}),(0,x.jsx)("label",{role:"button",className:"ms-2",children:"Venue Listing"})]})}),(0,x.jsx)("div",{className:"progress-stepper-items",children:s.map(((e,s)=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{role:a.venueId?"button":"none",onClick:()=>{a.venueId&&i(s)},className:"progress-stepper-item ".concat(s<n?"done":n===s?"active":""),children:[(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"icon-container",children:s<n?(0,x.jsx)(u.aZ,{}):(0,x.jsx)(u.lP,{})})}),(0,x.jsx)("span",{className:"ms-2 icon-title",children:e.title})]}),(0,x.jsx)("div",{className:"progress-stepper-line my-1"})]})))})]})};var Si=a(7154),Di=a(3384);Si.b.Inject(Di.G);const Ti=e=>{let{dataSource:s,...a}=e;return(0,x.jsx)(Si.b,{allowFiltering:!1,...a,enableSelectionOrder:!1,cssClass:"custom-dropdown-multi",fields:{text:"text",value:"value"},dataSource:s.sort(((e,s)=>e.text.localeCompare(s.text))),showDropDownIcon:!0,mode:"CheckBox",showClearButton:!1,valueTemplate:e=>(0,x.jsxs)("span",{className:"custom-dropdowsn-multi-value",children:["tttt",e.value]})})};Si.b.Inject(Di.G);const Oi=e=>{let{dataSource:s,value:a="",isLoading:l=!1,onChange:n,...i}=e;const d=(0,t.useRef)();(0,t.useEffect)((()=>{d.current.refresh()}),[a]);const c=a.split(",").map((e=>parseInt(e))),r=e=>{let s={target:{name:e.target.name,value:e.target.value.sort(((e,s)=>e-s)).join(",")}};n(s)};return l?(0,x.jsx)(Si.b,{showClearButton:!1,showDropDownIcon:!0,enableSelectionOrder:!1,allowFiltering:!1,value:c,ref:d,mode:"CheckBox",...i,cssClass:"custom-dropdown-multi",fields:{text:"text",value:"value"},dataSource:s.sort(((e,s)=>e.text.localeCompare(s.text)))},i.name+"l"):(0,x.jsx)(Si.b,{showClearButton:!1,ref:d,showDropDownIcon:!0,enableSelectionOrder:!1,allowFiltering:!1,value:c,mode:"CheckBox",onChange:r,...i,cssClass:"custom-dropdown-multi",fields:{text:"text",value:"value"},dataSource:s.sort(((e,s)=>e.text.localeCompare(s.text)))},i.name)},qi=e=>{let{operationAction:s,setOperationAction:a}=e;const n=(0,l.Zp)(),i=(0,l.g)(),d=(0,l.zy)(),{venueDetailsObject:u,reload:h}=(0,t.useContext)(wi),[v,j]=(0,t.useState)({}),[p,g]=(0,t.useState)(!0),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)(!1),[A,I]=(0,t.useState)(!0),[C,w]=(0,t.useState)(!1);(0,t.useEffect)((()=>{j(u)}),[u]),(0,t.useEffect)((()=>{i.venueId?a(Q.O.action.read):a(Q.O.action.edit),T()}),[]);const k=e=>{const{name:s,value:a}=e.target;let t={...v};"bookingTypeId"===s?(t.foodPreferenceIds="",t.alcoholicBeverageId="",t[s]=a):t[s]=a,j(t)};(0,t.useEffect)((()=>{S()}),[v]);const S=()=>{let e=!0;const{venueName:s,venueCategoryIds:a="",venueType:t,bookingTypeId:l,capacity:n,area:i,foodPreferenceIds:d,alcoholicBeverageId:c}=(0,B.QN)({...v});s&&a&&t&&l&&n&&i&&(e=1===l&&(!d||!c)),g(e)},D=async()=>{try{const{venueName:t,venueCategoryIds:l,venueType:r,bookingTypeId:m,capacity:u,area:x,foodPreferenceIds:j,alcoholicBeverageId:p}=(0,B.QN)({...v});let g,b={venueName:t,venueCategoryIds:l,bookingTypeId:m,capacity:u,area:x,venueStatusId:1,venueTypeMapDTO:N.filter((e=>r.includes(e.value))).map((e=>{let{value:s,text:a}=e;return{venueTypeId:s,title:a}}))};m===Q.O.bookingType.value.FAndBPackages&&(b.foodPreferenceIds=j,b.alcoholicBeverageId=p),y(!0),i.venueId?(b.id=i.venueId,g=await c.updateVenue(b)):(g=await c.addVenue(b),g.title===o.A.success&&n(d.pathname.replace("/new","/"+g.detail),{replace:!0}));const{detail:f,title:A}=g;var e,s;if(A===o.A.success)a(Q.O.action.read),i.venueId?h(i.venueId):h(f);else null!==(e=g)&&void 0!==e&&null!==(s=e.detail)&&void 0!==s&&s.includes("exhausted")&&w(!0);console.log("first")}catch(t){r.oR.error(t.message)}finally{y(!1)}},T=async()=>{try{I(!0);const e=await c.getVenueTypeList(),{title:s,data:a}=e;s===o.A.success&&b(a.map((e=>{let{title:s,id:a}=e;return{text:s,value:a}})))}catch(e){r.oR.error(e.message)}finally{I(!1)}},O=s===Q.O.action.read,[q,P,F,E]=Q.O.FoodType.list,R=(U("Account","Add"),U("Account","Edit"));return(0,x.jsxs)("div",{className:"weight-form",children:[(0,x.jsxs)("div",{className:"top-wrapper mb-4",children:[(0,x.jsx)("h6",{className:"tab-title mb-0 me-2",children:"Venue Details"}),(0,x.jsx)("div",{className:"btns-wrapper",children:(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:O?R&&(0,x.jsx)(x.Fragment,{children:!(null!==u&&void 0!==u&&u.isVenueDeleted)&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34",onClick:()=>a(Q.O.action.edit),children:"Edit Details"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 fs-13-px",onClick:e=>{e.preventDefault(),i.venueId?(j(u),a(Q.O.action.read)):n(-1)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34 add-btn",onClick:()=>{D()},disabled:p,children:[f&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]})})})]}),(0,x.jsx)("div",{className:O?"readonly-form":"",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Venue Name *"}),(0,x.jsx)("input",{type:"text",placeholder:"Name",className:"form-control input-one-line",onChange:k,value:v.venueName,name:"venueName",readOnly:O})]}),(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Venue Category *"}),(0,x.jsx)(Oi,{closePopupOnSelect:!1,dataSource:Q.O.venueCategory.list,placeholder:"Select category",onChange:k,value:v.venueCategoryIds,name:"venueCategoryIds",readonly:O})]}),(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Venue Type *"}),!A&&(0,x.jsx)(Ti,{filterBarPlaceholder:"Search Type",allowFiltering:!0,closePopupOnSelect:!1,dataSource:N,placeholder:"Select types",onChange:k,value:v.venueType,name:"venueType",readonly:O})]}),(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6 ".concat(i.venueId?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label",children:"Booking Type *"}),(0,x.jsx)(oe.A,{dataSource:Q.O.bookingType.list,placeholder:"Select type",onChange:e=>{k(e)},value:v.bookingTypeId,name:"bookingTypeId",readonly:O||i.venueId})]}),(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Venue Capacity (maximum Pax) *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",onChange:k,value:v.capacity,name:"capacity",placeholder:"Capacity",readOnly:O})]}),(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Area (sqft) *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",onChange:k,value:v.area,name:"area",placeholder:"Area",readOnly:O})]}),1===v.bookingTypeId&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Food Preference *"}),(0,x.jsx)(Oi,{closePopupOnSelect:!1,dataSource:[q,P,E],placeholder:"Select Food Preference",onChange:k,value:v.foodPreferenceIds,name:"foodPreferenceIds",readonly:O})]}),(0,x.jsxs)("div",{className:"col-md-4 mb-4 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label",children:"Alcoholic Beverages *"}),(0,x.jsx)(oe.A,{dataSource:Q.O.alcoholicBeverages.list,placeholder:"Select Alcoholic Beverages",onChange:k,value:v.alcoholicBeverageId,name:"alcoholicBeverageId",readonly:O})]})]})]})}),(0,x.jsx)(Ai,{show:C,onOkayClick:()=>{w(!1)},handleClose:()=>w(!1)})]})},Pi=()=>{const{venueDetailsObject:e}=(0,t.useContext)(wi),[s,a]=(0,t.useState)(Q.O.action.zero);return(0,t.useEffect)((()=>{0===Object.keys(e).length?a(Q.O.action.zero):a(Q.O.action.edit)}),[]),s===Q.O.action.zero?(0,x.jsx)(Bi,{setOperationAction:a}):(0,x.jsx)(qi,{operationAction:s,setOperationAction:a})},Bi=e=>{let{setOperationAction:s}=e;return(0,x.jsxs)("div",{className:"h-100",children:[(0,x.jsx)("div",{children:(0,x.jsx)("h6",{className:"tab-title mb-0 me-2",children:"Venue Details"})}),(0,x.jsx)("div",{style:{height:"calc(100% - 15px)"},className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Add Venue Details"}),(0,x.jsx)("p",{className:"description-18",children:"Start adding time details as per your needs. You can modify them later too"}),(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsxs)("button",{className:"btn btn-primary px-3 btn-34 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})})]})})]})},Fi=e=>{let{show:s,handleClose:a,onSubmitClick:t,onDiscardClick:l}=e;return(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ne,alt:""})}),(0,x.jsx)("h4",{style:{fontSize:"20px"},className:"fw-bold text-center mb-4",children:"Are you sure ?"}),(0,x.jsx)("p",{className:"description mb-4 text-center ",children:"Once you make changes, all the active inquiries will be updated accordingly"})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("div",{className:"txt-primary fw-bolder me-3 fs-13-px",role:"button",onClick:l,children:"Discard"}),(0,x.jsx)(R.A,{className:" fw-bolder fs-13-px",variant:"primary",onClick:t,children:"Confirm"})]})]})},Ei=e=>{let{slotsData:s=[],operationAction:a,setOperationAction:n,reload:i}=e;const d=(0,l.g)(),{venueDetailsObject:u,permissions:h}=(0,t.useContext)(wi),[v]=(0,t.useState)({Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday"}),[p]=(0,t.useState)([{day:v.Monday},{day:v.Tuesday},{day:v.Wednesday},{day:v.Thursday},{day:v.Friday},{day:v.Saturday},{day:v.Sunday}]),[g]=(0,t.useState)({id:0,dayTimings:[{dayTitle:v.Monday,dayStartTime:"",dayEndTime:""},{dayTitle:v.Tuesday,dayStartTime:"",dayEndTime:""},{dayTitle:v.Wednesday,dayStartTime:"",dayEndTime:""},{dayTitle:v.Thursday,dayStartTime:"",dayEndTime:""},{dayTitle:v.Friday,dayStartTime:"",dayEndTime:""},{dayTitle:v.Saturday,dayStartTime:"",dayEndTime:""},{dayTitle:v.Sunday,dayStartTime:"",dayEndTime:""}]}),[N,b]=(0,t.useState)([g]),[f,y]=(0,t.useState)(!1),[A,I]=(0,t.useState)(!1),[C,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)([]),[D,T]=(0,t.useState)(!1);(0,t.useEffect)((()=>{P(),O(s)}),[s]),(0,t.useEffect)((()=>{O()}),[N]);const O=()=>{let e=!0;N.filter((e=>{let{id:s}=e;return 0===s})).length>0&&(e=!N.filter((e=>{let{id:s}=e;return 0===s})).some((e=>e.dayTimings.some((e=>""!==e.dayStartTime&&""!==e.dayEndTime))))),N.filter((e=>{let{id:s,isDeleted:a}=e;return s>0&&!0!==a})).length>0&&(e=!1),T(e)},q=N.filter((e=>{let{id:s}=e;return 0===s})).every((e=>{let{dayTimings:s=[]}=e;return s.some((e=>{let{dayStartTime:s,dayEndTime:a}=e;return s&&a}))})),P=()=>{s.length?b(s.map((e=>({...e,slotId:(0,ta.A)()})))):b([JSON.parse(JSON.stringify({...g,slotId:(0,ta.A)()}))])},B=async e=>{try{I(!1),w(!1),y(!0);let s=e.map((e=>{let s={...e};return delete s.slotId,s}));const a=await c.addTimeDetails(d.venueId,s),{title:t}=a;t===o.A.success&&(n(Q.O.action.read),i())}catch(s){r.oR.error(s.message)}finally{y(!1)}},F=(e,s,a,t)=>{E(t,a,e,s)},E=(e,s,a,t)=>{let l=JSON.parse(JSON.stringify(N));const n=N.findIndex((s=>s.slotId===e));"dayStartTime"===a?(l[n].dayTimings[s][a]=t,l[n].dayTimings[s].dayEndTime=""):l[n].dayTimings[s][a]=t,N.forEach(((e,a)=>{a>n&&(l[a].dayTimings[s].dayStartTime="",l[a].dayTimings[s].dayEndTime="")})),b(l)};return(0,x.jsxs)("div",{className:"time-details",children:[(0,x.jsxs)("div",{className:"top-wrapper mb-4",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("h6",{className:"tab-title mb-0 me-2",children:"Operational Days and Time"}),(0,x.jsx)(j.gO,{})]}),(0,x.jsx)("div",{className:"btns-wrapper d-flex align-items-center",children:Q.O.action.read===a?(0,x.jsxs)(x.Fragment,{children:[!(null!==u&&void 0!==u&&u.isVenueDeleted)&&(null===h||void 0===h?void 0:h.canEdit)&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34",onClick:e=>{e.preventDefault(),n(Q.O.action.edit)},children:"Edit details"})," "]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 fs-13-px",onClick:()=>w(!0),children:"Reset"}),(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 fs-13-px",onClick:e=>{e.preventDefault(),P(),0===s.length?n(Q.O.action.zero):n(Q.O.action.read),I(!1)},children:"Discard"}),(0,x.jsxs)("button",{disabled:D,className:"btn btn-primary px-3 btn-34 d-flex align-item-center",onClick:()=>{(()=>{const e=[];let s=!0;return N.forEach((s=>{let{dayTimings:a,slotId:t}=s;a.forEach((s=>{let{dayEndTime:a,dayStartTime:l,dayTitle:n}=s;(!a&&l||a&&!l)&&e.push(t+n)}))})),e.length?(S(e),s=!1):S([]),s})()&&I(!0)},children:[f&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]})})]}),(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"align-middle day-width-col",children:"Day"}),N.filter((e=>!0!==e.isDeleted)).map(((e,s)=>(0,x.jsx)("th",{className:"single-slot-width",children:(0,x.jsx)("div",{children:(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{className:"d-flex align-items-center",children:["SLOT\xa0",s+1," \xa0",N.filter((e=>!0!==e.isDeleted)).length>1&&Q.O.action.read!==a&&(null===h||void 0===h?void 0:h.canDelete)&&(0,x.jsx)("span",{role:"button",onClick:()=>(e=>{let s=[];N.forEach((a=>{a.slotId===e?a.id&&s.push({...a,isDeleted:!0}):s.push(a)})),b(s)})(e.slotId),children:(0,x.jsx)(j.s8,{height:"13",width:"13"})})]}),(0,x.jsx)("div",{className:"time-slot-wrapper",children:(0,x.jsxs)("div",{className:"description time-picker-container h-auto",children:[(0,x.jsx)("span",{style:{fontSize:"12px"},className:"text-capitalize items",children:"Start Time"}),(0,x.jsx)("span",{style:{fontSize:"12px"},className:"text-capitalize items",children:"End Time"})]})})]})})}))),N.filter((e=>!0!==e.isDeleted)).length<3&&Q.O.action.read!==a&&(0,x.jsx)("th",{className:"add-new-slot",children:(null===h||void 0===h?void 0:h.canAdd)&&(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-end me-2",children:(0,x.jsx)("div",{role:"button",onClick:()=>(()=>{if(q&&N.filter((e=>!0!==e.isDeleted)).length<3){const e=[...N,JSON.parse(JSON.stringify({...g,slotId:(0,ta.A)()}))];b(e)}})(),className:"d-flex align-items-center ".concat(q?"txt-primary":"txt-secondary"),children:(0,x.jsx)("span",{className:"ms-1 text-capitalize",children:"+ Add Slot"})})})})]})}),(0,x.jsx)("tbody",{children:p.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:e.day}),N.filter((e=>!0!==e.isDeleted)).map(((t,l)=>{var n;const{dayStartTime:i,dayEndTime:d}=t.dayTimings.find((s=>s.dayTitle===e.day))||{};let c="";if(l>0){c=(N[l-1].dayTimings.find((s=>s.dayTitle===e.day))||{}).dayEndTime}const[r,o]=(null===(n=c)||void 0===n?void 0:n.split(" "))||["",""];let[m,u]=r.split(":").map(Number),h=!1;return 59===u&&11===m&&"PM"===o&&(h=!0),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"time-slot-wrapper",children:(0,x.jsxs)("div",{className:"time-picker-container",children:[(0,x.jsx)("span",{className:"items",children:Q.O.action.read===a?(0,x.jsx)("div",{className:"".concat(i?"":"invisible"),children:i||"12:00 AM"}):(0,x.jsx)(fe,{invalid:k.includes(t.slotId+e.day),onChange:(e,a)=>F("dayStartTime",a,s,t.slotId),value:i||"",minTime:c,disabled:l>0&&(h||!c)})}),(0,x.jsx)("span",{className:"items",children:Q.O.action.read===a?(0,x.jsx)("div",{className:"".concat(d?"":"invisible"),children:d||"12:00 AM"}):(0,x.jsx)(fe,{invalid:k.includes(t.slotId+e.day),onChange:(e,a)=>F("dayEndTime",a,s,t.slotId),value:d||"",minTime:i||"",disabled:!i})})]})})})})),N.filter((e=>!0!==e.isDeleted)).length<3&&Q.O.action.read!==a&&(0,x.jsx)("th",{})]})))})]}),(0,x.jsx)(Fi,{show:A,handleClose:()=>I(!1),onSubmitClick:()=>{let e=N.filter((e=>{let{id:s,dayTimings:a=[]}=e;return s>0||a.some((e=>{let{dayStartTime:s,dayEndTime:a}=e;return s&&a}))}));B(e.map((e=>({...e,isDeleted:e.isDeleted?e.isDeleted:e.dayTimings.every((e=>{let{dayStartTime:s,dayEndTime:a}=e;return!s&&!a}))}))))},onDiscardClick:()=>I(!1)}),(0,x.jsx)(Fi,{show:C,handleClose:()=>w(!1),onSubmitClick:()=>{let e=N.filter((e=>{let{id:s}=e;return 0!==s})).map((e=>({...e,isDeleted:!0})));e.length?B(e):(w(!1),n(Q.O.action.zero))},onDiscardClick:()=>w(!1)})]})},Ri=()=>{const e=(0,l.g)(),[s,a]=(0,t.useState)(Q.O.action.zero),[n,i]=(0,t.useState)(!0),[d,u]=(0,t.useState)([]);(0,t.useEffect)((()=>{e.venueId?(i(!0),h()):a(Q.O.action.zero)}),[]);const h=async()=>{try{const s=await c.getTimeDetailsById(e.venueId),{detail:t,message:l,title:n,data:i=[]}=s;if(n===o.A.success){let e=i.filter((e=>{let{isDeleted:s}=e;return!0!==s}));0===e.length?(u([]),a(Q.O.action.zero)):(u(e),a(Q.O.action.read))}}catch(s){r.oR.error(s.message)}finally{i(!1)}};return(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):s===Q.O.action.zero?(0,x.jsx)(Mi,{setOperationAction:a}):(0,x.jsx)(Ei,{slotsData:d,operationAction:s,setOperationAction:a,reload:h})})},Mi=e=>{let{setOperationAction:s,canAdd:a}=e;const{venueDetailsObject:l,permissions:n}=(0,t.useContext)(wi),{isVenueDeleted:i}=l;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading mb-3",children:"Add Time Details"}),(0,x.jsx)("p",{className:"description-18 mb-4",children:"Start adding time details as per your needs. You can modify them later too"}),(null===n||void 0===n?void 0:n.canAdd)&&(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsxs)("button",{disabled:i,className:"btn btn-primary btn-34 px-3 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})})]})})},Yi=a.p+"static/media/create-menu.f3a5b8cf61a5572639e2.png",Li=e=>{let{show:s,handleClose:a,onApplyClick:l,cuisineTypeLoading:n=!1,cuisineTypeList:i=[],selectedCuisineTypeFilter:d=[]}=e;const[c,r]=(0,t.useState)([]);(0,t.useEffect)((()=>{0===d.length&&r([])}),[d]);return(0,x.jsxs)(z.A,{show:s,onHide:a,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsxs)(z.A.Body,{className:"offcanvas-custom-body",children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("label",{className:"mb-3 fw-bold",children:"Cuisine Type "}),n?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3 h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsx)("div",{className:"row",children:i.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-6 col-sm-6 col-12 mb-3",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input",checked:c.includes(e.value),onChange:s=>((e,s)=>{const{checked:a}=e.target;let t=[...c];a?t.push(s):t=t.filter((e=>e!==s)),r(t)})(s,e.value),id:"cuisine-checkbox-".concat(s)}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"cuisine-checkbox-".concat(s),children:e.text})]})},s)))})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsx)("div",{className:"d-flex d-flex align-items-center justify-content-end w-100",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{role:"button",className:"btn txt-primary btn-34 me-3 ",onClick:e=>{e.preventDefault(),l([]),r([])},children:"Clear All"}),(0,x.jsx)("button",{type:"button",onClick:()=>{l(c)},className:"btn btn-34 btn-primary",children:"Apply"})]})})})]})]})},Vi=e=>{let{foodMenuList:s=[],reload:a,setOperationAction:n,operationAction:i}=e;const d=(0,l.g)(),{venueDetailsObject:u,permissions:h}=(0,t.useContext)(wi),{isVenueDeleted:v}=u,[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)([]),[A,I]=(0,t.useState)(!1),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)(null),[D,T]=(0,t.useState)([]),[O,q]=(0,t.useState)([]),[P,B]=(0,t.useState)(!0),[F,E]=(0,t.useState)(!1),[R,M]=(0,t.useState)([]),[Y,L]=(0,t.useState)(""),V=D.filter((e=>e.venueFoodPackageItemId===k&&!0!==e.isDeleted)),U=V.every((e=>{let{cuisineTypeId:s,menuItemName:a}=e;return s&&a}));(0,t.useEffect)((()=>{G(),W()}),[]),(0,t.useEffect)((()=>{H()}),[s]);const H=()=>{T([...s.map((e=>({...e,tempId:(0,ta.A)()})))])},W=async()=>{try{B(!0);const e=await c.getFoodPackageItemListById(d.venueId),{title:s,data:a=[]}=e;s===o.A.success&&a.length&&q(a.map((e=>{let{venueFoodItemTypeName:s,foodPreference:a,venueFoodPackageItemId:t}=e;return{text:s+" "+a,value:t}})))}catch(e){r.oR.error(e.message)}finally{B(!1)}},z=()=>{const e=[];let s=!0;return V.forEach((s=>{(s.menuItemName&&!s.cuisineTypeId||!s.menuItemName&&s.cuisineTypeId)&&e.push(s.tempId)})),e.length?(w(e),s=!1):w([]),s},G=async()=>{try{y(!0);const e=await c.getCuisineTypeList(),{title:s,data:a=[]}=e;s===o.A.success&&b(a.map((e=>{let{title:s,id:a}=e;return{text:s,value:a}})))}catch(e){r.oR.error(e.message)}finally{y(!1)}},K=(e,s)=>{if(0===D.filter((s=>s.venueFoodPackageItemId===e)).length&&Q.O.action.edit===s){let s=Array(10).fill().map((()=>({venueFoodPackageItemId:e,tempId:(0,ta.A)(),id:0})));T([...D,...s])}},Z=(e,s)=>{const{name:a,value:t}=e.target;T(D.map((e=>e.tempId===s?{...e,[a]:t}:e)))};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"title-wrapper mb-3",children:[(0,x.jsx)("h4",{children:"Food Menu Item"}),Q.O.action.edit===i?(0,x.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 btn-34",role:"button",onClick:()=>{s.length?(H(),n(Q.O.action.read)):n(Q.O.action.zero)},children:"Discard"}),(0,x.jsxs)("button",{disabled:!k,className:"btn btn-primary btn-34",onClick:()=>{z()&&E(!0)},children:[A&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:(null===h||void 0===h?void 0:h.canEdit)&&(0,x.jsx)(x.Fragment,{children:!v&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"txt-primary fw-bold me-3 download-template-btn",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"ms-2",children:"Download Template"})," "]}),(0,x.jsxs)("button",{className:"btn btn-outline-primary btn-34 add-btn import-btn",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),k&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 ms-3",onClick:()=>{n(Q.O.action.edit),M([]),L(""),K(k,Q.O.action.edit)},children:"Edit Details"})]})})})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,x.jsx)("div",{style:{width:"300px"},children:(0,x.jsx)(oe.A,{customCss:"bordered select-title ".concat(Q.O.action.edit===i?"disabled-package":""),dataSource:O,placeholder:"Select Package Item",onChange:e=>{return s=e.target.value,S(s),void K(s,i);var s},value:k,readonly:Q.O.action.edit===i})}),(0,x.jsx)("div",{className:"action-wrapper d-flex justify-content-end align-items-center",children:i===Q.O.action.read&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{}),(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:e=>L(e.target.value.toLowerCase())})]}),(0,x.jsxs)("button",{className:"btn btn-outline-secondary btn-34 filter-btn ms-3 position-relative",onClick:()=>g(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),R.length>0&&(0,x.jsx)("div",{className:"filterCountBadge",children:"1"})]})]})})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"MENU ITEM NAME"}),(0,x.jsx)("th",{className:"cuisineType",children:"CUISINE TYPE"}),Q.O.action.edit===i&&(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{children:Q.O.action.edit===i?V.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"text",className:"form-control form-control-sm ms-1 menuNameInput ".concat(C.includes(e.tempId)?"invalid":""),placeholder:"Enter Item Name",value:e.menuItemName,name:"menuItemName",onChange:s=>Z(s,e.tempId)})})}),(0,x.jsx)("td",{children:(0,x.jsx)(oe.A,{customCss:"bordered  ".concat(C.includes(e.tempId)?"invalid":""),dataSource:N,placeholder:"Select Type",onChange:s=>Z(s,e.tempId),value:e.cuisineTypeId,name:"cuisineTypeId"})}),(0,x.jsx)("td",{children:(null===h||void 0===h?void 0:h.canDelete)&&(0,x.jsx)(x.Fragment,{children:Q.O.action.edit===i&&(0,x.jsx)("div",{className:"px-1",children:1!==V.length||e.cuisineTypeId||e.menuItemName?(0,x.jsx)("span",{role:"button",onClick:()=>(e=>{let s=[];D.forEach((a=>{a.tempId===e?(a.id&&s.push({...a,isDeleted:!0}),0===V.filter((s=>s.tempId!==e)).length&&s.push({venueFoodPackageItemId:k,tempId:(0,ta.A)(),id:0})):s.push(a)})),T(s)})(e.tempId),children:(0,x.jsx)(j.s8,{})}):(0,x.jsx)(j.w$,{})})})})]},e.tempId))):V.filter((e=>{let{menuItemName:s}=e;return!Y.length||s.toLowerCase().includes(Y)})).filter((e=>{let{cuisineTypeId:s}=e;return!R.length||R.includes(s)})).map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{children:e.menuItemName})}),(0,x.jsx)("td",{children:e.cuisineTypeName})]},e.tempId)))}),0===V.length&&(0,x.jsx)("tbody",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:3,children:(0,x.jsx)("div",{className:"py-3"})})})})]}),(null===h||void 0===h?void 0:h.canAdd)&&(0,x.jsx)(x.Fragment,{children:k&&(0,x.jsx)(x.Fragment,{children:Q.O.action.edit===i&&(0,x.jsx)("div",{role:"button",className:"d-flex align-items-center mt-2 add-new-data-btn ".concat(U?"txt-success":"txt-secondary"),onClick:()=>{U&&T([...D,{venueFoodPackageItemId:k,tempId:(0,ta.A)(),id:0}])},children:(0,x.jsx)("span",{className:"ms-1 fw-bold",children:"+ Add New"})})})})]}),(0,x.jsx)(Li,{show:p,handleClose:()=>g(!1),onApplyClick:e=>{g(!1),M(e)},cuisineTypeLoading:f,cuisineTypeList:N,selectedCuisineTypeFilter:R}),(0,x.jsx)(Fi,{show:F,handleClose:()=>E(!1),onSubmitClick:async()=>{try{E(!1),I(!0);let e=D.filter((e=>{let{cuisineTypeId:s,menuItemName:a}=e;return s&&a})).map((e=>({...e,venueDetailId:d.venueId})));const s=await c.addFBMenuFood(e),{title:t}=s;t===o.A.success&&a()}catch(e){r.oR.error(e.message)}finally{I(!1)}},onDiscardClick:()=>E(!1)})]})},Ui=()=>{const e=(0,l.g)(),[s,a]=(0,t.useState)(Q.O.action.zero),[n,i]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{u(!0),h()}),[]);const h=async()=>{try{const s=await c.getFBMenuFoodItemList(e.venueId),{title:t,data:l}=s;t===o.A.success?l.length?(a(Q.O.action.read),i(l)):(i([]),a(Q.O.action.zero)):a(Q.O.action.zero)}catch(s){r.oR.error(s.message)}finally{u(!1)}};return(0,x.jsx)(x.Fragment,{children:d?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):Q.O.action.zero===s?(0,x.jsx)(Hi,{setOperationAction:a}):(0,x.jsx)(Vi,{foodMenuList:n,reload:h,setOperationAction:a,operationAction:s})})},Hi=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Yi,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Food Menu Item"}),(0,x.jsx)("p",{className:"description-18",children:"Start making your Food Menu by adding manually or by uploading a CSV"}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:[(0,x.jsxs)("button",{disabled:n,className:"btn btn-outline-primary btn-34 add-btn me-3 import-btn",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 add-btn",onClick:()=>s(Q.O.action.read),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center download-template-btn",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"txt-primary ms-2 fw-bold",children:"Download Template"})]})]})})},Qi=e=>{let{beverageMenuList:s=[],reload:a,setOperationAction:n,operationAction:i}=e;const d=(0,l.g)(),{venueDetailsObject:u,permissions:h}=(0,t.useContext)(wi),{isVenueDeleted:v}=u,[p,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)([]),[f,y]=(0,t.useState)(null),[A,I]=(0,t.useState)([]),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)(!0),[D,T]=(0,t.useState)(!1),[O,q]=(0,t.useState)(""),P=A.filter((e=>e.beveragePackageItemId===f&&!0!==e.isDeleted)),B=P.every((e=>{let{quantity:s,menuItemName:a,quantityType:t,cost:l=0}=e;return s&&a&&t&&l>=0}));(0,t.useEffect)((()=>{E()}),[]),(0,t.useEffect)((()=>{F()}),[s]);const F=()=>{I([...s.map((e=>({...e,tempId:(0,ta.A)()})))])},E=async()=>{try{S(!0);const e=await c.getBeveragePackageItemList(d.venueId),{title:s,data:a=[]}=e;s===o.A.success&&a.length&&w(a.map((e=>{let{beverageTypeId:s,beveragePackageItemId:a,drinkName:t,liquorTypeId:l,liquorType:n}=e;return{text:Q.O.beveragePreference.text[s]+" - "+(l>0?n+" - ":"")+t,value:a}})))}catch(e){r.oR.error(e.message)}finally{S(!1)}};let R=["ml","ltr"].map(((e,s)=>({text:e,value:s+1})));const M=(e,s)=>{if(A.filter((s=>s.beveragePackageItemId===e)).length);else if(Q.O.action.edit===s){let s=Array(10).fill().map((()=>({beveragePackageItemId:e,tempId:(0,ta.A)(),id:0})));I([...A,...s])}},Y=()=>{const e=[];let s=!0;return P.forEach((s=>{(s.menuItemName&&!s.quantity||!s.menuItemName&&s.quantity)&&e.push(s.tempId)})),e.length?(b(e),s=!1):b([]),s},L=(e,s)=>{const{name:a,value:t}=e.target;let l=[];A.forEach((e=>{e.tempId===s?l.push({...e,[a]:t}):l.push(e)})),I(l)};return(0,x.jsxs)("div",{className:"package-wrapper",children:[(0,x.jsxs)("div",{className:"title-wrapper mb-3",children:[(0,x.jsx)("h4",{children:"Beverage Menu Item"}),Q.O.action.edit===i?(0,x.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 btn-34",role:"button",onClick:()=>{s.length?(F(),n(Q.O.action.read)):n(Q.O.action.zero)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34",onClick:()=>{Y()&&T(!0)},disabled:!f,children:[p&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:!v&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"txt-primary fw-bold me-3 download-template-btn",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"ms-2",children:"Download Template"})]}),(0,x.jsxs)("button",{className:"btn btn-outline-primary btn-34 add-btn import-btn",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),(null===h||void 0===h?void 0:h.canEdit)&&(0,x.jsx)(x.Fragment,{children:f&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 ms-3",onClick:()=>{n(Q.O.action.edit),q(""),M(f,Q.O.action.edit)},children:"Edit Details"})})]})})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,x.jsx)("div",{style:{width:"300px"},children:(0,x.jsx)(oe.A,{customCss:"bordered select-title ".concat(Q.O.action.edit===i?"disabled-package":""),dataSource:C,placeholder:"Select Package Item",onChange:e=>{return s=e.target.value,y(s),void M(s,i);var s},value:f,readonly:Q.O.action.edit===i})}),Q.O.action.read===i&&(0,x.jsx)("div",{className:"action-wrapper d-flex justify-content-end align-items-center",children:(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{}),(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:e=>q(e.target.value.toLowerCase())})]})})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"MENU ITEM NAME"}),(0,x.jsx)("th",{children:"QUANTITY"}),(0,x.jsx)("th",{children:"COST / ITEM"}),Q.O.action.edit===i&&(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{children:Q.O.action.edit===i?P.map((e=>{const{cost:s=0}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("input",{type:"text",className:"form-control form-control-sm ms-1 menuNameInput ".concat(N.includes(e.tempId)?"invalid":""),placeholder:"Enter Item Name",value:e.menuItemName,name:"menuItemName",onChange:s=>L(s,e.tempId)})}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"d-flex gap-2",children:[(0,x.jsx)("input",{type:"number",name:"quantity",className:"form-control form-control-sm ms-1 menuNameInput ".concat(N.includes(e.tempId)?"invalid":""),placeholder:"Enter Qty",value:e.quantity,onChange:s=>L(s,e.tempId)}),(0,x.jsx)("div",{className:"quantity-input",children:(0,x.jsx)(oe.A,{customCss:"bordered",dataSource:R,placeholder:"Select",onChange:s=>L(s,e.tempId),value:e.quantityType||1,name:"quantityType"})})]})}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"cost-input-field w-40",children:[(0,x.jsx)(j.XW,{}),(0,x.jsx)("input",{type:"number",name:"cost",className:"form-control form-control-sm ms-1 ".concat(N.includes(e.tempId)?"invalid":""),placeholder:"Enter Amount",value:e.cost,onChange:s=>L(s,e.tempId)})]})}),(0,x.jsx)("td",{children:Q.O.action.edit===i&&(0,x.jsx)("div",{className:"px-1",children:1===P.length&&!e.menuItemName&&!e.quantity&&!s>=0?(0,x.jsx)(j.w$,{}):(0,x.jsx)("span",{role:"button",onClick:()=>(e=>{let s=[];A.forEach((a=>{a.tempId===e?(a.id&&s.push({...a,isDeleted:!0}),0===P.filter((s=>s.tempId!==e)).length&&s.push({beveragePackageItemId:f,tempId:(0,ta.A)(),id:0})):s.push(a)})),I(s)})(e.tempId),children:(0,x.jsx)(j.s8,{})})})})]},e.tempId)})):P.filter((e=>{let{menuItemName:s}=e;return!O.length||s.toLowerCase().includes(O)})).map((e=>{var s;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:e.menuItemName}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"d-flex gap-2",children:[(0,x.jsx)("span",{children:e.quantity}),(0,x.jsx)("span",{children:(null===(s=R.find((s=>e.quantityType===s.value)))||void 0===s?void 0:s.text)||"-"})]})}),(0,x.jsxs)("td",{children:["\u20b9\xa0",e.cost||"0"]})]},e.tempId)}))}),0===P.length&&(0,x.jsx)("tbody",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:3,children:(0,x.jsx)("div",{className:"py-3"})})})})]}),(null===h||void 0===h?void 0:h.canAdd)&&(0,x.jsx)(x.Fragment,{children:f&&(0,x.jsx)(x.Fragment,{children:Q.O.action.edit===i&&(0,x.jsx)("div",{role:"button",className:"d-flex align-items-center mt-2 add-new-data-btn ".concat(B?"txt-success":"txt-secondary"),onClick:()=>{B&&I([...A,{beveragePackageItemId:f,tempId:(0,ta.A)(),id:0}])},children:(0,x.jsx)("span",{className:"ms-1 fw-bold",children:"+ Add New"})})})})]}),(0,x.jsx)(Fi,{show:D,handleClose:()=>T(!1),onSubmitClick:async()=>{try{g(!0),T(!1);let e=A.filter((e=>{let{quantity:s,menuItemName:a}=e;return s&&a})).map((e=>{let{id:s,beveragePackageItemId:a,quantity:t,menuItemName:l,cost:n,isDeleted:i,quantityType:c=1}=e;return{id:s,beveragePackageItemId:a,menuItemName:l,quantity:t,quantityType:c,cost:n,isDeleted:i,venueDetailId:d.venueId}}));const s=await c.addFBMenuBeverage(e),{title:t}=s;t===o.A.success&&a()}catch(e){r.oR.error(e.message)}finally{g(!1)}},onDiscardClick:()=>T(!1)})]})},Wi=()=>{const e=(0,l.g)(),[s,a]=(0,t.useState)(Q.O.action.zero),[n,i]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0);(0,t.useEffect)((()=>{u(!0),h()}),[]);const h=async()=>{try{const s=await c.getFBMenuBeverageItemList(e.venueId),{title:t,data:l}=s;t===o.A.success?l.length?(a(Q.O.action.read),i(l)):(i([]),a(Q.O.action.zero)):a(Q.O.action.zero)}catch(s){r.oR.error(s.message)}finally{u(!1)}};return(0,x.jsx)(x.Fragment,{children:d?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):Q.O.action.zero===s?(0,x.jsx)(zi,{setOperationAction:a}):(0,x.jsx)(Qi,{reload:h,beverageMenuList:n,setOperationAction:a,operationAction:s})})},zi=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Yi,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Beverage Menu Item"}),(0,x.jsx)("p",{className:"description-18",children:"Start making your Beverage Menu by adding manually or by uploading a CSV"}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:[(0,x.jsxs)("button",{disabled:n,className:"btn btn-outline-primary btn-34 add-btn me-3 import-btn",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 add-btn",onClick:()=>s(Q.O.action.read),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center download-template-btn",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"txt-primary ms-2 fw-bold",children:"Download Template"})]})]})})},Gi=()=>{const[e,s]=(0,t.useState)("foodMenuItems"),[a,l]=(0,t.useState)(Q.O.action.zero);return(0,x.jsxs)("div",{className:"fb-menu",children:[(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mb-3",children:[{id:"foodMenuItems",title:"Food Menu Items"},{id:"beverageMenuItems",title:"Beverage Menu Items"}].map(((a,t)=>(0,x.jsx)("li",{className:"nav-item cursor-pointer ",children:(0,x.jsx)("a",{className:"nav-link ".concat(e===a.id?"active":""),onClick:()=>{return e=a.id,void s(e);var e},children:a.title})},t)))}),(0,x.jsxs)("div",{className:"custom-tab-content-data",children:["foodMenuItems"===e&&(0,x.jsx)(Ui,{}),"beverageMenuItems"===e&&(0,x.jsx)(Wi,{operationAction:a,setOperationAction:l})]})]})},Ki=e=>{let{show:s,handleClose:a,onApplyClick:l,maxPrice:n}=e;const[i,d]=(0,t.useState)({}),{venueDetailsObject:c}=(0,t.useContext)(wi),{alcoholicBeverageId:r}=c;return(0,x.jsxs)(z.A,{show:s,onHide:a,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(i)},children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(oe.A,{customCss:"filter-form",showClearButton:!0,dataSource:r===Q.O.alcoholicBeverages.value.Available?Q.O.beveragePreference.list:[{text:"Non-Alcoholic",value:2}],placeholder:"Beverage Preference",onChange:e=>{const{value:s,name:a}=e.target,t={...i};s?t[a]=s:delete t[a],d(t)},value:i.beveragePreferenceId,name:"beveragePreferenceId"})}),(0,x.jsx)("div",{className:"acc-label",children:"Price Range"}),(0,x.jsx)("div",{className:"px-3",children:(0,x.jsx)(Vt,{name:"priceRange",min:0,max:n||1e3,change:e=>{var s;const a={...i};"0,0"===(null===(s=e.value)||void 0===s?void 0:s.join(","))?delete a.priceRange:a.priceRange=e.value,d(a)},value:i.priceRange})})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsx)("div",{className:"d-flex d-flex align-items-center justify-content-end w-100",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{role:"button",className:"me-3 txt-primary btn btn-34",onClick:e=>{e.preventDefault(),d({}),l({})},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-sm btn-primary btn-34",type:"submit",children:"Apply"})]})})})]})})]})},Zi=e=>{let{beverageTableData:s=[],setOperationAction:a,reLoadData:l,setSelectedBId:n,searchText:i,setSearchText:d,showFilter:m,setShowFilter:u}=e;const[h,v]=(0,t.useState)([]),[j,p]=(0,t.useState)({}),{permissions:g}=(0,t.useContext)(wi);(0,t.useEffect)((()=>{v([...s])}),[s]);const N=(0,t.useMemo)((()=>Math.max(...h.map((e=>e.venueBeveragePackageAmount)))),[h]);return(0,x.jsxs)("div",{className:"h-100",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table custom-hover",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"CODE"}),(0,x.jsx)("th",{children:"NAME"}),(0,x.jsx)("th",{children:"PREFERENCE"}),(0,x.jsx)("th",{children:"Item Count"}),(0,x.jsx)("th",{children:"PRICE/PERSON"}),(0,x.jsx)("th",{children:"STATUS"})]})}),(0,x.jsx)("tbody",{children:h.filter((e=>{const s=Object.keys(j);return 0===s.length||s.every((s=>{var a,t;const l=(null===(a=j[s])||void 0===a?void 0:a[0])||0,n=(null===(t=j[s])||void 0===t?void 0:t[1])||N;return"priceRange"===s?e.venueBeveragePackageAmount>=l&&e.venueBeveragePackageAmount<=n:j[s]===e[s]}))})).filter((e=>!i.length||(e.venueBeveragePackageName.toLowerCase().includes(i)||e.venueBeveragePackageCode.toLowerCase().includes(i)||e.venueBeveragePackageAmount==i))).map((e=>{var s;return(0,x.jsxs)("tr",{onClick:()=>{a(Q.O.action.read),n(e.venueBeveragePackageId)},children:[(0,x.jsx)("td",{role:"button",children:e.venueBeveragePackageCode}),(0,x.jsx)("td",{children:e.venueBeveragePackageName}),(0,x.jsx)("td",{children:Q.O.beveragePreference.text[e.beveragePreferenceId]}),(0,x.jsx)("td",{children:(null===(s=e.venueBeveragePackageItemMapDTO)||void 0===s?void 0:s.length)||0}),(0,x.jsxs)("td",{children:["\u20b9",e.venueBeveragePackageAmount,"/-"]}),(0,x.jsx)("td",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,x.jsxs)("div",{className:"d-flex flex-row align-items-center gap-2",children:[1===e.venueBeveragePackageStatusId&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),2===e.venueBeveragePackageStatusId&&(0,x.jsx)("span",{className:"inactive-text",children:"InActive"}),(0,x.jsx)(ut,{select:s=>(async(e,s)=>{let{venueBeveragePackageId:a}=s;const{id:t}=e.item.properties;try{let e={id:a,statusId:t};const s=await c.updateBeveragePackageStatus(e),{detail:n,message:i,title:d}=s;d===o.A.success&&l()}catch(n){r.oR.error(n.message)}})(s,e),cssClass:"e-caret-hide e-round-corner",items:1===e.venueBeveragePackageStatusId?[null!==g&&void 0!==g&&g.canInActive?{id:2,text:"Mark as Inactive",iconCss:"css-in-active-icon"}:{}]:[null!==g&&void 0!==g&&g.canActive?{id:1,text:"Mark as Active",iconCss:"css-in-active-icon"}:{}]})]})})]})}))})]}),(0,x.jsx)(Ki,{maxPrice:N,show:m,handleClose:()=>u(!1),onApplyClick:e=>{if(p(e),u(!1),Object.keys(e).length){let s=document.getElementById("fbPackageFilter");s.classList.remove("d-none"),s.classList.add("d-flex"),s.innerHTML=Object.keys(e).length}else{document.getElementById("fbPackageFilter").classList.add("d-none")}}})]})},Ji=e=>{let{operationAction:s,setOperationAction:a,selectedBId:n,setSelectedBId:i}=e;const d=(0,l.g)(),h=s===Q.O.action.edit,{venueDetailsObject:v,permissions:j}=(0,t.useContext)(wi),{alcoholicBeverageId:p,isVenueDeleted:g}=v,[N,b]=(0,t.useState)({}),[f,y]=(0,t.useState)(!0),[A,I]=(0,t.useState)([]),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!0),[O,P]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const{venueBeveragePackageName:e,beveragePreferenceId:s,venueBeveragePackageAmount:a}=N;C.length>0&&e&&s&&a?T(!1):T(!0)}),[C,N]),(0,t.useEffect)((()=>{F()}),[]),(0,t.useEffect)((()=>{n&&B(n)}),[n]),(0,t.useEffect)((()=>{const e=(null===N||void 0===N?void 0:N.venueBeveragePackageItemMapDTO)||[];if(e.length>0&&A.length>0){const s=e.map((e=>{let{beveragePackageItemId:s}=e;return s}));let a=[];A.forEach((t=>{let l=e.find((e=>{let{beveragePackageItemId:s}=e;return t.beveragePackageItemId===s}));s.includes(t.beveragePackageItemId)&&a.push({...t,count:l.count,venueBeveragePackageItemMapId:l.venueBeveragePackageItemMapId})})),w(a)}}),[A,null===N||void 0===N?void 0:N.venueBeveragePackageItemMapDTO]);const B=async e=>{try{const s=await c.getBeveragePackageByBeverageId(e),{detail:a,message:t,title:l,data:n}=s;if(l===o.A.success){const{venueBeveragePackageId:e,venueBeveragePackageName:s,venueBeveragePackageAmount:a,venueBeveragePackageCode:t,beveragePreferenceId:l,venueBeveragePackageItemMapDTO:i}=n[0];b({venueBeveragePackageId:e,venueBeveragePackageName:s,venueBeveragePackageAmount:a,venueBeveragePackageCode:t,beveragePreferenceId:l,venueBeveragePackageItemMapDTO:i})}}catch(s){r.oR.error(s.message)}},F=async()=>{try{y(!0);const e=await c.getBeveragePackageItemList(d.venueId),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&I(l)}catch(e){r.oR.error(e.message)}finally{y(!1)}},E=e=>{const{value:s,name:a}=e.target,t={...N};t[a]=s,b(t)},R=(e,s)=>{const{checked:a}=e.target;let t=[...C];a?t.push({...s,count:1}):t=t.filter((e=>{let{beveragePackageItemId:a}=e;return a!==s.beveragePackageItemId})),w(t)},M=(e,s)=>{w(C.map((a=>a.beveragePackageItemId===s?{...a,count:"inc"===e?a.count+1:a.count-1}:a)))},Y=A.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.Alcoholic)),L=A.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.NonAlcoholic)),V=C.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.Alcoholic)),U=C.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.NonAlcoholic));return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"title-wrapper mb-3",children:[(0,x.jsx)("h4",{children:"Beverage Package"}),(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:h?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 btn-34",onClick:()=>{a(Q.O.action.read),n?(B(n),a(Q.O.action.read)):a(Q.O.action.list)},children:"Discard"}),(0,x.jsxs)("button",{disabled:D,className:"btn btn-primary btn-34",onClick:()=>S(!0),children:[O&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold btn-34",onClick:()=>a(Q.O.action.list),children:"Back"}),(null===j||void 0===j?void 0:j.canEdit)&&(0,x.jsx)(x.Fragment,{children:!g&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 ms-3",onClick:()=>a(Q.O.action.edit),children:"Edit Details"})})]})})]}),(0,x.jsx)("div",{className:h?"":"readonly-form",children:(0,x.jsxs)("div",{className:"row error-boundary",children:[(0,x.jsxs)("div",{className:"col-md-2 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Code"}),(0,x.jsx)("label",{className:"txt-dark fw-bold mt-1 d-block",children:N.venueBeveragePackageCode||"B-New"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"venueBeveragePackageName",value:N.venueBeveragePackageName,onChange:E,readOnly:!h})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Beverage Preference *"}),(0,x.jsx)(oe.A,{readonly:!h,dataSource:p===Q.O.alcoholicBeverages.value.Available?Q.O.beveragePreference.list:[{text:"Non-Alcoholic",value:2}],placeholder:"Select category",onChange:e=>{w([]),E(e)},value:N.beveragePreferenceId,name:"beveragePreferenceId"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Price *"}),h?(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"venueBeveragePackageAmount",placeholder:"Enter Amount per Person",value:N.venueBeveragePackageAmount,onChange:E,readOnly:!h}):(0,x.jsxs)("div",{className:"py-1",children:["\u20b9",N.venueBeveragePackageAmount," \xa0 per person"]})]})]})}),h&&(0,x.jsxs)(x.Fragment,{children:[(N.beveragePreferenceId===Q.O.beveragePreference.value.Alcoholic||N.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic)&&(0,x.jsx)("div",{className:"mb-3 custom-accordian",children:(0,x.jsx)(q.A,{children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{className:"py-0",children:["Package Items - Alcoholic \xa0",(0,x.jsxs)("span",{className:"selected-count",children:["( ",V.length,"/",Y.length," )"]})]}),(0,x.jsx)(q.A.Body,{children:f?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"txt-primary"})}):(0,x.jsx)("div",{className:"row",children:Y.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3 form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input fb-package-check",checked:C.map((e=>{let{beveragePackageItemId:s}=e;return s})).includes(e.beveragePackageItemId),onChange:s=>R(s,e),disabled:!h,id:"checkbox-".concat(e.beveragePackageItemId)}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"checkbox-".concat(e.beveragePackageItemId),children:e.liquorType+" "+e.drinkName})]})},s)))})})]})})}),(N.beveragePreferenceId===Q.O.beveragePreference.value.NonAlcoholic||N.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic)&&(0,x.jsx)("div",{className:"mb-3 custom-accordian",children:(0,x.jsx)(q.A,{children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{className:"py-0",children:["Package Items - Non Alcoholic \xa0",(0,x.jsxs)("span",{className:"selected-count",children:["( ",U.length,"/",L.length," )"]})]}),(0,x.jsx)(q.A.Body,{children:f?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"txt-primary"})}):(0,x.jsx)("div",{className:"row",children:L.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3 form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input fb-package-check",checked:C.map((e=>{let{beveragePackageItemId:s}=e;return s})).includes(e.beveragePackageItemId),onChange:s=>R(s,e),disabled:!h,id:"checkbox-".concat(e.beveragePackageItemId)}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"checkbox-".concat(e.beveragePackageItemId),children:e.drinkName})]})},s)))})})]})})})]}),C.length>0&&(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table ",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEM NAME"}),(0,x.jsx)("th",{className:"count-width-col text-center",children:"COUNT"})]})}),(0,x.jsx)("tbody",{children:C.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:e.liquorTypeId?e.liquorType+" "+e.drinkName:e.drinkName}),(0,x.jsx)("td",{className:"text-center",children:s===Q.O.action.read?e.count:(0,x.jsx)("div",{className:"add-on-count",children:(0,x.jsxs)("div",{className:"inc-dec-container",children:[(0,x.jsx)("div",{role:e.count>1?"button":"none",onClick:()=>e.count>1&&M("dec",e.beveragePackageItemId),children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:e.count}),(0,x.jsx)("div",{role:"button",onClick:()=>M("inc",e.beveragePackageItemId),children:(0,x.jsx)(u.FW,{})})]})})})]})))})]}),(0,x.jsx)(Fi,{show:k,handleClose:()=>S(!1),onSubmitClick:async()=>{try{S(!1),P(!0);const{venueBeveragePackageName:e,beveragePreferenceId:s,venueBeveragePackageAmount:t,venueBeveragePackageId:l=0}=N;let r={venueBeveragePackageId:l,venueBeveragePackageName:e,beveragePreferenceId:s,venueBeveragePackageAmount:t,venueDetailId:d.venueId,venueBeveragePackageItemMapDTO:C.map((e=>{let{beverageTypeId:s,liquorTypeId:a,count:t,beverageDrinkItemId:l,beveragePackageItemId:n}=e;return{beverageTypeId:s,liquorTypeId:a,count:t,beverageDrinkItemId:l,beveragePackageItemId:n}}))};const m=await c.addFBPackageBeverage(d.venueId,r),{detail:u,title:h}=m;h===o.A.success&&(n?B(n):(B(u),i(u)),a(Q.O.action.read))}catch(e){r.oR.error(e.message)}finally{P(!1)}},onDiscardClick:()=>S(!1)})]})},Xi=e=>{let{operationAction:s,setOperationAction:a,setSearchText:n,searchText:i,showFilter:d,setShowFilter:u,loadingData:h,setLoadingData:v}=e;const j=(0,l.g)(),[p,g]=(0,t.useState)("");(0,t.useState)(!0);const[N,b]=(0,t.useState)([{}]);(0,t.useEffect)((()=>{f()}),[]),(0,t.useEffect)((()=>{s===Q.O.action.list&&(v(!0),f(),g(""))}),[s]);const f=async()=>{try{const e=await c.getFBPackageBeverageItemList(j.venueId),{title:s,data:t}=e;s===o.A.success&&t.length?(a(Q.O.action.list),b(t)):a(Q.O.action.zero)}catch(e){r.oR.error(e.message)}finally{v(!1)}};return(0,x.jsx)("div",{className:"h-100",children:h?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsxs)(x.Fragment,{children:[s===Q.O.action.zero&&(0,x.jsx)(_i,{setOperationAction:a}),s===Q.O.action.list&&(0,x.jsx)(Zi,{setSelectedBId:g,beverageTableData:N,reLoadData:f,setOperationAction:a,operationAction:s,searchText:i,setSearchText:n,showFilter:d,setShowFilter:u}),(s===Q.O.action.read||s===Q.O.action.edit)&&(0,x.jsx)(Ji,{setSelectedBId:g,selectedBId:p,setOperationAction:a,operationAction:s})]})})},_i=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Beverage Packages"}),(0,x.jsx)("p",{className:"description-18",children:"Start creating packages as per your needs. You can modify them later too."}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 px-3 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Create New"})]})})]})})},$i=e=>{var s;let{show:a,handleClose:l,onApplyClick:n,maxPrice:i}=e;const[d,c]=(0,t.useState)({}),{venueDetailsObject:r}=(0,t.useContext)(wi),{alcoholicBeverageId:o}=r,m=e=>{const{value:s,name:a}=e.target,t={...d};s?t[a]=s:delete t[a],c(t)},[u,h,v,j]=Q.O.FoodType.list;let p=null===(s=r.foodPreferenceIds)||void 0===s?void 0:s.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e}))));return r.foodPreferenceIds.includes(Q.O.FoodType.value.Veg)&&r.foodPreferenceIds.includes(Q.O.FoodType.value.NonVeg)&&p.push(v),(0,x.jsxs)(z.A,{show:a,onHide:l,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(d)},children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(oe.A,{customCss:"filter-form",showClearButton:!0,dataSource:p,placeholder:"Food Preference",onChange:m,value:d.foodPreferenceId,name:"foodPreferenceId"})}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(oe.A,{customCss:"filter-form",showClearButton:!0,dataSource:o===Q.O.alcoholicBeverages.value.Available?Q.O.beveragePreference.list:[{text:"Non-Alcoholic",value:2}],placeholder:"Beverage Preference",onChange:m,value:d.beveragePreferenceId,name:"beveragePreferenceId"})}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("div",{className:"acc-label",children:"Price Range"}),(0,x.jsx)("div",{className:"px-3",children:(0,x.jsx)(Vt,{name:"priceRange",min:0,max:i||1e3,change:e=>{var s;const a={...d};"0,0"===(null===(s=e.value)||void 0===s?void 0:s.join(","))?delete a.priceRange:a.priceRange=e.value,c(a)},value:d.priceRange})})]})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsx)("div",{className:"d-flex d-flex align-items-center justify-content-end w-100",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{role:"button",className:"btn-34 btn txt-primary me-3",onClick:e=>{e.preventDefault(),c({}),n({})},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-34 btn-primary",type:"submit",children:"Apply"})]})})})]})})]})},ed=e=>{let{foodBeverageTableData:s=[],setOperationAction:a,setSelectedFBId:l,reLoadData:n,searchText:i,setSearchText:d,showFilter:m,setShowFilter:u}=e;const[h,v]=(0,t.useState)([]),[j,p]=(0,t.useState)([]),{permissions:g}=(0,t.useContext)(wi);(0,t.useEffect)((()=>{v([...s])}),[s]);const N=(0,t.useMemo)((()=>Math.max(...h.map((e=>e.venueFoodBeveragePackageAmount)))),[h]);return(0,x.jsxs)("div",{className:"h-100",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table custom-hover",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"CODE"}),(0,x.jsx)("th",{children:"Category"}),(0,x.jsx)("th",{children:"NAME"}),(0,x.jsx)("th",{children:"FOOD PREFERENCE"}),(0,x.jsx)("th",{children:"BEVERAGE PREFERENCE"}),(0,x.jsx)("th",{children:"Item Count"}),(0,x.jsx)("th",{children:"PRICE/PERSON"}),(0,x.jsx)("th",{children:"STATUS"})]})}),(0,x.jsx)("tbody",{children:h.filter((e=>{const s=Object.keys(j);return 0===s.length||s.every((s=>{if("priceRange"===s){var a,t;const l=(null===(a=j[s])||void 0===a?void 0:a[0])||0,n=(null===(t=j[s])||void 0===t?void 0:t[1])||N;return e.venueFoodBeveragePackageAmount>=l&&e.venueFoodBeveragePackageAmount<=n}return j[s]===e[s]}))})).filter((e=>!i.length||(e.venueFoodBeveragePackageName.toLowerCase().includes(i)||e.venueFoodBeveragePackageCode.toLowerCase().includes(i)||e.venueFoodBeveragePackageAmount==i))).map((e=>(0,x.jsxs)("tr",{onClick:()=>{l(e.venueFoodBeveragePackageId),a(Q.O.action.read)},children:[(0,x.jsx)("td",{className:"text-nowrap",role:"button",children:e.venueFoodBeveragePackageCode}),(0,x.jsx)("td",{className:"text-nowrap",children:e.venueFoodBeveragePackageCategory}),(0,x.jsx)("td",{className:"text-nowrap",children:e.venueFoodBeveragePackageName}),(0,x.jsx)("td",{className:"text-nowrap",children:Q.O.FoodType.text[e.foodPreferenceId]}),(0,x.jsx)("td",{className:"text-nowrap",children:Q.O.beveragePreference.text[e.beveragePreferenceId]||"-"}),(0,x.jsx)("td",{children:e.venueFoodBeveragePackageItemMapDTO.length}),(0,x.jsxs)("td",{children:["\u20b9\xa0",e.venueFoodBeveragePackageAmount,"/-"]}),(0,x.jsx)("td",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,x.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[1===e.venueFoodBeveragePackageStatusId&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),2===e.venueFoodBeveragePackageStatusId&&(0,x.jsx)("span",{className:"inactive-text",children:"InActive"}),3===e.venueFoodBeveragePackageStatusId&&(0,x.jsx)("span",{className:"deleted-text",children:"Deleted"}),(0,x.jsx)(ut,{select:s=>(async(e,s)=>{let{venueFoodBeveragePackageId:a}=s;const{id:t}=e.item.properties;try{let e={id:a,statusId:t};const s=await c.updateFoodBeveragePackageStatus(e),{detail:l,message:i,title:d,data:r}=s;d===o.A.success&&n()}catch(l){r.oR.error(l.message)}})(s,e),cssClass:"e-caret-hide e-round-corner",items:2===e.venueFoodBeveragePackageStatusId?[null!==g&&void 0!==g&&g.canActive?{id:1,text:"Mark as Active",iconCss:"css-in-active-icon"}:{}]:[null!==g&&void 0!==g&&g.canInActive?{id:2,text:"Mark as Inactive",iconCss:"css-in-active-icon"}:{}]})]})})]})))})]}),(0,x.jsx)($i,{maxPrice:N,show:m,handleClose:()=>u(!1),onApplyClick:e=>{if(p(e),u(!1),Object.keys(e).length){let s=document.getElementById("fbPackageFilter");s.classList.remove("d-none"),s.classList.add("d-flex"),s.innerHTML=Object.keys(e).length}else{document.getElementById("fbPackageFilter").classList.add("d-none")}}})]})},sd=e=>{var s;let{operationAction:a,setOperationAction:n,selectedFBId:i,setSelectedFBId:d}=e;const h=(0,l.g)(),v=a===Q.O.action.edit,{venueDetailsObject:j,permissions:p}=(0,t.useContext)(wi),{alcoholicBeverageId:g,isVenueDeleted:N}=j,[b,f]=(0,t.useState)({}),[y,A]=(0,t.useState)([]),[I,C]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!0),[S,D]=(0,t.useState)([]),[T,O]=(0,t.useState)(!0),[P,B]=(0,t.useState)([]),[F,E]=(0,t.useState)([]),[R,M]=(0,t.useState)(!1),[Y,L]=(0,t.useState)(!0),[V,U]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const{venueFoodBeveragePackageName:e,venueFoodBeveragePackageCategoryId:s,foodPreferenceId:a,beveragePreferenceId:t,venueFoodBeveragePackageAmount:l}=b;F.length>0&&e&&s&&a&&t&&l?L(!1):L(!0)}),[F,b]),(0,t.useEffect)((()=>{G(),z(),W()}),[]),(0,t.useEffect)((()=>{i&&H(i)}),[]),(0,t.useEffect)((()=>{const e=(null===b||void 0===b?void 0:b.venueFoodBeveragePackageItemMapDTO)||[];if(e.length>0&&P.length>0&&S.length>0){let s=[];e.forEach((e=>{let{venueFoodPackageItemId:a,beveragePackageItemId:t,count:l}=e;if(a){let e=P.find((e=>e.venueFoodPackageItemId===a))||{};s.push({...e,count:l,tempId:(0,ta.A)()})}if(t){let e=S.find((e=>e.beveragePackageItemId===t))||{};s.push({...e,count:l,tempId:(0,ta.A)()})}})),E(s)}}),[P,S,null===b||void 0===b?void 0:b.venueFoodPackageItemMapDTO]);const H=async e=>{try{const s=await c.getFoodBeveragePackageByFoodBeveragePackageId(e),{title:a,data:t}=s;if(a===o.A.success){const{venueFoodBeveragePackageId:e,venueFoodBeveragePackageName:s,venueFoodBeveragePackageCategoryId:a,foodPreferenceId:l,beveragePreferenceId:n,venueFoodBeveragePackageAmount:i,venueFoodBeveragePackageItemMapDTO:d,venueFoodBeveragePackageCode:c}=t[0];f({venueFoodBeveragePackageId:e,venueFoodBeveragePackageName:s,venueFoodBeveragePackageCategoryId:a,foodPreferenceId:l,beveragePreferenceId:n,venueFoodBeveragePackageAmount:i,venueFoodBeveragePackageCode:c,venueFoodBeveragePackageItemMapDTO:d})}}catch(s){r.oR.error(s.message)}},W=async()=>{try{C(!0);const e=await c.getFoodPackageCategory(),{title:s,data:a=[]}=e;s===o.A.success&&A(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{C(!1)}},z=async()=>{try{O(!0);const e=await c.getFoodPackageItemListById(h.venueId),{detail:s,message:a,title:t,data:l=[]}=e;t===o.A.success&&B(l)}catch(e){r.oR.error(e.message)}finally{O(!1)}},G=async()=>{try{k(!0);const e=await c.getBeveragePackageItemList(h.venueId),{title:s,data:a}=e;s===o.A.success&&D(a)}catch(e){r.oR.error(e.message)}finally{k(!1)}},K=e=>{const{value:s,name:a}=e.target,t={...b};t[a]=s,f(t)},Z=(e,s,a)=>{const{checked:t}=e.target;let l=[...F];t?l.push({...s,count:1,venueFoodPackageItemMapId:0,tempId:(0,ta.A)()}):l=a?l.filter((e=>{let{venueFoodPackageItemId:a}=e;return a!==s.venueFoodPackageItemId})):l.filter((e=>{let{beveragePackageItemId:a}=e;return a!==s.beveragePackageItemId})),E(l)},J=(e,s)=>{E(F.map((a=>a.tempId===s?{...a,count:"inc"===e?a.count+1:a.count-1}:a)))},X=S.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.Alcoholic)),_=S.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.NonAlcoholic)),$=F.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.Alcoholic)),ee=F.filter((e=>e.beverageTypeId===Q.O.beveragePreference.value.NonAlcoholic)),se=P.filter((e=>{let{foodPreferenceId:s}=e;return b.foodPreferenceId===Q.O.FoodType.value.VegNonVeg?Q.O.FoodType.value.Veg===s||Q.O.FoodType.value.NonVeg===s:b.foodPreferenceId===Q.O.FoodType.value.Veg?Q.O.FoodType.value.Veg===s:b.foodPreferenceId===Q.O.FoodType.value.NonVeg?Q.O.FoodType.value.NonVeg===s:b.foodPreferenceId===Q.O.FoodType.value.Vegan?Q.O.FoodType.value.Vegan===s:void 0})),[ae,te,le,ne]=Q.O.FoodType.list;let ie=null===(s=j.foodPreferenceIds)||void 0===s?void 0:s.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e}))));j.foodPreferenceIds.includes(Q.O.FoodType.value.Veg)&&j.foodPreferenceIds.includes(Q.O.FoodType.value.NonVeg)&&ie.push(le);const de=F.filter((e=>{let{venueFoodPackageItemId:s}=e;return s}));return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"title-wrapper mb-3",children:[(0,x.jsx)("h4",{children:"Food + Beverage Package"}),(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:v?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 btn-34",onClick:()=>{n(Q.O.action.read),i?(H(i),n(Q.O.action.read)):n(Q.O.action.list)},children:"Discard"}),(0,x.jsxs)("button",{disabled:Y,className:"btn btn-primary btn-34",onClick:()=>M(!0),children:[V&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold btn-34",onClick:()=>n(Q.O.action.list),children:"Back"}),(null===p||void 0===p?void 0:p.canEdit)&&(0,x.jsx)(x.Fragment,{children:!N&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 ms-3",onClick:()=>n(Q.O.action.edit),children:"Edit Details"})})]})})]}),(0,x.jsx)("div",{className:v?"":"readonly-form",children:(0,x.jsxs)("div",{className:"row error-boundary",children:[(0,x.jsxs)("div",{className:"col-md-2 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Code"}),(0,x.jsx)("label",{className:"txt-dark fw-bold mt-1 d-block",children:b.venueFoodBeveragePackageCode||"FB-New"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Food Package Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"venueFoodBeveragePackageName",value:b.venueFoodBeveragePackageName,onChange:K,readOnly:!v})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Category *"}),(0,x.jsx)(oe.A,{readonly:!v,dataSource:y,placeholder:"Select category",onChange:K,value:b.venueFoodBeveragePackageCategoryId,name:"venueFoodBeveragePackageCategoryId"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Food Preference *"}),(0,x.jsx)(oe.A,{readonly:!v,dataSource:ie,placeholder:"Select category",onChange:K,value:b.foodPreferenceId,name:"foodPreferenceId"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Beverage Preference *"}),(0,x.jsx)(oe.A,{readonly:!v,dataSource:g===Q.O.alcoholicBeverages.value.Available?Q.O.beveragePreference.list:[{text:"Non-Alcoholic",value:2}],placeholder:"Select category",onChange:e=>{E([]),K(e)},value:b.beveragePreferenceId,name:"beveragePreferenceId"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Price *"}),v?(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"venueFoodBeveragePackageAmount",placeholder:"Enter Amount per person",value:b.venueFoodBeveragePackageAmount,onChange:K,readOnly:!v}):(0,x.jsxs)("div",{className:"py-1",children:["\u20b9 ",b.venueFoodBeveragePackageAmount," ","\xa0\xa0\xa0 per person"]})]})]})}),v&&(0,x.jsxs)(x.Fragment,{children:[b.foodPreferenceId&&(0,x.jsx)("div",{className:"mb-3 custom-accordian",children:(0,x.jsx)(q.A,{children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{className:"py-0",children:["Package Items \xa0",(0,x.jsxs)("span",{className:"selected-count",children:["(",de.length,"/",se.length," )"]})]}),(0,x.jsx)(q.A.Body,{children:T?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"txt-primary"})}):se.length>0?(0,x.jsx)("div",{className:"row",children:se.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3 form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input fb-package-check",checked:F.map((e=>{let{venueFoodPackageItemId:s}=e;return s})).includes(e.venueFoodPackageItemId),onChange:s=>Z(s,e,!0),disabled:!v,id:"food-checkbox-".concat(s)}),(0,x.jsxs)("label",{className:"form-check-label",htmlFor:"food-checkbox-".concat(s),children:[e.venueFoodItemTypeName,"\xa0"," ",b.foodPreferenceId===Q.O.FoodType.value.VegNonVeg&&Q.O.FoodType.text[e.foodPreferenceId]]})]})},s)))}):(0,x.jsx)("div",{className:"text-center py-4",children:"No Record Found"})})]})})}),(b.beveragePreferenceId===Q.O.beveragePreference.value.Alcoholic||b.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic)&&(0,x.jsx)("div",{className:"mb-3 custom-accordian",children:(0,x.jsx)(q.A,{children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{className:"py-0",children:["Package Items - Alcoholic \xa0",(0,x.jsxs)("span",{className:"selected-count",children:["( ",$.length,"/",X.length," )"]})]}),(0,x.jsx)(q.A.Body,{children:w?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"txt-primary"})}):(0,x.jsx)("div",{className:"row",children:X.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3 form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input fb-package-check",checked:F.map((e=>{let{beveragePackageItemId:s}=e;return s})).includes(e.beveragePackageItemId),onChange:s=>Z(s,e,!1),disabled:!v,id:"a-checkbox-".concat(e.beveragePackageItemId)}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"a-checkbox-".concat(e.beveragePackageItemId),children:e.liquorType+" "+e.drinkName})]})},s)))})})]})})}),(b.beveragePreferenceId===Q.O.beveragePreference.value.NonAlcoholic||b.beveragePreferenceId===Q.O.beveragePreference.value.AlcoholicNonAlcoholic)&&(0,x.jsx)("div",{className:"mb-3 custom-accordian",children:(0,x.jsx)(q.A,{children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{className:"py-0",children:["Package Items - Non Alcoholic \xa0",(0,x.jsxs)("span",{className:"selected-count",children:["( ",ee.length,"/",_.length," )"]})]}),(0,x.jsx)(q.A.Body,{children:w?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"txt-primary"})}):(0,x.jsx)("div",{className:"row",children:_.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3 form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input fb-package-check",checked:F.map((e=>{let{beveragePackageItemId:s}=e;return s})).includes(e.beveragePackageItemId),onChange:s=>Z(s,e,!1),disabled:!v,id:"a-non-checkbox-".concat(e.beveragePackageItemId)}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"a-non-checkbox-".concat(e.beveragePackageItemId),children:e.liquorTypeId?e.liquorType+" "+e.drinkName:e.drinkName})]})},s)))})})]})})})]}),F.length>0&&(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEM NAME"}),(0,x.jsx)("th",{className:"count-width-col text-center",children:"COUNT"})]})}),(0,x.jsx)("tbody",{children:F.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[e.venueFoodPackageItemId&&(0,x.jsxs)(x.Fragment,{children:[e.venueFoodItemTypeName,"\xa0"," ",b.foodPreferenceId===Q.O.FoodType.value.VegNonVeg&&Q.O.FoodType.text[e.foodPreferenceId]]}),e.beveragePackageItemId&&(0,x.jsx)(x.Fragment,{children:e.liquorTypeId?e.liquorType+" "+e.drinkName:e.drinkName})]}),(0,x.jsx)("td",{className:"text-center",children:a===Q.O.action.read?e.count:(0,x.jsx)("div",{className:"add-on-count",children:(0,x.jsxs)("div",{className:"inc-dec-container",children:[(0,x.jsx)("div",{role:e.count>1?"button":"none",onClick:()=>e.count>1&&J("dec",e.tempId),children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:e.count}),(0,x.jsx)("div",{role:"button",onClick:()=>J("inc",e.tempId),children:(0,x.jsx)(u.FW,{})})]})})})]})))})]}),(0,x.jsx)(Fi,{show:R,handleClose:()=>M(!1),onSubmitClick:async()=>{try{M(!1),U(!0);const{venueFoodBeveragePackageName:e,foodPreferenceId:s,beveragePreferenceId:a,venueFoodBeveragePackageCategoryId:t,venueFoodBeveragePackageAmount:l,venueFoodBeveragePackageId:r}=b;let m={venueFoodBeveragePackageId:r||0,venueFoodBeveragePackageName:e,foodPreferenceId:s,beveragePreferenceId:a,venueFoodBeveragePackageCategoryId:t,venueFoodBeveragePackageAmount:l,venueDetailId:h.venueId,venueFoodBeveragePackageItemMapDTO:F.map((e=>{let{count:s,venueFoodPackageItemId:a,beveragePackageItemId:t}=e,l={count:s};return a&&(l.venueFoodPackageItemId=a),t&&(l.beveragePackageItemId=t),l}))};const u=await c.addFBPackageFoodBeverage(h.venueId,m),{detail:x,message:v,title:j}=u;j===o.A.success&&(n(Q.O.action.read),i?H(i):(H(x),d(x)))}catch(e){r.oR.error(e.message)}finally{U(!1)}},onDiscardClick:()=>M(!1)})]})},ad=e=>{let{operationAction:s,setOperationAction:a,setSearchText:n,searchText:i,showFilter:d,setShowFilter:u,loadingData:h,setLoadingData:v}=e;const j=(0,l.g)(),[p,g]=(0,t.useState)(""),[N,b]=(0,t.useState)([]);(0,t.useEffect)((()=>{s===Q.O.action.list&&(v(!0),f(),g(""))}),[s]),(0,t.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=await c.getFBPackageFoodBeverageItemList(j.venueId),{title:s,data:t}=e;s===o.A.success&&t.length?(a(Q.O.action.list),b(t)):a(Q.O.action.zero)}catch(e){r.oR.error(e.message)}finally{v(!1)}};return(0,x.jsx)("div",{className:"h-100",children:h?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsxs)(x.Fragment,{children:[s===Q.O.action.zero&&(0,x.jsx)(td,{setOperationAction:a}),s===Q.O.action.list&&(0,x.jsx)(ed,{setSelectedFBId:g,foodBeverageTableData:N,reLoadData:f,setOperationAction:a,operationAction:s,searchText:i,setSearchText:n,showFilter:d,setShowFilter:u}),(s===Q.O.action.read||s===Q.O.action.edit)&&(0,x.jsx)(sd,{setSelectedFBId:g,selectedFBId:p,setOperationAction:a,operationAction:s})]})})},td=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Food & Beverage Packages"}),(0,x.jsx)("p",{className:"description-18",children:"Start creating packages as per your needs. You can modify them later too."}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Create New"})]})})]})})},ld=e=>{var s;let{show:a,handleClose:l,onApplyClick:n,maxPrice:i}=e;const[d,m]=(0,t.useState)({}),[u,h]=(0,t.useState)([]),[v,j]=(0,t.useState)(!1),{venueDetailsObject:p}=(0,t.useContext)(wi);(0,t.useEffect)((()=>{N()}),[]);const g=e=>{const{value:s,name:a}=e.target,t={...d};s?t[a]=s:delete t[a],m(t)},N=async()=>{try{j(!0);const e=await c.getFoodPackageCategory(),{title:s,data:a=[]}=e;s===o.A.success&&h(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{j(!1)}},[b,f,y,A]=Q.O.FoodType.list;let I=null===(s=p.foodPreferenceIds)||void 0===s?void 0:s.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e}))));return p.foodPreferenceIds.includes(Q.O.FoodType.value.Veg)&&p.foodPreferenceIds.includes(Q.O.FoodType.value.NonVeg)&&I.push(y),(0,x.jsxs)(z.A,{show:a,onHide:l,placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:a&&(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(d)},children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(oe.A,{customCss:"filter-form",showClearButton:!0,dataSource:u,placeholder:"Category",onChange:g,value:d.venueFoodPackageCategoryId,name:"venueFoodPackageCategoryId"})}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(oe.A,{showClearButton:!0,dataSource:I,placeholder:"Food Preference",onChange:g,value:d.foodPreferenceId,name:"foodPreferenceId",customCss:"filter-form"})}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("div",{className:"acc-label",children:"Price Range"}),(0,x.jsx)("div",{className:"px-3",children:(0,x.jsx)(Vt,{name:"priceRange",min:0,max:i||1e3,change:e=>{var s;const a={...d};"0,0"===(null===(s=e.value)||void 0===s?void 0:s.join(","))?delete a.priceRange:a.priceRange=e.value,m(a)},value:d.priceRange})})]})]}),(0,x.jsx)("div",{className:"offcanvas-footer-content",children:(0,x.jsx)("div",{className:"d-flex d-flex align-items-center justify-content-end w-100",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{role:"button",className:"btn-34 txt-primary btn me-3",onClick:e=>{e.preventDefault(),m({}),n({})},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-34 btn-primary",type:"submit",children:"Apply"})]})})})]})})]})},nd=e=>{let{foodTableData:s=[],setOperationAction:a,reLoadData:l,setSelectedFId:n,searchText:i,setSearchText:d,showFilter:m,setShowFilter:u}=e;const[h,v]=(0,t.useState)([]),[j,p]=(0,t.useState)([]),{permissions:g}=(0,t.useContext)(wi);(0,t.useEffect)((()=>{v([...s])}),[s]);const N=(0,t.useMemo)((()=>Math.max(...h.map((e=>e.venueFoodPackageAmount)))),[h]);return(0,x.jsxs)("div",{className:"h-100",children:[(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table custom-hover",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"CODE"}),(0,x.jsx)("th",{children:"CATEGORY"}),(0,x.jsx)("th",{children:"NAME"}),(0,x.jsx)("th",{children:"PREFERENCE"}),(0,x.jsx)("th",{children:"Item Count"}),(0,x.jsx)("th",{children:"PRICE/PLATE"}),(0,x.jsx)("th",{children:"STATUS"})]})}),(0,x.jsx)("tbody",{children:h.filter((e=>{const s=Object.keys(j);return 0===s.length||s.every((s=>{if("priceRange"===s){var a,t;const l=(null===(a=j[s])||void 0===a?void 0:a[0])||0,n=(null===(t=j[s])||void 0===t?void 0:t[1])||N;return e.venueFoodPackageAmount>=l&&e.venueFoodPackageAmount<=n}return j[s]===e[s]}))})).filter((e=>!i.length||(e.venueFoodPackageName.toLowerCase().includes(i)||e.venueFoodPackageCode.toLowerCase().includes(i.toLowerCase())||e.venueFoodPackageAmount==i))).map((e=>(0,x.jsxs)("tr",{onClick:()=>{a(Q.O.action.read),n(e.venueFoodPackageId)},children:[(0,x.jsx)("td",{role:"button",children:e.venueFoodPackageCode}),(0,x.jsx)("td",{children:e.venueFoodPackageCategoryName}),(0,x.jsx)("td",{children:e.venueFoodPackageName}),(0,x.jsx)("td",{children:Q.O.FoodType.text[e.foodPreferenceId]}),(0,x.jsx)("td",{children:e.venueFoodPackageItemMapDTO.length||0}),(0,x.jsxs)("td",{children:["\u20b9",e.venueFoodPackageAmount,"/-"]}),(0,x.jsx)("td",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,x.jsxs)("div",{className:"d-flex flex-row align-items-center gap-2",children:[1===e.venueFoodPackageStatusId&&(0,x.jsx)("span",{className:"active-text",children:"Active"}),2===e.venueFoodPackageStatusId&&(0,x.jsx)("span",{className:"inactive-text",children:"InActive"}),(0,x.jsx)(ut,{select:s=>(async(e,s)=>{let{venueFoodPackageId:a}=s;const{id:t}=e.item.properties;try{let e={foodPackageID:a,foodPackageStatusId:t};const s=await c.updateFoodPackageStatus(e),{detail:n,message:i,title:d}=s;d===o.A.success&&l()}catch(n){r.oR.error(n.message)}})(s,e),cssClass:"e-caret-hide e-round-corner",items:1===e.venueFoodPackageStatusId?[null!==g&&void 0!==g&&g.canInActive?{id:2,text:"Mark as Inactive",iconCss:"css-in-active-icon"}:{}]:[null!==g&&void 0!==g&&g.canActive?{id:1,text:"Mark as Active",iconCss:"css-in-active-icon"}:{}]})]})})]})))})]}),(0,x.jsx)(ld,{show:m,maxPrice:N,handleClose:()=>u(!1),onApplyClick:e=>{if(p(e),u(!1),Object.keys(e).length){let s=document.getElementById("fbPackageFilter");s.classList.remove("d-none"),s.classList.add("d-flex"),s.innerHTML=Object.keys(e).length}else{document.getElementById("fbPackageFilter").classList.add("d-none")}}})]})},id=e=>{var s;let{operationAction:a,setOperationAction:n,selectedFId:i,setSelectedFId:d}=e;const h=(0,l.g)(),v=a===Q.O.action.edit,{venueDetailsObject:j,permissions:p}=(0,t.useContext)(wi),{isVenueDeleted:g}=j,[N,b]=(0,t.useState)({}),[f,y]=(0,t.useState)(!0),[A,I]=(0,t.useState)([]),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)(!0),[D,T]=(0,t.useState)([]),[O,P]=(0,t.useState)(!1),[B,F]=(0,t.useState)(!0),[E,R]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const{venueFoodPackageName:e,venueFoodPackageCategoryId:s,foodPreferenceId:a,venueFoodPackageAmount:t}=N;D.length>0&&e&&s&&a&&t?F(!1):F(!0)}),[D,N]),(0,t.useEffect)((()=>{Y(),L()}),[]),(0,t.useEffect)((()=>{i&&M(i)}),[]),(0,t.useEffect)((()=>{const e=(null===N||void 0===N?void 0:N.venueFoodPackageItemMapDTO)||[];if(e.length>0&&A.length>0){const s=e.map((e=>{let{venueFoodPackageItemId:s}=e;return s}));let a=[];A.forEach((t=>{let l=e.find((e=>{let{venueFoodPackageItemId:s}=e;return t.venueFoodPackageItemId===s}))||{};s.includes(t.venueFoodPackageItemId)&&a.push({...t,count:l.count})})),T(a)}}),[A,null===N||void 0===N?void 0:N.venueFoodPackageItemMapDTO]);const M=async e=>{try{const s=await c.getFoodPackageByFoodId(e),{title:a,data:t}=s;if(a===o.A.success){const{venueFoodPackageId:e,venueFoodPackageName:s,venueFoodPackageCategoryId:a,foodPreferenceId:l,venueFoodPackageAmount:n,venueFoodPackageItemMapDTO:i,venueFoodPackageCode:d}=t[0];b({venueFoodPackageId:e,venueFoodPackageName:s,venueFoodPackageCategoryId:a,foodPreferenceId:l,venueFoodPackageAmount:n,venueFoodPackageCode:d,venueFoodPackageItemMapDTO:i})}}catch(s){r.oR.error(s.message)}},Y=async()=>{try{S(!0);const e=await c.getFoodPackageCategory(),{title:s,data:a=[]}=e;s===o.A.success&&w(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{S(!1)}},L=async()=>{try{y(!0);const e=await c.getFoodPackageItemListById(h.venueId),{title:s,data:a}=e;s===o.A.success&&I(a)}catch(e){r.oR.error(e.message)}finally{y(!1)}},V=e=>{const{value:s,name:a}=e.target,t={...N};t[a]=s,b(t)},U=(e,s)=>{T(D.map((a=>a.venueFoodPackageItemId===s?{...a,count:"inc"===e?a.count+1:a.count-1}:a)))},H=A.filter((e=>{let{foodPreferenceId:s}=e;return N.foodPreferenceId===Q.O.FoodType.value.VegNonVeg?Q.O.FoodType.value.Veg===s||Q.O.FoodType.value.NonVeg===s:N.foodPreferenceId===Q.O.FoodType.value.Veg?Q.O.FoodType.value.Veg===s:N.foodPreferenceId===Q.O.FoodType.value.NonVeg?Q.O.FoodType.value.NonVeg===s:N.foodPreferenceId===Q.O.FoodType.value.Vegan?Q.O.FoodType.value.Vegan===s:void 0})),[W,z,G,K]=Q.O.FoodType.list;let Z=null===(s=j.foodPreferenceIds)||void 0===s?void 0:s.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e}))));return j.foodPreferenceIds.includes(Q.O.FoodType.value.Veg)&&j.foodPreferenceIds.includes(Q.O.FoodType.value.NonVeg)&&Z.push(G),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"title-wrapper mb-3",children:[(0,x.jsx)("h4",{children:"Food Package"}),(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:v?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 btn-34",onClick:()=>{n(Q.O.action.read),i?(M(i),n(Q.O.action.read)):n(Q.O.action.list)},children:"Discard"}),(0,x.jsxs)("button",{disabled:B,className:"btn btn-primary btn-34",onClick:()=>P(!0),children:[E&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(null===p||void 0===p?void 0:p.canEdit)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold btn-34",onClick:()=>n(Q.O.action.list),children:"Back"}),!g&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 ms-3",onClick:()=>n(Q.O.action.edit),children:"Edit Details"})]})})]}),(0,x.jsx)("div",{className:v?"":"readonly-form",children:(0,x.jsxs)("div",{className:"row error-boundary",children:[(0,x.jsxs)("div",{className:"col-md-2 mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Code"}),(0,x.jsx)("label",{className:"txt-dark fw-bold mt-1 d-block",children:N.venueFoodPackageCode||"F-New"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"venueFoodPackageName",value:N.venueFoodPackageName,onChange:V,readOnly:!v})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Package Category *"}),!k&&(0,x.jsx)(oe.A,{readonly:!v,dataSource:C,placeholder:"Select category",onChange:V,value:N.venueFoodPackageCategoryId,name:"venueFoodPackageCategoryId"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Food Preference *"}),(0,x.jsx)(oe.A,{readonly:!v,dataSource:Z,placeholder:"Select category",onChange:e=>{T([]),V(e)},value:N.foodPreferenceId,name:"foodPreferenceId"})]}),(0,x.jsxs)("div",{className:"col mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Price *"}),v?(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"venueFoodPackageAmount",placeholder:"Enter Amount per plate",value:N.venueFoodPackageAmount,onChange:V,readOnly:!v}):(0,x.jsxs)("div",{className:"py-1",children:["\u20b9",N.venueFoodPackageAmount," \xa0 per plate"]})]})]})}),v&&N.foodPreferenceId&&(0,x.jsx)("div",{className:"mb-3 custom-accordian",children:(0,x.jsx)(q.A,{children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{className:"py-0",children:["Package Items \xa0",(0,x.jsxs)("span",{className:"selected-count",children:["( ",D.length,"/",H.length," )"]})]}),(0,x.jsx)(q.A.Body,{children:f?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"txt-primary"})}):H.length>0?(0,x.jsx)("div",{className:"row",children:H.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"mb-3 form-check",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check-input fb-package-check",checked:D.map((e=>{let{venueFoodPackageItemId:s}=e;return s})).includes(e.venueFoodPackageItemId),onChange:s=>((e,s)=>{const{checked:a}=e.target;let t=[...D];a?t.push({...s,count:1}):t=t.filter((e=>{let{venueFoodPackageItemId:a}=e;return a!==s.venueFoodPackageItemId})),T(t)})(s,e),disabled:!v,id:"food-checkbox-".concat(s)}),(0,x.jsxs)("label",{className:"form-check-label",htmlFor:"food-checkbox-".concat(s),children:[e.venueFoodItemTypeName,"\xa0"," ",N.foodPreferenceId===Q.O.FoodType.value.VegNonVeg&&Q.O.FoodType.text[e.foodPreferenceId]]})]})},s)))}):(0,x.jsx)("div",{className:"text-center py-4",children:"No Record Found"})})]})})}),D.length>0&&(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table ",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEM NAME"}),(0,x.jsx)("th",{className:"count-width-col text-center",children:"COUNT"})]})}),(0,x.jsx)("tbody",{children:D.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[e.venueFoodItemTypeName,"\xa0"," ",N.foodPreferenceId===Q.O.FoodType.value.VegNonVeg&&Q.O.FoodType.text[e.foodPreferenceId]]}),(0,x.jsx)("td",{className:"text-center",children:a===Q.O.action.read?e.count:(0,x.jsx)("div",{className:"add-on-count",children:(0,x.jsxs)("div",{className:"inc-dec-container",children:[(0,x.jsx)("div",{role:e.count>1?"button":"none",onDoubleClick:e=>e.stopPropagation(),onClick:s=>{s.stopPropagation(),e.count>1&&U("dec",e.venueFoodPackageItemId)},children:(0,x.jsx)(u.Hs,{})}),(0,x.jsx)("div",{children:e.count}),(0,x.jsx)("div",{role:"button",onDoubleClick:e=>e.stopPropagation(),onClick:s=>{s.stopPropagation(),U("inc",e.venueFoodPackageItemId)},children:(0,x.jsx)(u.FW,{})})]})})})]})))})]}),(0,x.jsx)(Fi,{show:O,handleClose:()=>P(!1),onSubmitClick:async()=>{try{P(!1),R(!0);const{venueFoodPackageName:e,venueFoodPackageCategoryId:s,foodPreferenceId:a,venueFoodPackageAmount:t,venueFoodPackageId:l=0}=N;let r={venueFoodPackageId:l,venueFoodPackageName:e,venueFoodPackageCategoryId:s,venueFoodPackageCategoryName:C.find((e=>e.value===s)).text,foodPreferenceId:a,venueFoodPackageAmount:t,venueDetailId:h.venueId,venueFoodPackageItemMapDTO:D.map((e=>{let{venueFoodItemTypeId:s,venueFoodItemTypeName:a,count:t,foodPreferenceId:l,venueFoodPackageItemId:n}=e;return{venueFoodItemTypeId:s,venueFoodItemTypeName:a+" "+Q.O.FoodType.text[l],count:t,venueFoodPackageItemId:n}}))};const m=await c.addFBPackageFood(h.venueId,r),{detail:u,title:x}=m;x===o.A.success&&(n(Q.O.action.read),i?M(i):(M(u),d(u)))}catch(e){r.oR.error(e.message)}finally{R(!1)}},onDiscardClick:()=>P(!1)})]})},dd=e=>{let{operationAction:s,setOperationAction:a,setSearchText:n,searchText:i,showFilter:d,setShowFilter:u,loadingData:h,setLoadingData:v}=e;const j=(0,l.g)(),[p,g]=(0,t.useState)(""),[N,b]=(0,t.useState)([]);(0,t.useEffect)((()=>{s===Q.O.action.list&&(v(!0),f(),g(""))}),[s]),(0,t.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=await c.getFBPackageFoodItemList(j.venueId),{title:s,data:t}=e;s===o.A.success&&t.length?(a(Q.O.action.list),b(t)):a(Q.O.action.zero)}catch(e){r.oR.error(e.message)}finally{v(!1)}};return(0,x.jsx)("div",{className:"h-100",children:h?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsxs)(x.Fragment,{children:[s===Q.O.action.zero&&(0,x.jsx)(cd,{setOperationAction:a}),s===Q.O.action.list&&(0,x.jsx)(nd,{foodTableData:N,setSelectedFId:g,reLoadData:f,setOperationAction:a,operationAction:s,searchText:i,setSearchText:n,showFilter:d,setShowFilter:u}),(s===Q.O.action.read||s===Q.O.action.edit)&&(0,x.jsx)(id,{setOperationAction:a,operationAction:s,selectedFId:p,setSelectedFId:g})]})})},cd=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Food Packages"}),(0,x.jsx)("p",{className:"description-18",children:"Start creating packages as per your needs. You can modify them later too."}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Create New"})]})})]})})},rd=()=>{const[e,s]=(0,t.useState)(Q.O.action.list),{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a,[i,d]=(0,t.useState)("food"),[c,r]=(0,t.useState)(""),[o,m]=(0,t.useState)(!0),[u,h]=(0,t.useState)(!1);return(0,x.jsxs)("div",{className:"FBPackages",children:[(e===Q.O.action.list||e===Q.O.action.zero)&&(0,x.jsxs)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mb-3",children:[[{id:"food",title:"Food"},{id:"beverage",title:"Beverage"},{id:"foodBeverage",title:"Food + Beverage "}].map(((e,a)=>(0,x.jsx)("li",{className:"nav-item cursor-pointer ",children:(0,x.jsx)("span",{className:"nav-link ".concat(i===e.id?"active":""),onClick:()=>{return a=e.id,r(""),m(!0),s(Q.O.action.list),void d(a);var a},children:e.title})},a))),e!==Q.O.action.zero&&!o&&(0,x.jsxs)("div",{className:"flex-grow-1 action-wrapper d-flex justify-content-end align-items-center mb-3",children:[(0,x.jsxs)("div",{className:"search-wrapper",children:[(0,x.jsx)(j.WI,{}),(0,x.jsx)("input",{type:"text",placeholder:"Search",onChange:e=>r(e.target.value),value:c})]}),(0,x.jsxs)("button",{className:"btn btn-outline-secondary btn-34 filter-btn ms-3 text-nowrap position-relative",onClick:()=>h(!0),children:[(0,x.jsx)(j.YG,{}),(0,x.jsx)("span",{className:"ms-2",children:"Filter"}),(0,x.jsx)("div",{id:"fbPackageFilter",className:"d-none"})]}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsx)(x.Fragment,{children:!n&&(0,x.jsx)("button",{className:"btn btn-primary btn-34 ms-3 text-nowrap",onClick:()=>s(Q.O.action.edit),children:"Add Package"})})]})]}),(0,x.jsxs)("div",{className:"custom-tab-content-data h-100",children:["food"===i&&(0,x.jsx)(dd,{showFilter:u,setShowFilter:h,operationAction:e,setOperationAction:s,searchText:c,setSearchText:r,loadingData:o,setLoadingData:m}),"beverage"===i&&(0,x.jsx)(Xi,{showFilter:u,setShowFilter:h,operationAction:e,setOperationAction:s,searchText:c,setSearchText:r,loadingData:o,setLoadingData:m}),"foodBeverage"===i&&(0,x.jsx)(ad,{showFilter:u,setShowFilter:h,operationAction:e,setOperationAction:s,searchText:c,setSearchText:r,loadingData:o,setLoadingData:m})]})]})},od=e=>{let{beverageItems:s=[],operationAction:a,setOperationAction:n,reload:i}=e,d=a===Q.O.action.edit;const u=(0,l.g)(),{venueDetailsObject:h,permissions:v}=(0,t.useContext)(wi),{alcoholicBeverageId:p}=h,[g,N]=(0,t.useState)([]),[b,f]=(0,t.useState)(!0),[y,A]=(0,t.useState)([]),[I,C]=(0,t.useState)([]),[w,k]=(0,t.useState)(!1),[S,D]=(0,t.useState)(!1),[T,O]=(0,t.useState)(!0),q=y.every((e=>{let{beverageTypeId:s,beverageDrinkItemId:a,amount:t=0}=e;return s&&a&&t>=0}));(0,t.useEffect)((()=>{0===s.length?P():A(s.map((e=>({...e,id:(0,ta.A)()}))))}),[s]),(0,t.useEffect)((()=>{let e=!0;y.forEach((s=>{let{beverageTypeId:a,beverageDrinkItemId:t,amount:l}=s;(a||t||l)&&(e=!1)})),y.length>0&&(e=!1),O(e)}),[y]),(0,t.useEffect)((()=>{B()}),[]);const P=()=>{A(Array(10).fill().map((()=>({id:(0,ta.A)()}))))},B=async()=>{try{f(!0);const e=await c.getBeverageDrinkItemList(),{title:s,data:a}=e;s===o.A.success&&N(a.map((e=>{let{title:s,id:a}=e;return{text:s,value:a}})))}catch(e){r.oR.error(e.message)}finally{f(!1)}},F=(e,s)=>{const{name:a,value:t}=e.target,l=[...y];l[s][a]=t,A(l)};return(0,x.jsxs)("div",{className:"h-100",children:[d&&(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,x.jsx)("h6",{className:"mb-0 tab-title",children:"Beverage Package Item"})," ",(0,x.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 btn-34",role:"button",onClick:()=>{s.length?(n(Q.O.action.read),A(s.map((e=>({...e,id:(0,ta.A)()}))))):n(Q.O.action.zero)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34",onClick:()=>{(()=>{const e=[];let s=!0;return y.forEach((s=>{(!s.beverageDrinkItemId&&s.beverageTypeId||s.beverageDrinkItemId&&!s.beverageTypeId)&&e.push(s.id),s.beverageTypeId===Q.O.beveragePreference.value.Alcoholic&&(s.liquorTypeId||e.push(s.id))})),e.length?(C(e),s=!1):C([]),s})()&&k(!0)},disabled:T,children:[S&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)(Rs.A,{className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"BEVERAGE TYPE"}),(0,x.jsx)("th",{children:"LIQUOR TYPE"}),(0,x.jsx)("th",{children:"PACKAGE ITEMS"}),(0,x.jsx)("th",{children:"ADD ON COST/PERSON"}),d&&(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{children:d?y.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"beverage-liquor-package-item-width",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(I.includes(e.id)?"invalid":""),dataSource:p===Q.O.alcoholicBeverages.value.Available?[{text:"Alcoholic",value:1},{text:"Non-Alcoholic",value:2}]:[{text:"Non-Alcoholic",value:2}],placeholder:"Select Beverage type",onChange:e=>F(e,s),value:e.beverageTypeId,name:"beverageTypeId"})})}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"beverage-liquor-package-item-width",children:e.beverageTypeId===Q.O.beveragePreference.value.Alcoholic?(0,x.jsx)(oe.A,{customCss:"bordered ".concat(I.includes(e.id)?"invalid":""),dataSource:Q.O.liquorType.list,placeholder:"Select category",onChange:e=>F(e,s),value:e.liquorTypeId,name:"liquorTypeId"}):"-"})}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"beverage-liquor-package-item-width",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(I.includes(e.id)?"invalid":""),dataSource:g,placeholder:"Select category",onChange:e=>F(e,s),value:e.beverageDrinkItemId,name:"beverageDrinkItemId"})})}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"item-cost cost-input-field",children:[(0,x.jsx)(j.XW,{}),(0,x.jsx)("input",{type:"number",className:"form-control form-control-sm ms-1",placeholder:"Enter Amount",name:"amount",value:e.amount,onChange:e=>F(e,s)})]})}),(0,x.jsx)("td",{className:"delete-col",children:(null===v||void 0===v?void 0:v.canDelete)&&(0,x.jsx)(x.Fragment,{children:1!==y.length||e.beverageTypeId||e.beverageDrinkItemId||e.amount?(0,x.jsx)("span",{role:"button",onClick:()=>(e=>{let s=y.filter((s=>s.id!==e));s.length?A([...s]):A([{id:(0,ta.A)()}])})(e.id),children:(0,x.jsx)(j.s8,{})}):(0,x.jsx)(j.w$,{})})})]},e.id))):y.map((e=>{var s;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:Q.O.beveragePreference.text[e.beverageTypeId]||"-"}),(0,x.jsx)("td",{children:e.beverageTypeId===Q.O.beveragePreference.value.Alcoholic&&Q.O.liquorType.text[e.liquorTypeId]||"-"}),(0,x.jsx)("td",{children:(null===(s=g.find((s=>s.value===e.beverageDrinkItemId)))||void 0===s?void 0:s.text)||"-"}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:["\u20b9\xa0",e.amount||"0"]})}),(null===v||void 0===v?void 0:v.canDelete)&&(0,x.jsx)(x.Fragment,{children:d&&(0,x.jsx)("td",{className:"delete-col",children:!e.beverageTypeId&&!e.beverageDrinkItemId&&!e.amount&&(0,x.jsx)(j.w$,{})})})]},e.id)}))})]})}),(null===v||void 0===v?void 0:v.canAdd)&&(0,x.jsx)(x.Fragment,{children:d&&(0,x.jsx)("div",{role:"button",className:"d-flex align-items-center mt-2 add-new-data-btn ".concat(q?"txt-success":"txt-secondary"),onClick:()=>{q&&A([...y,{id:(0,ta.A)()}])},children:(0,x.jsx)("span",{className:"ms-1 fw-bold",children:" + Add New"})})})]}),(0,x.jsx)(Fi,{show:w,handleClose:()=>k(!1),onSubmitClick:async()=>{try{k(!1),D(!0);let e=y.filter((e=>{let{beverageDrinkItemId:s,beverageTypeId:a}=e;return s&&a})).map((e=>{let{beverageDrinkItemId:s,liquorTypeId:a,beverageTypeId:t,amount:l}=e;return{beverageDrinkItemId:s,beverageTypeId:t,liquorTypeId:a,amount:l||0}}));const s=await c.addBeveragePackageItem(u.venueId,e),{title:a}=s;a===o.A.success&&(i(),n(Q.O.action.read))}catch(e){r.oR.error(e.message)}finally{D(!1)}},onDiscardClick:()=>k(!1)})]})},md=e=>{let{operationAction:s,setOperationAction:a}=e;const n=(0,l.g)(),[i,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0);(0,t.useEffect)((()=>{h(!0),v()}),[]);const v=async()=>{try{const e=await c.getBeveragePackageItemList(n.venueId),{detail:s,message:t,title:l,data:i}=e;l===o.A.success&&i.length?(a(Q.O.action.read),d(i)):(a(Q.O.action.zero),d([]))}catch(e){r.oR.error(e.message)}finally{h(!1)}};return(0,x.jsx)(x.Fragment,{children:u?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):Q.O.action.zero===s?(0,x.jsx)(ud,{setOperationAction:a}):(0,x.jsx)(od,{reload:v,beverageItems:i,operationAction:s,setOperationAction:a})})},ud=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Beverage Package Item"}),(0,x.jsx)("p",{className:"description-18",children:"Start making your beverage package items by adding manually or by uploading a CSV"}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:[(0,x.jsxs)("button",{disabled:n,className:"btn btn-outline-primary btn-34 add-btn me-3",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary add-btn btn-34",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"txt-primary ms-2 fw-bold",children:"Download Template"})]})]})})},hd=e=>{var s;let{packageItems:a=[],operationAction:n,setOperationAction:i,reload:d}=e,u=n===Q.O.action.edit;const h=(0,l.g)(),{venueDetailsObject:v,permissions:p}=(0,t.useContext)(wi),[g,N]=(0,t.useState)([]),[b,f]=(0,t.useState)([]),[y,A]=(0,t.useState)(!0),[I,C]=(0,t.useState)([]),[w,k]=(0,t.useState)(!1),[S,D]=(0,t.useState)(!1),[T,O]=(0,t.useState)(!0),q=g.every((e=>{let{venueFoodItemTypeId:s,foodPreferenceId:a,amount:t}=e;return s&&a&&t>=0}));(0,t.useEffect)((()=>{B()}),[]),(0,t.useEffect)((()=>{let e=!0;g.forEach((s=>{let{venueFoodItemTypeId:a,foodPreferenceId:t,amount:l=0}=s;(a||t||l)&&(e=!1)})),g.length>=0&&(e=!1),O(e)}),[g]),(0,t.useEffect)((()=>{0===a.length?P():N(a.map((e=>({...e,id:(0,ta.A)()}))))}),[a]);const P=()=>{N(Array(10).fill().map((()=>({id:(0,ta.A)()}))))},B=async()=>{try{A(!0);const e=await c.getFoodItemTypeList(),{title:s,data:a}=e;s===o.A.success&&f(a.map((e=>{let{title:s,id:a}=e;return{text:s,value:a}})))}catch(e){r.oR.error(e.message)}finally{A(!1)}},F=(e,s)=>{const{name:a,value:t}=e.target,l=[...g];l[s][a]=t,N(l)};let E=null===(s=v.foodPreferenceIds)||void 0===s?void 0:s.split(",").map((e=>Q.O.FoodType.list.find((s=>{let{value:a}=s;return a==e}))));return(0,x.jsxs)("div",{className:"h-100",children:[u&&(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,x.jsx)("h6",{className:"mb-0 tab-title",children:"Food Package Items"}),(0,x.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3 btn-34",role:"button",onClick:()=>{a.length?(N(a.map((e=>({...e,id:(0,ta.A)()})))),i(Q.O.action.read)):i(Q.O.action.zero)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34",onClick:()=>{(()=>{let e=[],s=!0;return g.forEach((s=>{(!s.venueFoodItemTypeId&&s.foodPreferenceId||s.venueFoodItemTypeId&&!s.foodPreferenceId)&&e.push(s.id)})),e.length?(C(e),s=!1):C([]),s})()&&k(!0)},disabled:T,children:[S&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,x.jsxs)("div",{className:"table-responsive",children:[(0,x.jsxs)(Rs.A,{className:"simple-table mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"PACKAGE ITEMS"}),(0,x.jsx)("th",{children:"FOOD PREFERENCE"}),(0,x.jsx)("th",{children:"ADD ON COST / PERSON"}),u&&(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{children:u?g.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"food-item-width",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(I.includes(e.id)?"invalid":""),dataSource:b,placeholder:"Select Item",onChange:e=>F(e,s),value:e.venueFoodItemTypeId,name:"venueFoodItemTypeId"})})}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"food-item-width",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(I.includes(e.id)?"invalid":""),dataSource:E,placeholder:"Select Preference",onChange:e=>F(e,s),value:e.foodPreferenceId,name:"foodPreferenceId"})})}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"item-cost cost-input-field",children:[(0,x.jsx)(j.XW,{}),(0,x.jsx)("input",{type:"number",className:"form-control form-control-sm ms-1",placeholder:"Enter Amount",name:"amount",value:e.amount,onChange:e=>F(e,s)})]})}),(0,x.jsx)("td",{className:"delete-col text-center",children:(null===p||void 0===p?void 0:p.canDelete)&&(0,x.jsx)(x.Fragment,{children:1!==g.length||e.venueFoodItemTypeId||e.foodPreferenceId||e.amount?(0,x.jsx)("span",{role:"button",onClick:()=>(e=>{let s=g.filter((s=>s.id!==e));s.length?N([...s]):N([{id:(0,ta.A)()}])})(e.id),children:(0,x.jsx)(j.s8,{})}):(0,x.jsx)(j.w$,{})})})]},e.id))):g.map((e=>{var s;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(null===(s=b.find((s=>s.value===e.venueFoodItemTypeId)))||void 0===s?void 0:s.text)||"-"}),(0,x.jsx)("td",{children:Q.O.FoodType.text[e.foodPreferenceId]||"-"}),(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:["\u20b9\xa0",e.amount||"0"]})})]},e.id)}))})]})," "]}),(null===p||void 0===p?void 0:p.canAdd)&&(0,x.jsx)(x.Fragment,{children:u&&(0,x.jsx)("div",{role:"button",className:"d-flex align-items-center mt-2 add-new-data-btn ".concat(q?"txt-success":"txt-secondary"),onClick:()=>{q&&N([...g,{id:(0,ta.A)()}])},children:(0,x.jsx)("span",{className:"ms-1 fw-bold",children:"+ Add New"})})})]}),(0,x.jsx)(Fi,{show:w,handleClose:()=>k(!1),onSubmitClick:async()=>{try{k(!1),D(!0);let e=g.filter((e=>{let{venueFoodItemTypeId:s,foodPreferenceId:a}=e;return s&&a})).map((e=>{let{venueFoodItemTypeId:s,foodPreferenceId:a,amount:t}=e;return{venueFoodItemTypeId:s,foodPreferenceId:a,amount:t||0}}));const s=await c.addFoodPackageItem(h.venueId,e),{title:a}=s;a===o.A.success&&(d(),i(Q.O.action.read))}catch(e){r.oR.error(e.message)}finally{D(!1)}},onDiscardClick:()=>k(!1)})]})},xd=e=>{let{operationAction:s,setOperationAction:a}=e;const n=(0,l.g)(),[i,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0);(0,t.useEffect)((()=>{h(!0),v()}),[]);const v=async()=>{try{const e=await c.getFoodPackageItemListById(n.venueId),{title:s,data:t}=e;s===o.A.success&&t.length?(a(Q.O.action.read),d(t)):(a(Q.O.action.zero),d([]))}catch(e){r.oR.error(e.message)}finally{h(!1)}};return(0,x.jsx)(x.Fragment,{children:u?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):Q.O.action.zero===s?(0,x.jsx)(vd,{setOperationAction:a}):(0,x.jsx)(hd,{reload:v,packageItems:i,operationAction:s,setOperationAction:a})})},vd=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ea,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Create Food Package Item"}),(0,x.jsx)("p",{className:"description-18 Create Food Package Item",children:"Start making your food package items by adding manually or by uploading a CSV"}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-4",children:[(0,x.jsxs)("button",{className:"btn btn-outline-primary btn-34 add-btn me-3 import-btn",disabled:n,children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center download-template-btn",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"txt-primary ms-2 fw-bold",children:"Download Template"})]})]})})},jd=()=>{const[e,s]=(0,t.useState)("foodPackageItems"),[a,l]=(0,t.useState)(Q.O.action.zero),{venueDetailsObject:n,permissions:i}=(0,t.useContext)(wi);return(0,x.jsxs)("div",{className:"fb-items",children:[(a===Q.O.action.read||a===Q.O.action.zero)&&(0,x.jsxs)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 mb-3",children:[[{id:"foodPackageItems",title:"Food Package Items"},{id:"beveragePackageItems",title:"Beverage Package Items"}].map(((a,t)=>(0,x.jsx)("li",{className:"nav-item cursor-pointer ",children:(0,x.jsx)("a",{className:"nav-link ".concat(e===a.id?"active":""),onClick:()=>{return e=a.id,void s(e);var e},children:a.title})},t))),a!==Q.O.action.zero&&(0,x.jsx)(x.Fragment,{children:!(null!==n&&void 0!==n&&n.isVenueDeleted)&&(0,x.jsx)("div",{className:"d-flex justify-content-end flex-grow-1",children:(0,x.jsxs)("div",{className:"btn-wrapper d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"txt-primary fw-bold me-3 download-template-btn",children:[(0,x.jsx)(j.Lq,{}),(0,x.jsx)("span",{className:"ms-2",children:"Download Template"})," "]}),(0,x.jsxs)("button",{className:"btn btn-outline-primary btn-34 px-3 add-btn me-3 import-btn",children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{children:"Import"})]}),(null===i||void 0===i?void 0:i.canEdit)&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34",onClick:()=>l(Q.O.action.edit),children:"Edit Details"})]})})})]}),(0,x.jsxs)("div",{className:"custom-tab-content-data h-100",children:["foodPackageItems"===e&&(0,x.jsx)(xd,{operationAction:a,setOperationAction:l}),"beveragePackageItems"===e&&(0,x.jsx)(md,{operationAction:a,setOperationAction:l})]})]})},pd=e=>{let{dataList:s=[],operationAction:a,setOperationAction:n,reload:i}=e;const d=(0,l.g)(),{activeStepper:u,setActiveStepper:h,permissions:v}=(0,t.useContext)(wi),p=Q.O.action.read===a,{venueDetailsObject:g}=(0,t.useContext)(wi),{isVenueDeleted:N}=g,[b,f]=(0,t.useState)([]),[y,A]=(0,t.useState)([]),[I,C]=(0,t.useState)(!1),[w,k]=(0,t.useState)([]),[S,D]=(0,t.useState)(!1),[T,O]=(0,t.useState)(!1),[q,P]=(0,t.useState)(!0),B=w.every((e=>{let{rentalTypeId:s,amount:a=0}=e;return s&&parseInt(a)>0}));(0,t.useEffect)((()=>{let e=!0;w.forEach((s=>{let{amount:a,rentalTypeId:t}=s;(a||t)&&(e=!1)})),w.length>=0&&(e=!1),P(e)}),[w]),(0,t.useEffect)((()=>{E()}),[]),(0,t.useEffect)((()=>{0===s.length?F():k(s.map((e=>({...e,tempId:(0,ta.A)()}))))}),[s]);const F=()=>{k(Array(10).fill().map((()=>({tempId:(0,ta.A)()}))))},E=async()=>{try{C(!0);const e=await c.getRentalTypeList(),{title:s,data:a}=e;s===o.A.success&&f(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{C(!1)}},R=(e,s)=>{const{value:a,name:t}=e.target;let l=[...w];l[s][t]=a,k(l)},M=w.map((e=>e.rentalTypeId));return(0,x.jsxs)("div",{className:"venue-rentals",children:[(0,x.jsxs)("div",{className:"top-wrapper mb-4",children:[(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("h6",{className:"tab-title mb-0 me-2",children:"Venue Rentals"})}),(0,x.jsx)("div",{className:"btns-wrapper d-flex align-items-center",children:p?(null===v||void 0===v?void 0:v.canEdit)&&(0,x.jsx)(x.Fragment,{children:!N&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34",onClick:e=>{e.preventDefault(),n(Q.O.action.edit)},children:"Edit details"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 fs-13-px",onClick:e=>{s.length?(k(s.map((e=>({...e,tempId:(0,ta.A)()})))),n(Q.O.action.read)):n(Q.O.action.zero)},children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34 d-flex align-item-center",onClick:()=>{(()=>{const e=[];let s=!0;return w.forEach((s=>{(!s.rentalTypeId&&parseInt(s.amount)>=0||s.rentalTypeId&&!s.amount&&0!==s.amount)&&e.push(s.tempId)})),e.length?(A(e),s=!1):A([]),s})()&&O(!0)},disabled:q,children:[S&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]})})]}),(0,x.jsxs)(Rs.A,{responsive:!0,className:"simple-table",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"RENTAL TYPE"}),(0,x.jsx)("th",{children:"Rates"}),!p&&(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{children:p?w.map(((e,s)=>{var a;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"rental-type-width-col",children:(null===(a=b.find((s=>s.value===e.rentalTypeId)))||void 0===a?void 0:a.text)||"-"})}),(0,x.jsxs)("td",{className:"cost-width-col",children:["\u20b9\xa0",e.amount||"0"]})]},e.tempId)})):w.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"rental-type-width-col",children:(0,x.jsx)(oe.A,{customCss:"bordered ".concat(y.includes(e.tempId)?"invalid":""),dataSource:b.filter((s=>!M.filter((s=>s!==e.rentalTypeId)).includes(s.value))),placeholder:"Select...",onChange:e=>R(e,s),value:e.rentalTypeId,name:"rentalTypeId"})})}),(0,x.jsx)("td",{className:"cost-width-col",children:(0,x.jsxs)("div",{className:"cost-input-field ".concat(y.includes(e.tempId)?"invalid":""),children:[(0,x.jsx)(j.XW,{}),(0,x.jsx)("input",{type:"number",className:"form-control form-control-sm ms-1 ",onChange:e=>R(e,s),value:e.amount,name:"amount"})]})}),(0,x.jsx)("td",{className:"align-middle delete-col-width text-end",children:(null===v||void 0===v?void 0:v.canDelete)&&(0,x.jsx)(x.Fragment,{children:1!==w.length||e.rentalTypeId||e.amount?(0,x.jsx)("span",{role:"button",onClick:()=>(e=>{let s=w.filter((s=>s.tempId!==e));s.length?k([...s]):k([{tempId:(0,ta.A)()}])})(e.tempId),children:(0,x.jsx)(j.s8,{})}):(0,x.jsx)(j.w$,{})})})]},e.tempId)))})]}),(null===v||void 0===v?void 0:v.canAdd)&&(0,x.jsx)(x.Fragment,{children:!p&&(0,x.jsx)("div",{role:"button",className:"d-flex align-items-center mt-2 add-new-data-btn ".concat(B?"txt-success":"txt-secondary"),onClick:()=>{B&&k([...w,{tempId:(0,ta.A)()}])},children:(0,x.jsx)("span",{className:"ms-1 fw-bold",children:"+ Add New"})})}),(0,x.jsx)(Fi,{show:T,handleClose:()=>O(!1),onSubmitClick:()=>(async e=>{try{O(!1),D(!0);let s=e.filter((e=>{let{rentalTypeId:s,amount:a}=e;return s&&(0===a||a)})).map((e=>{let{rentalTypeId:s,amount:a=""}=e;return{rentalTypeId:s,amount:a}}));const a=await c.addVenueRentals(d.venueId,s),{title:t}=a;t===o.A.success&&(d.venueId?i():h(u+1))}catch(s){r.oR.error(s.message)}finally{D(!1)}})(w),onDiscardClick:()=>O(!1)})]})},gd=()=>{const e=(0,l.g)(),[s,a]=(0,t.useState)(Q.O.action.zero),[n,i]=(0,t.useState)(!1),[d,r]=(0,t.useState)([]);(0,t.useEffect)((()=>{e.venueId&&(i(!0),u())}),[]);const u=async()=>{try{const s=await c.getVenueRentalsById(e.venueId),{title:t,data:l=[]}=s;t===o.A.success?0===l.length?(r([]),a(Q.O.action.zero)):(r(l),a(Q.O.action.read)):(r([]),a(Q.O.action.zero))}catch(s){a(Q.O.action.zero)}finally{i(!1)}};return(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):s===Q.O.action.zero?(0,x.jsx)(Nd,{setOperationAction:a}):(0,x.jsx)(pd,{dataList:d,operationAction:s,setOperationAction:a,reload:u})})},Nd=e=>{let{setOperationAction:s}=e;const{venueDetailsObject:a,permissions:l}=(0,t.useContext)(wi),{isVenueDeleted:n}=a;return(0,x.jsx)("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ce,alt:"add-image"}),(0,x.jsx)("h3",{className:"page-heading",children:"Add Venue Rentals"}),(0,x.jsx)("p",{className:"description-18",children:"Start adding Venue details as per your needs. You can modify them later too"}),(null===l||void 0===l?void 0:l.canAdd)&&(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsxs)("button",{disabled:n,className:"btn btn-primary btn-34 add-btn",onClick:()=>s(Q.O.action.edit),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add New"})]})})]})})},bd=()=>{const{venueDetailsObject:e,permissions:s}=(0,t.useContext)(wi),{isVenueDeleted:a}=e,[n,i]=(0,t.useState)([]),[d,u]=(0,t.useState)(""),[h,v]=(0,t.useState)(!1),[p,N]=(0,t.useState)(null),[b,f]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!1),[I,C]=(0,t.useState)(!1),w=(0,l.g)(),[k,S]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),O=(0,t.useRef)(null);(0,t.useEffect)((()=>{q()}),[]);const q=async()=>{f(!0);try{const e=await c.getAmenities(w.venueId),{title:s,data:a}=e;s===o.A.success&&(i(a),0===a.filter(((e,s)=>e.isActive)).length&&v(!0))}catch(e){r.oR.error(e.message)}finally{f(!1)}},P=()=>{v(!h)};return(0,x.jsxs)("div",{className:"h-100",children:[(0,x.jsxs)("div",{className:"title-wrapper mb-3",children:[(0,x.jsx)("h4",{children:"Amenities"}),(0,x.jsx)("div",{className:"btn-wrapper d-flex align-items-center",children:h?(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{role:"button",className:"txt-primary fw-bold me-3 btn-34",onClick:()=>{P(),q()},children:"Discard"}),(0,x.jsxs)("button",{disabled:n.length<1,className:"btn btn-primary btn-34",onClick:()=>C(!0),children:[y&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save Details"]})]}):(null===s||void 0===s?void 0:s.canEdit)&&(0,x.jsx)(x.Fragment,{children:!a&&(0,x.jsx)("button",{className:"btn btn-outline-primary btn-34 ms-3",onClick:P,children:"Edit Details"})})})]}),b?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"selected-wrapper fw-bold mb-3",children:["Selected - ",n.filter((e=>e.isActive)).length,"/",n.length]}),(0,x.jsx)("div",{className:"amenities-middle-wrapper",children:(0,x.jsx)("div",{className:"row",children:h?(0,x.jsxs)(x.Fragment,{children:[n.length>0&&n.map(((e,a)=>(0,x.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 ",onClick:()=>(e=>{if(h&&null===p){const s=[...n];s[e].isActive=!s[e].isActive,i(s)}})(a),onMouseOver:()=>S(a),onMouseOut:()=>S(null),children:(0,x.jsxs)("div",{className:"mb-3 amenity-wrapper ".concat(e.isActive?"active":""," ").concat(k===a&&"amenities-over"),children:[(0,x.jsxs)("div",{className:"d-flex align-items-center edit-input-wrapper",children:[e.isActive?(0,x.jsx)(j.OQ,{}):(0,x.jsx)("div",{className:"uncheked-amenties "}),p===a?(0,x.jsx)("input",{type:"text",className:"ms-3",value:e.title,onChange:e=>((e,s)=>{const a=[...n];a[s].title=e.target.value,i(a)})(e,a),autoFocus:!0,onBlur:()=>N(null),onKeyDown:e=>{"Enter"===e.key&&N(null)}}):(0,x.jsx)("span",{className:"ms-3 bind-text",children:e.title})]}),k===a&&!e.isDefault&&(0,x.jsxs)("div",{className:"actions-wrapper d-flex float-right",children:[(0,x.jsx)("span",{onClick:e=>{e.stopPropagation(),(e=>{N(e)})(a)},children:(0,x.jsx)(j.lg,{})}),(null===s||void 0===s?void 0:s.canDelete)&&(0,x.jsx)("span",{className:"ms-2",onClick:e=>((e,s)=>{e.stopPropagation(),i(n.filter(((e,a)=>s!==a)))})(e,a),children:(0,x.jsx)(j.w0,{})})]})]})},a))),(null===s||void 0===s?void 0:s.canAdd)&&(0,x.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12 ",children:(0,x.jsxs)("div",{className:"add-amenity-wrapper ".concat(D&&"amenities-over"),onClick:e=>{T(!0),O.current.focus()},children:[!D&&(0,x.jsx)(j.Cn,{}),(0,x.jsx)("input",{type:"text",className:"form-control ms-2 add-amenity-input",value:d,onBlur:()=>T(!1),onChange:e=>{u(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&""!==d.trim()&&(i([...n,{title:d,isActive:!0}]),u(""))},placeholder:D?"":"Add New",ref:O})]})})]}):n.filter(((e,s)=>e.isActive)).map(((e,s)=>(0,x.jsx)("div",{className:"col-md-3 col-sm-6 ",children:(0,x.jsx)("div",{className:"mb-3 amenity-wrapper ".concat(e.isActive?"active":""),children:(0,x.jsxs)("div",{className:"d-flex align-items-center edit-input-wrapper  ",children:[(0,x.jsx)(j.OQ,{}),(0,x.jsx)("span",{className:"ms-3 bind-text",children:e.title})]})})},s)))})})]}),(0,x.jsx)(Fi,{show:I,handleClose:()=>C(!1),onDiscardClick:()=>C(!1),onSubmitClick:()=>{C(!1),(async()=>{A(!0);try{const e=await c.addAmenities(w.venueId,n),{title:s}=e;s===o.A.success&&(v(!1),q())}catch(e){r.oR.error(e.message)}finally{A(!1)}})()}})]})},fd=()=>{const e=(0,l.g)(),[s]=(0,t.useState)([{title:"Overview",visibleWhenBookingType:[void 0,"",1,2],content:(0,x.jsx)(Pi,{})},{title:"Time Details",visibleWhenBookingType:[1,2],content:(0,x.jsx)(Ri,{})},{title:"F&B Items",visibleWhenBookingType:[1],content:(0,x.jsx)(jd,{})},{title:"F&B Packages",visibleWhenBookingType:[1],content:(0,x.jsx)(rd,{})},{title:"F&B Menu",visibleWhenBookingType:[1],content:(0,x.jsx)(Gi,{})},{title:"Venue Rentals",visibleWhenBookingType:[2],content:(0,x.jsx)(gd,{})},{title:"Amenities",visibleWhenBookingType:[1,2],content:(0,x.jsx)(bd,{})}]),[a,n]=(0,t.useState)(0),[i,d]=(0,t.useState)({}),[u,h]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e.venueId&&(h(!0),v(e.venueId))}),[]);const v=async e=>{try{const s=await c.getVenueById(e),{title:a,data:t}=s;if(a===o.A.success){const{venueTypeMapDTO:e,venueName:s,venueCategoryIds:a="",bookingTypeId:l,capacity:n,area:i,foodPreferenceIds:c,alcoholicBeverageId:r,venueStatusId:o}=(null===t||void 0===t?void 0:t[0])||{};d({venueName:s,venueCategoryIds:a,bookingTypeId:l,capacity:n,area:i,foodPreferenceIds:c,alcoholicBeverageId:r,venueType:e.map((e=>e.venueTypeId)),isVenueDeleted:o===Q.O.venueStatus.value.Deleted})}}catch(s){r.oR.error(s.message)}finally{h(!1)}},j=U("Account","Add"),p=U("Account","Edit"),g=U("Account","Delete"),N=U("Account","Active"),b=U("Account","InActive");return(0,x.jsx)(wi.Provider,{value:{activeStepper:a,setActiveStepper:n,venueDetailsObject:i,reload:v,permissions:{canAdd:j,canEdit:p,canDelete:g,canActive:N,canInActive:b}},children:(0,x.jsxs)("div",{className:"d-flex h-100",children:[(0,x.jsx)("div",{className:"h-100",children:(0,x.jsx)("div",{className:"h-100",style:{width:"220px",marginRight:"20px"},children:(0,x.jsx)(ki,{stepperList:s.filter((e=>e.visibleWhenBookingType.includes(i.bookingTypeId||"")))})})}),(0,x.jsx)("div",{style:{width:"calc(100% - 240px)"},children:u?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):s.filter((e=>e.visibleWhenBookingType.includes(i.bookingTypeId||""))).filter(((e,s)=>s===a)).map((e=>e.content))})]})})};var yd=a(7518);const Ad=e=>{let{handleChange:s,...a}=e;return(0,x.jsx)("div",{className:"time-picker",children:(0,x.jsx)(yd.f,{onChange:s,id:"timepicker",placeholder:"Select a Time",...a})})};S().extend(J());const Id=e=>{let{readable:s,minDateTime:a="",value:l,...n}=e;const[i,d]=(0,t.useState)(!1),[c,r]=a?null===a||void 0===a?void 0:a.split(" | "):["",""];return(0,x.jsx)(K.A,{onPickerValueChange:e=>d(e.date()===S()(a,"DD-MM-YYYY | hh:mm A").date()),disabledTime:i?()=>{const[e,s]=(null===r||void 0===r?void 0:r.split(" "))||["",""];let[a,t]=e.split(":").map(Number);return"PM"===s&&12!==a?a+=12:"AM"===s&&12===a&&(a=0),59===t?(a+=1,t=0):t+=1,{disabledHours:()=>Array.from({length:a},((e,s)=>s)),disabledMinutes:e=>e===a?Array.from({length:t},((e,s)=>s)):[]}}:void 0,disabledDate:e=>c?e&&e<S()(c,"DD-MM-YYYY").startOf("day"):e&&e<S()().startOf("day"),inputReadOnly:!0,format:"DD MMMM YYYY | hh:mm A",className:"customDateTimePicker ".concat(s?"readable":""),showTime:!0,...n,value:l?S()(l,"DD-MM-YYYY | hh:mm A"):null,suffixIcon:(0,x.jsx)(j.FE,{}),defaultPickerValue:a?S()(a,"DD-MM-YYYY | hh:mm A").add(1,"minute"):void 0,F:!0})},Cd=e=>{let{id:s}=e,a=(0,x.jsx)("div",{className:"inquiry-badge bg-danger ms-2",children:"Not Found"});return a=s==Q.O.inquiryStatus.value.Active?(0,x.jsx)("div",{className:"inquiry-badge active ms-2",children:"Active"}):s==Q.O.inquiryStatus.value.Cancelled?(0,x.jsx)("div",{className:"inquiry-badge cancelled ms-2",children:"Inquiry Cancelled"}):s==Q.O.inquiryStatus.value.Disposed?(0,x.jsx)("div",{className:"inquiry-badge disposed ms-2",children:"Inquiry Disposed"}):s==Q.O.inquiryStatus.value.Completed?(0,x.jsx)("div",{className:"inquiry-badge completed  ms-2",children:"Booking Completed"}):(0,x.jsx)("div",{className:"inquiry-badge bg-danger ms-2",children:"Not Found"}),(0,x.jsx)("div",{className:"inquiry-status",children:a})},wd=e=>{let{show:s,handleClose:a,onProceed:l,duplicateInquiryData:n}=e;const[i,d]=(0,t.useState)({actionId:1,actionReason:""}),c=e=>{const{value:s,name:a}=e.target;let t={...i};t[a]=s,d(t)};return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{scrollable:!0,show:s,onHide:a,size:"xl",className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Duplicate Inquiry"})}),(0,x.jsx)(E.A.Body,{className:"duplicate-inquiry-modal",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6 border-right",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h5",{className:"modal-content-heading",children:"Inquiries Found"}),n.map((e=>(0,x.jsxs)("div",{className:"inquiry-found-card mb-3",children:[(0,x.jsxs)("div",{className:"inquiry-found-title",children:[(0,x.jsxs)("h6",{children:["E-ID : ",e.inquiryInfoId," | ",e.inquiryPurpose]}),(0,x.jsx)(Cd,{id:e.inquiryStatusId})]}),(0,x.jsxs)("div",{className:"inquiry-found-body",children:[e.inquirySlotOutDTO.map((e=>(0,x.jsxs)("div",{className:"d-flex align-items-center  mb-3 ".concat(e.isDuplicateBySlot?"slot-duplicate-text":"slot-text"),children:[e.isDuplicateBySlot?(0,x.jsx)(j.t8,{}):(0,x.jsx)(j.VQ,{}),(0,x.jsxs)("span",{className:"ms-2",children:[(0,B.Yq)(e.bookingStartDate,"DD MMM YYYY","DD-MM-YYYY")," | ",e.startTime," - ",(0,B.Yq)(e.bookingEndDate,"DD MMM YYYY","DD-MM-YYYY")," | ",e.endTime]})]}))),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"duplicate-label mb-0",children:"Guest Name"}),(0,x.jsxs)("div",{className:"d-flex align-items-center duplicate-label-value",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("span",{className:"ms-2",children:e.guestUserName})]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"duplicate-label mb-0",children:"Source"}),(0,x.jsx)("div",{className:"d-flex align-items-center duplicate-label-value",children:(0,x.jsx)("span",{className:"",children:e.inquirySource})})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"duplicate-label mb-0",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center duplicate-label-value",children:[(0,x.jsx)("img",{src:at,alt:"user-image"})," ",(0,x.jsx)("div",{className:"ms-1",children:"Venue Admin "})]})]})})]})]})]})))]})}),(0,x.jsxs)("div",{className:"col-md-6",children:[(0,x.jsx)("h5",{className:"modal-content-heading",children:"Action"}),(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"actionId",value:"2",checked:2==i.actionId,onChange:c,id:"sameInquiry"}),(0,x.jsx)("label",{className:"form-label ".concat(2==i.actionId?"checked":""),htmlFor:"sameInquiry",children:"Same inquiry, update primary lead owner and discard this inquiry"})]})})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"actionId",value:"1",checked:1==i.actionId,onChange:c,id:"newInquiry"}),(0,x.jsx)("label",{className:"form-label ".concat(1==i.actionId?"checked":""),htmlFor:"newInquiry",children:"Create new inquiry"})]})})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)("div",{className:"mb-2",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",name:"actionId",value:"3",checked:3==i.actionId,onChange:c,id:"duplicateInquiry"}),(0,x.jsx)("label",{className:"form-label ".concat(3==i.actionId?"checked":""),htmlFor:"duplicateInquiry",children:"Create duplicate inquiry"})]})})}),3==i.actionId&&(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input invisible",type:"radio"}),(0,x.jsx)("label",{className:"form-label mb-1",children:"Reason *"}),(0,x.jsx)("textarea",{className:"form-control input-one-line",name:"actionReason",value:i.actionReason,cols:"30",rows:"3",onChange:c})]})})]})})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{className:"btn-40",variant:"primary",onClick:()=>{3==i.actionId?l({actionId:3,actionReason:i.actionReason}):l({actionId:Number(i.actionId),actionReason:i.actionReason})},disabled:3==i.actionId&&0===i.actionReason.length,children:"Proceed"})})]})})},kd=e=>{let{show:s,setShow:a}=e;const t=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,size:"lg",onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Not Available"})}),(0,x.jsxs)(E.A.Body,{children:[(0,x.jsxs)("div",{className:"venue-banquet-wrapper mb-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("h6",{className:"fw-bold m-0",children:"E-ID: 00132 | Get Together"})," ",(0,x.jsx)("div",{className:"inquiry-status-badge booking-confirmed  ms-2",children:"Booking Confirmed"})]}),(0,x.jsx)("hr",{}),(0,x.jsxs)("div",{className:"mt-1",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.lq,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"14 Aug 2023"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"08:00 AM - 07:00 PM"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"08:00 AM - 07:00 PM"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"08:00 AM - 07:00 PM"})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.lq,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"14 Aug 2023"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"08:00 AM - 07:00 PM"})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-4",children:[(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Guest Name"}),(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 mt-1",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Rahul Bhide"})]})]}),(0,x.jsxs)("div",{className:"col-4",children:[(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Source"}),(0,x.jsx)("div",{className:"d-flex align-items-center gap-2 mt-1",children:(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Weddingwire"})})]}),(0,x.jsxs)("div",{className:"col-4",children:[(0,x.jsx)("p",{className:" mt-0 mb-0",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center gap-2 mt-1",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsxs)("p",{className:" mt-0 mb-0",children:["Rohan Mahajan ",(0,x.jsx)("span",{className:"txt-primary",children:"+ 2"})]})]})]})]})]})]}),(0,x.jsxs)("div",{className:"venue-banquet-wrapper mb-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("h6",{className:"fw-bold m-0",children:"Fall Ceiling Repair"})," ",(0,x.jsx)("div",{className:"inquiry-status-badge waitlist  ms-2",children:"Not Operational"})]}),(0,x.jsx)("hr",{}),(0,x.jsxs)("div",{className:"mt-1",children:[(0,x.jsx)("div",{className:"txt-grey mb-2",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt saepe similique dolores hic natus asperiores velit autem porro voluptates dolor maiores nobis nam fuga atque magnam, repellat commodi officiis magni."}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.lq,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"14 Aug 2023"})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,x.jsx)(j.Rd,{}),(0,x.jsx)("span",{className:"date-time-text txt-darker ms-2",children:"08:00 AM - 07:00 PM"})]})})]})]})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary btn-sm",onClick:t,children:"Okay"})})]})})},Sd=e=>{let{step:s}=e;const{inquiryInfoData:a}=(0,l.KC)(),n=a.inquirySlotDTO||[],[i,d]=(0,t.useState)({inquiryInfo:"",venueSelection:"",reviewInquiry:""}),c=(0,l.Zp)(),r=(0,l.g)();return(0,t.useEffect)((()=>{let e="blank",a="blank",t="blank";1===s&&(e="active"),2===s&&(e="done",a="active"),3===s&&(e="done",a="done",t="active"),d({inquiryInfo:e,venueSelection:a,reviewInquiry:t})}),[s]),(0,x.jsxs)("div",{className:"add-inquiry-progress-bar",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"progress-item ".concat(i.inquiryInfo),role:"button",onClick:()=>c("/inquiry-bookings/inquiry/".concat(r.inquiryId,"/info")),children:[(0,x.jsx)("div",{className:"icon-wrapper",children:(0,x.jsx)("div",{children:"blank"===i.inquiryInfo?(0,x.jsx)(j.Bj,{}):(0,x.jsx)(j.G6,{})})}),(0,x.jsx)("div",{className:"title fw-bold ms-2",children:"Inquiry Info"})]}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"progress-item ".concat(i.venueSelection),role:"button",onClick:()=>n.length>0&&c("/inquiry-bookings/inquiry/".concat(r.inquiryId,"/venue-selection")),children:[(0,x.jsx)("div",{className:"icon-wrapper",children:(0,x.jsx)("div",{children:"blank"===i.venueSelection?(0,x.jsx)(j.UA,{}):(0,x.jsx)(j.UQ,{})})}),(0,x.jsx)("div",{className:"title fw-bold ms-2",children:"Venue Selection"})]}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsxs)("div",{className:"progress-item ".concat(i.reviewInquiry),role:"button",onClick:()=>n.length>0&&c("/inquiry-bookings/inquiry/".concat(r.inquiryId,"/review")),children:[(0,x.jsx)("div",{className:"icon-wrapper",children:(0,x.jsx)("div",{children:"blank"===i.reviewInquiry?(0,x.jsx)(j.Nn,{}):(0,x.jsx)(j.X$,{})})}),(0,x.jsx)("div",{className:"title fw-bold ms-2",children:"Review Inquiry"})]})})]})},Dd=e=>{var s;let{show:a,handleClose:n,inquiryInfo:i={}}=e;const d=(0,l.g)(),c=(0,l.Zp)(),[u,h]=(0,t.useState)(!1),[v,j]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[N]=(0,t.useState)(["Reason 1","Reason 2","Reason 3","Reason 4","Custom Reason"]),b=null===(s=d.inquiryId)||void 0===s?void 0:s.split("-")[1],f=i.inquirySlotDTO||[];return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:a,onHide:n,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsxs)(E.A.Body,{className:"p-4",children:[(0,x.jsx)("label",{className:"fw-bold fs-18-px mb-3",children:"Select the reason to dispose this inquiry"}),(0,x.jsxs)("div",{children:[N.map(((e,s)=>(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{style:{height:"20px",width:"20px"},className:"form-check-input mt-0",type:"radio",checked:e===p,id:e,onChange:()=>{g(e),j("")}}),(0,x.jsx)("label",{className:"ms-1 mb-0 form-label fs-16-px",htmlFor:e,children:e})]},s))),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center ".concat("Custom Reason"===p?"":"read-only"),children:[(0,x.jsx)("input",{style:{height:"20px",width:"20px"},className:"form-check-input invisible mt-0",type:"radio"}),(0,x.jsxs)("div",{className:"w-100 mb-3",children:[(0,x.jsx)("label",{className:"ms-1 mb-0 form-label fs-16-px",children:"Reason *"}),(0,x.jsx)("input",{className:"form-control input-one-line",type:"text",placeholder:"Enter",disabled:"Custom Reason"!==p,onChange:e=>j(e.target.value),value:v})]})]})})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"danger",className:"btn-40",onClick:async()=>{try{var e,s,a,t,l,d,m,u,x,j,g,N,y,A,I,C;h(!0);let r=f.filter((e=>{let{selectedVenueDTOs:s}=e;return s&&(null===s||void 0===s?void 0:s.length)>0})),w={inquiryInfoId:0,inquiryTypeId:null!==(e=i.inquiryTypeId)&&void 0!==e?e:0,inquiryBookingTypeId:null!==(s=i.inquiryBookingTypeId)&&void 0!==s?s:0,inquiryPurposeId:null!==(a=i.inquiryPurposeId)&&void 0!==a?a:0,inquiryPriorityId:null!==(t=i.inquiryPriorityId)&&void 0!==t?t:0,brideName:null!==(l=i.brideName)&&void 0!==l?l:"",groomName:null!==(d=i.groomName)&&void 0!==d?d:"",company:null!==(m=i.company)&&void 0!==m?m:"",title:null!==(u=i.title)&&void 0!==u?u:"",inquirySourceId:null!==(x=i.inquirySourceId)&&void 0!==x?x:0,sourceFullName:null!==(j=i.sourceFullName)&&void 0!==j?j:"",sourceMobileNumber:null!==(g=i.sourceMobileNumber)&&void 0!==g?g:"",sourceEmail:null!==(N=i.sourceEmail)&&void 0!==N?N:"",sourceWebsite:null!==(y=i.sourceWebsite)&&void 0!==y?y:"",sourceCompanyName:null!==(A=i.sourceCompanyName)&&void 0!==A?A:"",guestDetailId:i.guestDetailId?i.guestDetailId:b,leadOwnerId:null!==(I=i.leadOwnerId)&&void 0!==I?I:0,actionId:0,actionReason:null!==(C=i.actionReason)&&void 0!==C?C:"",inquirySlotDTO:r.length?r:f,isDisposed:!0,reason:"Custom Reason"===p?v:p};const k=await Ts.addInquiryInfo(w),{title:S}=k;S===o.A.success&&(n(),c("/inquiry-bookings",{state:!0}))}catch(w){r.oR.error(w.message)}finally{h(!1)}},children:[u&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Confirm"]})})]})})},Td=e=>{let{show:s,handleClose:a,inquiryId:t}=e;const n=(0,l.Zp)();return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-center flex-column my-3",children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:te,alt:"image",height:120,width:120})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"fw-bold text-center mb-3",children:t?"Discard?":"Discard Inquiry ?"}),(0,x.jsx)("p",{style:{width:"340px"},className:"description mb-3 text-center mx-auto fs-16-px",children:t?"If any modifications made will be discarded and the Inquiry will go \n                      back to original state.":"All informations added will be deleted, once confirmed action\n                cannot be reversed."})]})]})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("div",{className:"btn-40 btn txt-primary",role:"button",onClick:a,children:"Cancel"}),(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:()=>{n("/inquiry-bookings",{state:!0})},children:"Confirm"})]})]})})};var Od=a(5944),qd=a.n(Od);const Pd=e=>{let{handleClose:s,show:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-center flex-column my-3",children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:Xe,alt:"image",height:120,width:120})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Are you sure?"}),(0,x.jsx)("p",{style:{width:"340px"},className:"description mb-3 text-center mx-auto fs-16-px",children:"If you delete the slot, selected venues, f&b packages and amenities will be removed."})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:t,children:"Confirm"})})]})},Bd=e=>{let{handleClose:s,show:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirm Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-center flex-column my-3",children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ne,alt:"image",height:120,width:120})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Are you sure?"}),(0,x.jsx)("p",{style:{width:"370px"},className:"description mb-3 text-center mx-auto fs-16-px",children:"If you remove the preference, any package added for this preference will be removed from the inquiry."})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:t,children:"Confirm"})})]})},Fd=e=>{var s;let{}=e;const{inquiryInfoData:a={},setInquiryInfoData:n,reload:i,setIsDataChange:d,activeStep:m,setActiveStep:h,assignUserList:v,duplicateInquiryData:p,setDuplicateInquiryData:g}=(0,l.KC)();let N=a.inquirySlotDTO||[];const b="paxCountChange",[f,y]=(0,t.useState)([]),[A,I]=(0,t.useState)(!0),[C,w]=(0,t.useState)(!0),[k,S]=(0,t.useState)([]),[D,T]=(0,t.useState)([]),[O,q]=(0,t.useState)(!1),[P,F]=(0,t.useState)(!1),[E,R]=(0,t.useState)(!1),[M,Y]=(0,t.useState)(!1),[L,V]=(0,t.useState)(!1),[U,H]=(0,t.useState)({}),[W,z]=(0,t.useState)(!1),[G,K]=(0,t.useState)(""),[Z,J]=(0,t.useState)(!1),[X,_]=(0,t.useState)({}),[$,ee]=(0,t.useState)({}),[se,ae]=(0,t.useState)([]),te=se.filter((e=>{let{isDeleted:s}=e;return!0!==s})),le={inquiryTypeId:"",inquiryBookingTypeId:"",inquiryPurposeId:"",inquiryPriorityId:null,brideName:"",groomName:"",company:"",title:"",leadOwnerId:0,inquirySourceId:"",sourceFullName:"",sourceMobileNumber:"",sourceEmail:"",sourceWebsite:"",sourceCompanyName:"",inquiryInfoId:0},ne={bookingStartDate:"",bookingEndDate:"",startTime:"",endTime:"",paxCount:"",foodPreferenceIds:"",beveragePreferenceIds:"",inquirySlotId:0,packageCategoryId:1},[ie,de]=(0,t.useState)(!0),ce=(0,l.Zp)(),re=(0,l.g)(),me=null===(s=re.inquiryId)||void 0===s?void 0:s.split("-")[1];(0,t.useEffect)((()=>{xe(),pe(),ve(),ge(),h(1)}),[]),(0,t.useEffect)((()=>{ee({...le,...a}),(null===N||void 0===N?void 0:N.length)>0?ae(N.map((e=>({...e,slotTempId:(0,ta.A)()})))):ae([{...ne,slotTempId:(0,ta.A)()}])}),[re.inquiryId,a]);const ue=e=>{const{value:s,name:a}=e.target;let t={...$};t[a]=parseInt(s),"inquiryTypeId"===a&&(t.inquiryPurposeId=""),ee(t)},he=e=>{const{value:s,name:a}=e.target;let t={...$};t[a]=s,"inquiryPurposeId"===a&&(t.title="",t.company="",t.brideName="",t.groomName="",t.groomName="",Q.O.inquiryType.value.Corporate===t.inquiryTypeId&&(t.inquiryPurpose=f.find((e=>s===e.value)).text),Q.O.inquiryType.value.Personal===t.inquiryTypeId&&(t.inquiryPurpose=k.find((e=>s===e.value)).text)),"inquirySourceId"===a&&(D.find((e=>e.value==s&&e.isReferral))||(t.sourceFullName="",t.sourceMobileNumber="",t.sourceEmail="",t.sourceWebsite="",t.sourceCompanyName="",H({})),t.inquirySource=D.find((e=>e.value===s)).text),ee(t),d(!0)},xe=async()=>{try{const e=await je.A.getSourceList(),{title:s,data:a}=e;s===o.A.success&&T(a.map((e=>({value:e.id,text:e.title,isReferral:e.isReferral}))))}catch(e){r.oR.error(e.message)}},ve=async()=>{try{I(!0);const e=await je.A.getCorporatePurposeList(),{detail:s,message:a,title:t,data:l}=e;t===o.A.success&&y(l.map((e=>({value:e.id,text:e.title}))))}catch(e){r.oR.error(e.message)}finally{I(!1)}},pe=async()=>{try{w(!0);const e=await je.A.getPersonalPurposeList(),{title:s,data:a}=e;s===o.A.success&&S(a.map((e=>({value:e.id,text:e.title,isBrideGroom:e.isBrideGroom}))))}catch(e){r.oR.error(e.message)}finally{w(!1)}},ge=async()=>{try{const e=await c.getVenueOverview(),{title:s,data:a}=e;if(s===o.A.success){const{isFB:e}=a;e&&V(!0)}}catch(e){r.oR.error(e.message)}finally{w(!1)}},Ne=()=>{te.length<5&&ae([...se,{...ne,slotTempId:(0,ta.A)()}]),d(!0)},be=e=>{const s=se.filter((s=>{let{slotTempId:a}=s;return e!==a}));ae(s),d(!0)},fe=(e,s,a)=>{let t="",l="";e&&(t=qd()(null===e||void 0===e?void 0:e.$d).format("DD-MM-YYYY"),l=qd()(null===e||void 0===e?void 0:e.$d).format("hh:mm A"));let n=[];se.forEach((e=>{e.slotTempId===a?"bookingStartDateTime"===s?n.push({...e,bookingStartDate:t,startTime:l,bookingEndDate:"",endTime:""}):n.push({...e,bookingEndDate:t,endTime:l}):n.push(e)})),ae(n)},ye=(e,s)=>{const{value:a,name:t}=e.target;let l=[];se.forEach((e=>{e.slotTempId===s?l.push({...e,[t]:a}):l.push(e)})),ae(l),d(!0),J(!1),_({})},Ae=(e,s)=>{const{name:a,value:t}=e.target;if(s.inquirySlotId){let e=N.find((e=>{let{inquirySlotId:a}=e;return a===s.inquirySlotId}));!t.split(",").map(Number).sort(((e,s)=>e-s)).join(",").includes(e[a].split(",").map(Number).sort(((e,s)=>e-s)).join(","))&&e[a]?(J(!0),_({name:a,currentValue:t,oldValue:e[a],slotTempId:s.slotTempId})):ye({target:{name:a,value:t}},s.slotTempId)}else ye({target:{name:a,value:t}},s.slotTempId)};(0,t.useEffect)((()=>{Ie()}),[$,se]);const Ie=()=>{let{inquiryTypeId:e,inquiryBookingTypeId:s,inquirySourceId:a,inquiryPriorityId:t,inquiryPurposeId:l,leadOwnerId:n,title:i,brideName:d,groomName:c,company:r}={...(0,B.QN)($)},{sourceFullName:o,sourceMobileNumber:m,sourceEmail:u,sourceWebsite:h,sourceCompanyName:x}={...(0,B.QN)($)},v=!0;e&&s&&a&&t&&l&&n||(v=!1),e===Q.O.inquiryType.value.Personal&&(1!==l||i||(v=!1),k.find((e=>l===e.value&&e.isBrideGroom))&&(d&&c||(v=!1))),e===Q.O.inquiryType.value.Corporate&&(1===l?r&&i||(v=!1):r||(v=!1)),te.forEach((e=>{const{paxCount:s,bookingStartDate:a,bookingEndDate:t}=e;(!a||!t||s<0||""===s)&&(v=!1)})),D.filter((e=>e.value==a&&e.isReferral)).length>0&&(o&&m&&u&&h&&x||(v=!1)),de(v)},Ce=async(e,s)=>{if(we())try{const{guestUserName:a,brideName:t,company:l,groomName:i,guestDetailId:d,inquiryBookingTypeId:c,inquiryPriorityId:r,inquiryPurposeId:m,inquiryPurpose:u,inquirySourceId:h,inquirySource:x,inquiryTypeId:v,leadOwnerId:j,sourceCompanyName:p,sourceEmail:N,sourceFullName:b,sourceMobileNumber:f,sourceWebsite:y,inquiryInfoId:A,...I}=$;let C={guestUserName:a,brideName:t,company:l,groomName:i,guestDetailId:d,inquiryBookingTypeId:c,inquiryPriorityId:r,inquiryPurposeId:m,inquiryPurpose:u,inquirySourceId:h,inquirySource:x,inquiryTypeId:v,leadOwnerId:j||1,sourceCompanyName:p,sourceEmail:N,sourceFullName:b,sourceMobileNumber:f,sourceWebsite:y,inquirySlotDTO:se.map((e=>{var s,a;let t={...e};return t.inquiryInfoId=A,t.foodPreferenceIds=Array.isArray(e.foodPreferenceIds)?null===(s=e.foodPreferenceIds)||void 0===s?void 0:s.join(","):e.foodPreferenceIds,t.beveragePreferenceIds=Array.isArray(e.beveragePreferenceIds)?null===(a=e.beveragePreferenceIds)||void 0===a?void 0:a.join(","):e.beveragePreferenceIds,t.bookingStartDate=e.bookingStartDate,t.bookingEndDate=e.bookingEndDate,e.isDeleted&&(t.isDeleted=e.isDeleted),t})),title:I.title};if(me&&(C.guestDetailId=me),A&&(C.inquiryInfoId=A),e){if(2===e.actionId)return R(!1),void F(!0);C.actionId=e.actionId,C.actionReason=e.actionReason}else C.actionId=0,C.actionReason="";s?(async e=>{n(e),ce("/inquiry-bookings/inquiry/"+re.inquiryId+"/venue-selection")})(C):(async e=>{const s=await Ts.validateInquiryInfo(e),{title:a,data:t=[]}=s;a===o.A.success&&(t.length?(g(t),R(!0)):(Ce({selectedAction:1,actionReason:""},!0),g([])))})(C)}catch(a){r.oR.error(a.message)}},we=()=>{const{sourceMobileNumber:e,sourceEmail:s,sourceWebsite:a}={...(0,B.QN)($)};let t={},l=!0;return e&&(/^(0|91)?[6-9][0-9]{9}$/.test(e)||(t.sourceMobileNumber="Please enter a valid 10-digit mobile number",l=!1)),s&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(s)||(t.sourceEmail="Please enter valid email address",l=!1)),a&&(/^www\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})?(:[0-9]{1,5})?(\/.*)?$/.test(a)||(t.sourceWebsite="Please enter valid url",l=!1)),H(t),l},ke=(0,t.useMemo)((()=>()=>{const e=te.some((e=>""===e.bookingStartDate||""===e.bookingEndDate||""===e.paxCount));return e}),[se]),Se=ke(),De=D.find((e=>{let{value:s,isReferral:a}=e;return s==$.inquirySourceId&&a})),[Te,Oe,qe,Pe]=Q.O.FoodType.list,Be=[Te,Oe,Pe];return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"inquiry-top-wrapper mb-4",children:[(0,x.jsx)(Sd,{step:1}),(0,x.jsxs)("div",{className:"inquiry-btns-wrapper",children:[1===m&&re.inquiryId.includes("new-")?(0,x.jsxs)("button",{className:"btn btn-outline-danger dlt-btn btn-40",onClick:()=>F(!0),children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(u.ep,{})}),(0,x.jsx)("span",{className:"ms-0",children:"Discard"})]}):(0,x.jsx)("button",{className:"btn txt-primary fw-bold dlt-btn btn-40",onClick:()=>F(!0),children:(0,x.jsx)("span",{className:"ms-0",children:"Discard"})}),(0,x.jsx)("button",{className:"btn btn-primary btn-40 ms-3",onClick:Ce,disabled:!ie,children:"Next"})]})]}),(0,x.jsxs)("div",{className:"form-title-wrapper mb-4",children:[(0,x.jsx)("div",{className:"title fw-bold",children:"Inquiry Information"}),(0,x.jsx)("div",{className:"line"})]}),null!==a&&void 0!==a&&a.inquiryInfoId?(0,x.jsxs)("div",{className:"row mb-3",children:[(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Inquiry Type"}),(0,x.jsx)("div",{children:Q.O.inquiryType.text[$.inquiryTypeId]})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Booking Type"}),(0,x.jsx)("div",{children:Q.O.inquiryBookingTypes.text[$.inquiryBookingTypeId]})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Purpose"}),(0,x.jsx)("div",{children:$.inquiryPurpose})]})}),$.brideName&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Bride Name"}),(0,x.jsx)("div",{children:$.brideName})]})}),$.groomName&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Groom Name"}),(0,x.jsx)("div",{children:$.groomName})]})}),$.company&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Company Name"}),(0,x.jsx)("div",{children:$.company})]})}),$.title&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Title"}),(0,x.jsx)("div",{children:$.title})]})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-5 col-lg-4 col-sm-6 mb-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-5",children:[(0,x.jsx)("label",{className:"form-label",children:"Inquiry Type *"}),(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",value:Q.O.inquiryType.value.Personal,checked:$.inquiryTypeId===Q.O.inquiryType.value.Personal,name:"inquiryTypeId",id:"personal",onChange:ue}),(0,x.jsx)("label",{className:"form-label ".concat($.inquiryTypeId===Q.O.inquiryType.value.Personal?"checked":""),htmlFor:"personal",children:"Personal"})]})]}),(0,x.jsx)("div",{className:"col-6 d-flex align-items-end",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",value:Q.O.inquiryType.value.Corporate,checked:$.inquiryTypeId===Q.O.inquiryType.value.Corporate,name:"inquiryTypeId",id:"corporate",onChange:ue}),(0,x.jsx)("label",{className:"form-label ".concat($.inquiryTypeId===Q.O.inquiryType.value.Corporate?"checked":""),htmlFor:"corporate",children:"Corporate"})]})})]})}),(0,x.jsx)("div",{className:"col-md-5 col-lg-4 col-sm-6 mb-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-5",children:[(0,x.jsx)("label",{className:"form-label",children:"Booking Type *"}),(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",value:Q.O.inquiryBookingTypes.value.Regular,checked:$.inquiryBookingTypeId===Q.O.inquiryBookingTypes.value.Regular,name:"inquiryBookingTypeId",id:"regular",onChange:ue}),(0,x.jsx)("label",{className:"form-label ".concat($.inquiryBookingTypeId===Q.O.inquiryBookingTypes.value.Regular?"checked":""),htmlFor:"regular",children:"Regular"})]})]}),(0,x.jsx)("div",{className:"col-6 d-flex align-items-end",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",value:Q.O.inquiryBookingTypes.value.LongTerm,checked:$.inquiryBookingTypeId===Q.O.inquiryBookingTypes.value.LongTerm,name:"inquiryBookingTypeId",id:"longTerm"}),(0,x.jsx)("label",{className:"form-label ".concat($.inquiryBookingTypeId===Q.O.inquiryBookingTypes.value.LongTerm?"checked":""),htmlFor:"longTerm",children:"Long Term"})]})})]})})]}),(0,x.jsxs)("div",{className:"row mb-4",children:[(0,x.jsxs)("div",{className:"col-md-2 ".concat($.inquiryTypeId?"":"read-only"),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Purpose *"}),(0,x.jsx)(oe.A,{allowFiltering:!0,isLoading:C||A,readonly:!$.inquiryTypeId,disabled:!$.inquiryTypeId,onChange:he,value:$.inquiryPurposeId,name:"inquiryPurposeId",dataSource:$.inquiryTypeId===Q.O.inquiryType.value.Corporate?f:k,placeholder:"Select Purpose"})]}),$.inquiryTypeId===Q.O.inquiryType.value.Personal&&$.inquiryPurposeId&&(0,x.jsx)(x.Fragment,{children:1===$.inquiryPurposeId?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"title",value:$.title,onChange:he})]})}):(0,x.jsx)(x.Fragment,{children:k.find((e=>$.inquiryPurposeId===e.value&&e.isBrideGroom))&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Bride Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"brideName",value:$.brideName,onChange:he})]}),(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Groom Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"groomName",value:$.groomName,onChange:he})]})]})})}),$.inquiryTypeId===Q.O.inquiryType.value.Corporate&&$.inquiryPurposeId&&(0,x.jsxs)(x.Fragment,{children:[1===$.inquiryPurposeId&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Title *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"title",value:$.title,onChange:he})]})}),(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Company Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"company",value:$.company,onChange:he})]})]})]})]}),$.inquiryBookingTypeId&&$.inquiryTypeId&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"slots-wrapper mb-4",children:[$.inquiryBookingTypeId===Q.O.inquiryBookingTypes.value.Regular&&(0,x.jsxs)("div",{className:"regular-slots",children:[te.map(((e,s)=>(0,x.jsxs)("div",{className:"slot-wrapper",children:[(0,x.jsxs)("div",{className:"txt-primary fw-bold mb-2",children:["Slot ",s+1]}),(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsxs)("div",{className:"row flex-wrap flex-grow-1",children:[(0,x.jsxs)("div",{className:"col-md-4 col-sm-6 col-lg-3 mb-3 overflow-hidden ".concat(e.inquirySlotId?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label overflow-ellipse",children:"Booking Start Date and Time *"}),(0,x.jsx)(Id,{disabled:e.inquirySlotId,placeholder:"Select Date Time",onChange:s=>fe(s,"bookingStartDateTime",e.slotTempId),value:e.bookingStartDate&&e.startTime?e.bookingStartDate+" | "+e.startTime:"",readable:e.inquirySlotId>0})]}),(0,x.jsxs)("div",{className:"col-md-4 col-sm-6 col-lg-3 mb-3 overflow-hidden ".concat(e.inquirySlotId?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label overflow-ellipse",children:"Booking End Date and Time *"}),(0,x.jsx)(Id,{placeholder:"Select Date Time",onChange:s=>fe(s,"bookingEndDateTime",e.slotTempId),value:e.bookingEndDate&&e.endTime?e.bookingEndDate+" | "+e.endTime:"",minDateTime:e.bookingStartDate&&e.startTime?e.bookingStartDate+" | "+e.startTime:"",disabled:!((e.bookingStartDate||e.startTime)&&!e.inquirySlotId),readable:e.inquirySlotId>0})]}),(0,x.jsxs)("div",{className:"col-md-2 col-sm-6 col-lg-2 mb-3",children:[(0,x.jsx)("label",{className:"form-label ",children:"Pax Count *"}),(0,x.jsx)("input",{type:"number",className:"form-control input-one-line",placeholder:"Enter count",name:"paxCount",value:e.paxCount,onChange:s=>ye(s,e.slotTempId),onBlur:()=>(e=>{if(e.inquirySlotId){let s=N.find((s=>{let{inquirySlotId:a}=s;return a===e.inquirySlotId}));Number(s.paxCount)!==Number(e.paxCount)&&(r.oR.isActive(b)||r.oR.info("Make sure you are updating the pax count for the F&B packages wherever necessary.",{autoClose:!1,closeOnClick:!1,toastId:b,className:"pax-toast"}))}})(e)})]}),L&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-3 overflow-hidden",children:[(0,x.jsx)("label",{className:"form-label overflow-ellipse",children:"Food Preference"}),(0,x.jsx)(Oi,{isLoading:Z,dataSource:Be,placeholder:"Select Preference",onChange:s=>{Ae(s,e)},value:e.foodPreferenceIds,name:"foodPreferenceIds"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-3 overflow-hidden",children:[(0,x.jsx)("label",{className:"form-label overflow-ellipse",children:"Beverage Preference"}),(0,x.jsx)(Oi,{isLoading:Z,dataSource:Q.O.beveragePreference.list.filter((e=>e.value!==Q.O.beveragePreference.value.AlcoholicNonAlcoholic)),placeholder:"Select Preference",onChange:s=>Ae(s,e),value:e.beveragePreferenceIds,name:"beveragePreferenceIds"})]})]})]}),(0,x.jsx)("div",{className:"ms-3 me-2 d-flex align-items-center justify-content-center",children:(0,x.jsx)("button",{className:"mb-3 cursor-pointer btn border-0",onClick:()=>{e.inquirySlotId?(z(!0),K(e.inquirySlotId)):be(e.slotTempId)},disabled:1===te.length,children:(0,x.jsx)(u.Og,{height:20,width:20,color:te.length>1?"#eb5e5e":"#888888"})})})]})]},e.slotTempId))),(0,x.jsx)("div",{className:"add-new-wrapper-primary px-2",children:(0,x.jsxs)("button",{className:"d-flex align-items-center btn border-0 ",onClick:Ne,disabled:Se,children:[(0,x.jsx)(j.Is,{color:"".concat(Se?" #A2A2B1":"")}),(0,x.jsx)("div",{className:"fw-bold txt-primary ms-1 fs-13-px ".concat(Se?"txt-secondary":""),children:"Add New Slot"})]})})]}),$.inquiryBookingTypeId===Q.O.inquiryBookingTypes.value.LongTerm&&(0,x.jsxs)("div",{className:"long-term-slots",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold mb-2",children:"Duration (Days)"}),(0,x.jsxs)("div",{className:"row mb-3",children:[(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label",children:"Booking Start Date*"}),(0,x.jsx)(Yt,{})]}),(0,x.jsxs)("div",{className:"col-md-2",children:[(0,x.jsx)("label",{className:"form-label",children:"Booking End Date*"}),(0,x.jsx)(Yt,{})]})]}),se.map(((e,s)=>(0,x.jsxs)("div",{className:"slot-wrapper",children:[(0,x.jsxs)("div",{className:"txt-primary fw-bold mb-2",children:["Slot ",s+1]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Daily Start Time*"}),(0,x.jsx)(Ad,{})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Daily End Time*"}),(0,x.jsx)(Ad,{})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label ",children:"Pax Count*"}),(0,x.jsx)("input",{type:"number",className:"form-control input-one-line",placeholder:"Enter count"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Food Preference"}),(0,x.jsx)(Ti,{dataSource:Q.O.beveragePreference.list,placeholder:"Select Preference",value:e.foodPreferenceIds,name:"foodPreferenceIds"})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label",children:"Beverage Preference"}),(0,x.jsx)(Ti,{dataSource:Q.O.beveragePreference.list,placeholder:"Select Preference",value:e.beveragePreferenceIds,name:"beveragePreferenceIds"})]})}),(0,x.jsx)("div",{className:"col-1 d-flex align-items-center justify-content-center",children:(0,x.jsx)("div",{className:"mb-3 cursor-pointer",onClick:()=>be(s),children:(0,x.jsx)(j.w$,{})})})]})]},s))),(0,x.jsxs)("div",{className:"add-new-wrapper-primary ms-2",onClick:Ne,children:[(0,x.jsx)(j.Is,{}),(0,x.jsx)("div",{className:"fw-bold txt-primary ms-1",children:"Add New Slot"})]})]})]}),(0,x.jsx)("div",{className:"bottom-wrapper py-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Inquiry Source *"}),(0,x.jsx)(oe.A,{onChange:he,value:$.inquirySourceId,name:"inquirySourceId",dataSource:D,placeholder:"Select Source"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 ".concat(De?"":"read-only"),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Full Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"sourceFullName",value:$.sourceFullName,onChange:he,readonly:!De,disabled:!De})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 error-boundary ".concat(U.sourceMobileNumber?"error":""," ").concat(De?"":"read-only"),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mobile *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Mobile Number",name:"sourceMobileNumber",value:$.sourceMobileNumber,onChange:he,readonly:!De,disabled:!De}),U.sourceMobileNumber&&(0,x.jsx)("div",{className:"input-error-text",children:U.sourceMobileNumber})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 error-boundary ".concat(U.sourceEmail?"error":""," ").concat(De?"":"read-only"),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Email *"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line text-truncate",placeholder:"Enter Email",name:"sourceEmail",value:$.sourceEmail,onChange:he,readonly:!De,disabled:!De}),U.sourceEmail&&(0,x.jsx)("div",{className:"input-error-text",children:U.sourceEmail})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 error-boundary ".concat(U.sourceWebsite?"error":""," ").concat(De?"":"read-only"),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Website *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line text-truncate",placeholder:"Enter name",name:"sourceWebsite",value:$.sourceWebsite,onChange:he,readonly:!De,disabled:!De}),U.sourceWebsite&&(0,x.jsx)("div",{className:"input-error-text",children:U.sourceWebsite})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 ".concat(De?"":"read-only"),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Company Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"sourceCompanyName",value:$.sourceCompanyName,onChange:he,readonly:!De,disabled:!De})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 ".concat(null!==a&&void 0!==a&&a.inquiryInfoId?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Priority *"}),(0,x.jsx)(oe.A,{onChange:he,value:$.inquiryPriorityId,name:"inquiryPriorityId",dataSource:Q.O.inquiryPriority.list,placeholder:"Select",readonly:null===a||void 0===a?void 0:a.inquiryInfoId})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4 ".concat(null!==a&&void 0!==a&&a.inquiryInfoId?"readonly-form":""),children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Assigned To *"}),(0,x.jsxs)("div",{className:"d-flex align-content-center",children:[(0,x.jsx)("div",{children:(null===a||void 0===a?void 0:a.leadOwnerId)&&(0,x.jsx)("img",{src:(null===a||void 0===a?void 0:a.leadOwnerProfileImage)||Ja,alt:"assigner-image",className:"me-1 rounded-5 ",width:18,height:18})}),(0,x.jsx)("div",{children:(0,x.jsx)(oe.A,{onChange:he,value:$.leadOwnerId,name:"leadOwnerId",dataSource:v,placeholder:"Select",readonly:null===a||void 0===a?void 0:a.inquiryInfoId})})]})]})]})})]}),(0,x.jsx)(Pd,{show:W,handleClose:()=>z(!1),onConfirm:()=>{z(!1);const e=se.map((e=>G===e.inquirySlotId?{...e,isDeleted:!0}:e));ae(e),d(!0)}}),(0,x.jsx)(Bd,{show:Z,handleClose:()=>{const{name:e,oldValue:s,slotTempId:a}=X;ye({target:{name:e,value:s}},a)},onConfirm:()=>{const{name:e,currentValue:s,slotTempId:a}=X;ye({target:{name:e,value:s}},a)}}),(0,x.jsx)(wd,{duplicateInquiryData:p,show:E,handleClose:()=>R(!1),onProceed:e=>{Ce(e,!0)}}),(0,x.jsx)(Td,{show:P,handleClose:()=>F(!1),inquiryId:a.inquiryInfoId}),(0,x.jsx)(kd,{show:M,setShow:Y})]})},Ed=e=>{let{show:s,onContinue:a,handleClose:n,selectedVenueList:i,slotData:d}=e;const[u,h]=(0,t.useState)([]),[v,p]=(0,t.useState)([]),[g,N]=(0,t.useState)([]),[b,f]=(0,t.useState)(!1),y=(0,l.g)();(0,t.useEffect)((()=>{s&&p(i.map((e=>{let{id:s}=e;return s})))}),[s]),(0,t.useEffect)((()=>{A()}),[]);const A=async()=>{try{N(!0);const e=await c.getVenueListing(),{title:s,data:a}=e;s===o.A.success&&h(a.filter((e=>{let{venueStatusId:s}=e;return 1===s})))}catch(e){r.oR.error(e.message)}finally{N(!1)}},I=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{f(!0);let s={inquiryInfoId:y.inquiryId.includes("new-")?0:y.inquiryId,selectedVenueList:e,slotStarDate:d.bookingStartDate,slotEndDate:d.bookingEndDate,startTime:d.startTime,endTime:d.endTime};const t=await Ts.getAvailableNotAvailableVenueList(s),{title:l,data:n=[]}=t;if(l===o.A.success){const{venueAvailableDTO:e=[],venueNotAvailableDTO:s=[]}=n,t=[...e||[],...s||[]];a(t)}}catch(s){r.oR.error(s.message)}finally{f(!1)}};return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{scrollable:!0,show:s,onHide:n,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Select Venue"})}),(0,x.jsx)(E.A.Body,{className:"p-4",children:g?(0,x.jsx)("div",{style:{height:"300px"},className:"d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsx)(x.Fragment,{children:u.map((e=>(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("input",{style:{height:"20px",width:"20px"},type:"checkbox",className:"form-check-input custom-check m-0 me-2",id:"venue".concat(e.id),onChange:()=>{return s=e.id,void p((e=>e.includes(s)?e.filter((e=>e!==s)):[...e,s]));var s},checked:v.includes(e.id)}),(0,x.jsx)("label",{className:"text-nowrap label-for-venue-name ".concat(v.includes(e.id)?"checked":""),htmlFor:"venue".concat(e.id),children:e.venueName})]}),(0,x.jsx)("div",{className:"w-100 ms-1 flex-grow-1 d-flex align-items-center justify-content-end",children:e.bookingTypeId===Q.O.bookingType.value.VenueRentals?(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(j.yB,{})}):(0,x.jsxs)(x.Fragment,{children:[e.foodPreferenceIds.split(",").map(Number).sort(((e,s)=>e-s)).map((e=>e==Q.O.FoodType.value.Veg?(0,x.jsx)("span",{className:"ms-2",title:"Veg",children:(0,x.jsx)(j.Sy,{})}):e==Q.O.FoodType.value.NonVeg?(0,x.jsx)("span",{className:"ms-2",title:"Non-Veg",children:(0,x.jsx)(j.K5,{})}):void 0)),e.alcoholicBeverageId===Q.O.alcoholicBeverages.value.Available?(0,x.jsx)("span",{className:"ms-2",title:"Alcoholic",children:(0,x.jsx)(j.S7,{})}):(0,x.jsx)("span",{className:"ms-2",title:"Non-Alcoholic",children:(0,x.jsx)(j.wl,{})})]})})]})))})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",className:"btn-40",onClick:()=>{I(u.filter((e=>{let{id:s}=e;return v.includes(s)})).map((e=>{let{id:s,venueName:a}=e;return{id:s,venueName:a}})))},disabled:0===v.length,children:[b&&(0,x.jsx)(m.A,{animation:"border",size:"sm"}),(0,x.jsx)("span",{className:"ms-1",children:"Continue"})]})})]})})},Rd=a.p+"static/media/no-venue-found.be93985041244e5bf9c8.png",Md=e=>{let{onConfirmClick:s,show:a,handleClose:t}=e;return(0,x.jsxs)(E.A,{scrollable:!0,show:a,onHide:t,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:140,width:140,src:Xe,alt:"add-img",className:"mb-3"}),(0,x.jsx)("h2",{className:"page-heading mb-3",children:"Warning Action"}),(0,x.jsx)("p",{style:{width:"435px"},className:"description mb-3 text-center fs-16-px",children:"If you un-select the venue for your selected slot, f&b packages and amenities will be removed."})]})})})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:s,children:(0,x.jsx)("span",{className:"ms-1",children:"Confirm"})})})]})},Yd=e=>{let{show:s,handleClose:a,data:t,selectedSlot:l}=e;const{bookingsList:n,closedDetail:i,notOperationalDetail:d,weeklyHolidayDetail:c,slotAvailability:r}=t;return(0,x.jsxs)(E.A,{scrollable:!0,show:s,onHide:a,className:"custom-modal",centered:!0,dialogClassName:"width-560px",children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Not Available"})}),(0,x.jsxs)(E.A.Body,{className:"p-4 d-flex flex-column gap-3",children:[c&&!(null!==c&&void 0!==c&&c.isSlotAvailable)&&(0,x.jsxs)("div",{className:"venue-banquet-wrapper",children:[(0,x.jsxs)("h6",{className:"fw-bolder fs-15-px pb-2 mb-2 border-bottom-summary-selection",style:{borderBottom:"1px solid #E4E5EB"},children:["Weekly Holiday",(0,x.jsx)("span",{className:"closedVenue ms-3 d-inline-flex",children:"Closed"})]}),(0,x.jsx)("div",{className:"d-flex align-items-center mb-1 fs-14-px",style:{color:"#666666"},children:"Lorem iosum the deser has been shorts.Lorem iosum the deser has been shorts. m iosum the deser has"}),(0,x.jsx)("div",{className:"mt-2 time-slot-wrap"})]}),i&&(null===i||void 0===i?void 0:i.id)&&(0,x.jsxs)("div",{className:"venue-banquet-wrapper",children:[(0,x.jsxs)("h6",{className:"fw-bolder fs-15-px pb-2 mb-2 border-bottom-summary-selection",style:{borderBottom:"1px solid #E4E5EB"},children:[i.title,(0,x.jsx)("span",{className:"closedVenue ms-3 d-inline-flex",children:"Closed"})]}),(0,x.jsx)("div",{className:"d-flex align-items-center mb-1 fs-14-px",style:{color:"#666666"},children:i.description}),(0,x.jsxs)("div",{className:"mt-2 time-slot-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center ",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:null!==i&&void 0!==i&&i.startDate?S()(null===i||void 0===i?void 0:i.startDate,"DD-MM-YYYY").format("DD MMM YYYY"):"-"}),"|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:i.startTime||"-"})]},i.inquirySlotId),"-",(0,x.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:i.endDate?S()(i.endDate,"DD-MM-YYYY").format("DD MMM YYYY"):"-"})," ","|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:i.endTime||"-"})]})]})]}),d&&(null===d||void 0===d?void 0:d.id)&&(0,x.jsxs)("div",{className:"venue-banquet-wrapper",children:[(0,x.jsxs)("h6",{className:"fw-bolder fs-15-px pb-2 mb-2 border-bottom-summary-selection",style:{borderBottom:"1px solid #E4E5EB"},children:[d.title,(0,x.jsx)("span",{className:"closedVenue ms-3 venue-not-operational d-inline-flex",children:"Not Operational"})]}),(0,x.jsx)("div",{className:"d-flex align-items-center mb-1 fs-14-px",style:{color:"#666666"},children:d.description}),(0,x.jsxs)("div",{className:"mt-2 time-slot-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center ",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:null!==d&&void 0!==d&&d.startDate?S()(null===d||void 0===d?void 0:d.startDate,"DD-MM-YYYY").format("DD MMM YYYY"):"-"}),"|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:d.startTime||"-"})]},d.inquirySlotId),"-",(0,x.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:d.endDate?S()(d.endDate,"DD-MM-YYYY").format("DD MMM YYYY"):"-"})," ","|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:d.endTime||"-"})]})]})]}),n&&n.length>0&&n.map((e=>{var s;return(0,x.jsxs)("div",{className:"venue-banquet-wrapper",children:[(0,x.jsxs)("h6",{className:"fw-bolder fs-15-px pb-3 mb-2 border-bottom-summary-selection",style:{borderBottom:"1px solid #E4E5EB"},children:[(0,x.jsxs)("span",{children:["E-ID : ",e.inquiryInfoId]}),(0,x.jsx)("span",{className:"ms-2",children:e.inquiryPurpose}),(0,x.jsx)("span",{className:"closedVenue ms-3 confirmed d-inline-flex",children:"Booking Confirmed"})]}),(0,x.jsx)("div",{className:"d-flex mb-1 flex-column",style:{color:"#666666"},children:null===e||void 0===e||null===(s=e.inquirySlotOutDTO)||void 0===s?void 0:s.map((e=>(0,x.jsxs)("div",{className:"mt-2 time-slot-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center ",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:S()(null===e||void 0===e?void 0:e.bookingStartDate,"DD-MM-YYYY").format("DD MMM YYYY")}),"|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:e.startTime})]},e.inquirySlotId),"-",(0,x.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:S()(e.bookingEndDate,"DD-MM-YYYY").format("DD MMM YYYY")})," ","|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:e.endTime})]})]})))}),(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-12-px fw-medium",children:"Guest Name"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.U0,{}),(0,x.jsx)("span",{className:"ms-1 fs-14-px fw-normal",children:e.guestUserName})]})]})}),(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-12-px fw-medium",children:"Source"}),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsx)("span",{className:"fs-14-px fw-normal ",children:e.inquirySource})})]})}),(0,x.jsx)("div",{className:"col-auto",children:(0,x.jsxs)("div",{className:"mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-0 fs-12-px fw-medium",children:"Lead Owner"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("img",{src:at,alt:""}),(0,x.jsx)("div",{className:"ms-1 fs-14-px fw-normal",children:e.leadOwnerName})]})]})})]})]})})),r&&r.length&&(0,x.jsxs)("div",{className:"venue-banquet-wrapper",children:[(0,x.jsxs)("h6",{className:"fw-bolder fs-15-px pb-2 mb-2 border-bottom-summary-selection",style:{borderBottom:"1px solid #E4E5EB"},children:["Venue Time Slot Not Available for given Time"," ",(0,x.jsx)("span",{className:"closedVenue ms-3 venue-not-operational d-inline-flex",children:"Not Operational"})]}),(0,x.jsxs)("div",{className:"mt-2 time-slot-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center ",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:null!==l&&void 0!==l&&l.bookingStartDate?S()(null===l||void 0===l?void 0:l.bookingStartDate,"DD-MM-YYYY").format("DD MMM YYYY"):"-"}),"|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:l.startTime||"-"})]}),"-",(0,x.jsxs)("div",{className:"d-flex align-items-center",style:{color:"#58596B"},children:[(0,x.jsx)("span",{className:"me-1 d-flex",children:(0,x.jsx)(j.lq,{})}),(0,x.jsx)("span",{className:"me-1 fs-13-px fw-medium",children:l.bookingEndDate?S()(l.bookingEndDate,"DD-MM-YYYY").format("DD MMM YYYY"):"-"})," ","|",(0,x.jsx)("span",{className:"ms-1 d-flex",children:(0,x.jsx)(j.Rd,{})}),(0,x.jsx)("span",{className:"ms-1 fs-13-px fw-medium",children:l.endTime||"-"})]})]})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:(0,x.jsx)("span",{className:"ms-1",children:"Okay"})})})]})},Ld=e=>{let{selectedAvailable:s=[],setSelectedAvailable:a,availableNotAvailableList:n,showRightNotAvailable:i="",selectedVenues:d=[],selectedSlot:c}=e;const{inquiryInfoData:r={}}=(0,l.KC)(),[o,m]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[v,p]=(0,t.useState)({}),g=e=>{let t=[...s];t=s.includes(e)?s.filter((s=>s!==e)):[...s,e],a(t)},N=n.filter((e=>{let{isAvailable:s}=e;return!0===s})),b=n.filter((e=>{let{isAvailable:s}=e;return!1===s}));return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12 col-lg-6 col-sm-12",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{className:"fw-bold txt-success-light mb-3",children:" Available"}),N.length>0?N.map((e=>(0,x.jsxs)("div",{className:"availability-wrapper justify-content-start mb-3 ".concat(s.includes(e.id)?"checkedVenue":""),onClick:()=>{return a=e.id,void(d.includes(a)&&s.includes(a)&&r.inquiryInfoId?(h(!0),m(a)):g(a));var a},role:"button",children:[(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check available-check m-0 me-2",checked:s.includes(e.id)})}),(0,x.jsxs)("div",{className:"ms-2",children:[(0,x.jsx)("h6",{className:"fw-bold mb-2",children:e.venueName}),(0,x.jsxs)("div",{className:"d-flex align-items-center icon-label flex-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(j.lb,{})}),(0,x.jsxs)("span",{className:"text-nowrap",children:["Capacity: ",e.capacity]}),(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})]}),e.bookingTypeId===Q.O.bookingType.value.VenueRentals?(0,x.jsxs)("span",{className:"text-nowrap",children:[(0,x.jsx)(j.yB,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Venue Rental"})]}):(0,x.jsxs)(x.Fragment,{children:[e.foodPreferenceIds.split(",").map(Number).sort(((e,s)=>e-s)).map((e=>e==Q.O.FoodType.value.Veg?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Veg",children:[" ",(0,x.jsx)(j.Sy,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Veg"}),(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})]}):e==Q.O.FoodType.value.NonVeg?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Non-Veg",children:[(0,x.jsx)(j.K5,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Non Veg"}),(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})," "]}):void 0)),e.alcoholicBeverageId===Q.O.alcoholicBeverages.value.Available?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Alcoholic",children:[(0,x.jsx)(j.S7,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Alcoholic"})," "]}):(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Non-Alcoholic",children:[(0,x.jsx)(j.wl,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Non-Alcoholic"})]})]})]})]})]},e.id))):(0,x.jsx)("div",{style:{height:"250px"},className:"d-flex justify-content-center align-items-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:Ul,height:130,width:140}),(0,x.jsx)("h5",{className:"text-center mt-3 description-18",children:"No venues found"})]})})]})}),(0,x.jsx)("div",{className:"col-md-12 col-lg-6 col-sm-12",children:i.length>0&&(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{className:"fw-bold txt-danger mb-3",children:"Not Available"}),b.length>0?b.map((e=>(0,x.jsxs)("div",{className:"not-available-wrapper mb-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{className:"fw-bold mb-2",children:e.venueName}),(0,x.jsxs)("div",{className:"d-flex align-items-center icon-label flex-wrap",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(j.lb,{})}),(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",children:["Capacity: ",e.capacity]})]}),e.bookingTypeId===Q.O.bookingType.value.VenueRentals?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",children:[(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})," ",(0,x.jsx)(j.yB,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Venue Rental"})]}):(0,x.jsxs)(x.Fragment,{children:[e.foodPreferenceIds.split(",").map(Number).sort(((e,s)=>e-s)).map((e=>e==Q.O.FoodType.value.Veg?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Veg",children:[(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})," ",(0,x.jsx)(j.Sy,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Veg"})]}):e==Q.O.FoodType.value.NonVeg?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Non-Veg",children:[(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})," ",(0,x.jsx)(j.K5,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Non Veg"})]}):void 0)),e.alcoholicBeverageId===Q.O.alcoholicBeverages.value.Available?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Alcoholic",children:[(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})," ",(0,x.jsx)(j.S7,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Alcoholic"})]}):(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center",title:"Non-Alcoholic",children:[(0,x.jsx)("span",{className:"mx-2 fs-16-px",children:"|"})," ",(0,x.jsx)(j.wl,{})," ",(0,x.jsx)("span",{className:"ms-1",children:"Non-Alcoholic"})]})]})]})]}),(0,x.jsx)("div",{children:(0,x.jsx)("span",{role:"button",onClick:()=>p({show:!0,data:e}),children:(0,x.jsx)(j.zE,{})})})]},e.id))):(0,x.jsx)("div",{style:{height:"250px"},className:"d-flex justify-content-center align-items-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:Rd,height:130,width:130}),(0,x.jsx)("h5",{className:"text-center mt-3 description-18 fw-medium",children:"No venues found"})]})})]})}),(0,x.jsx)(Yd,{selectedSlot:c,show:v.show,handleClose:()=>p({show:!1}),data:(null===v||void 0===v?void 0:v.data)||{}}),(0,x.jsx)(Md,{show:u,handleClose:()=>h(!1),onConfirmClick:()=>{g(o),h(!1)}})]})},Vd=e=>{let{slotWithVenueList:s=[]}=e;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h6",{className:"txt-success fw-bold mb-3 mt-2-5",children:"Your Selection Summary"}),null===s||void 0===s?void 0:s.map(((e,s)=>{let{availableNotAvailableList:a=[],selectedVenueDTOs:t=[],bookingStartDate:l,bookingEndDate:n,startTime:i,endTime:d}=e;return(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)("div",{className:"venue-slot-wrapper mb-3",children:[(0,x.jsxs)("h6",{className:"fw-bold mb-0 me-2 text-nowrap",children:["Slot ",s+1,":"]}),(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap",children:[(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("span",{children:(0,x.jsx)(j.jH,{})})," ",(0,x.jsxs)("span",{className:"mx-2 text-nowrap",children:[(0,B.Yq)(l,"DD MMM YYYY","DD-MM-YYYY")," |"," ",i," "]})]}),(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("span",{children:(0,x.jsx)(j.jH,{})}),(0,x.jsxs)("span",{className:"mx-2 text-nowrap",children:[" ",(0,B.Yq)(n,"DD MMM YYYY","DD-MM-YYYY")," | ",d," "]})]})]})]}),a.filter((e=>{let{id:s}=e;return null===t||void 0===t?void 0:t.includes(s)})).length?a.filter((e=>{let{id:s}=e;return t.includes(s)})).map((e=>(0,x.jsxs)("div",{className:"venue-banquet-wrapper mb-2",children:[(0,x.jsx)("h6",{className:"fw-bold pb-2 mb-2 border-bottom-summary-selection",children:e.venueName}),(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,x.jsx)(j.$u,{}),(0,x.jsxs)("span",{className:"ms-2 txt-semi-dark",children:[e.onGoingInquiryCount||0," Ongoing inquiries"]})]}),e.tentativeBlock>0&&(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,x.jsx)(j.$u,{}),(0,x.jsxs)("span",{className:"ms-2 txt-semi-dark",children:[e.tentativeBlock," on Tentative Block"]})]}),e.waitingListCount>0&&(0,x.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[(0,x.jsx)(j.$u,{}),(0,x.jsxs)("span",{className:"ms-2 txt-semi-dark",children:[e.waitingListCount," on Waiting list"]})]})]}))):(0,x.jsxs)("div",{className:"no-venue-added-error",children:[(0,x.jsx)(j.DX,{}),(0,x.jsx)("span",{className:"txt-danger ms-2",children:"No Venues Added."})]})]})}))]})},Ud=e=>{let{addVenueClick:s,proceedBtnClick:a,show:t,handleClose:l,allSlotNoVenue:n}=e;return(0,x.jsxs)(E.A,{scrollable:!0,show:t,onHide:l,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:140,width:140,src:Xe,alt:"add-img",className:"mb-3"}),(0,x.jsx)("h2",{className:"page-heading mb-3",children:"Warning Action"}),(0,x.jsxs)("p",{className:"description mb-3 text-center fs-16-px",children:["You have not added venues for"," ",n?"all":"some of"," the slots"]}),(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center"})]})})})}),(0,x.jsxs)(E.A.Footer,{children:[(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-40",onClick:s,children:"Add Venue"}),(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:(0,x.jsx)("span",{className:"ms-1",children:"Proceed"})})]})]})},Hd=e=>{let{show:s,handleClose:a}=e;return(0,x.jsxs)(E.A,{scrollable:!0,show:s,onHide:a,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:140,width:140,src:Xe,alt:"add-img",className:"mb-3"}),(0,x.jsx)("h2",{className:"page-heading mb-3",children:"Warning Action"}),(0,x.jsx)("p",{style:{width:"460px"},className:"description mb-3 text-center fs-16-px",children:"Please select at least 1 venue for all the slots added to proceed or delete the slot."})]})})})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:a,children:(0,x.jsx)("span",{className:"ms-1",children:"Okay"})})})]})},Qd=()=>{var e,s,a,n;const{inquiryInfoData:i={},setInquiryInfoData:d,reload:c,setIsDataChange:h,activeStep:v,setActiveStep:p}=(0,l.KC)(),g=(0,l.Zp)(),N=(0,l.g)(),[b,f]=(0,t.useState)([]),[y,A]=(0,t.useState)(0),[I,C]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,D]=(0,t.useState)(!1),[T,O]=(0,t.useState)(!1),[q,P]=(0,t.useState)(!1),[B,F]=(0,t.useState)(!0),[E,R]=(0,t.useState)(""),M=(null===(e=i.inquirySlotDTO)||void 0===e?void 0:e.filter((e=>{let{isDeleted:s}=e;return!0!==s})))||[],Y=null===(s=i.inquirySlotDTO)||void 0===s?void 0:s.filter((e=>{let{isDeleted:s}=e;return s})).map((e=>{var s;return{...e,selectedVenueDTOs:null===(s=e.selectedVenueDTOs)||void 0===s?void 0:s.map((e=>{let{id:s,venueName:a}=e;return{id:s,venueName:a}}))}}));(0,t.useEffect)((()=>{L(),p(2)}),[i.inquirySlotDTO]);const L=async()=>{F(!0);let e=[];for(let t=0;t<(null===M||void 0===M?void 0:M.length);t++){const s=M[t],l=s.selectedVenueDTOs?s.selectedVenueDTOs.map((e=>{let{id:s,venueName:a}=e;return{id:s,venueName:a}})):[];let n={inquiryInfoId:N.inquiryId.includes("new-")?0:N.inquiryId,slotStarDate:s.bookingStartDate,slotEndDate:s.bookingEndDate,startTime:s.startTime,endTime:s.endTime,selectedVenueList:l};try{const a=await Ts.getAvailableNotAvailableVenueList(n),{data:t,title:i}=a;if(i===o.A.success){const{venueAvailableDTO:a,venueNotAvailableDTO:n}=t||{},i=[...a||[],...n||[]];e.push({...s,availableNotAvailableList:i,selectedVenueDTOs:l.map((e=>{let{id:s}=e;return s}))})}}catch(a){r.oR.error(a)}}f(e),F(!1);const{slotTempId:s}=e[0]||{};A(s)},V=()=>{let e=[];b.forEach((s=>{const{availableNotAvailableList:a,...t}=s;e.push({...t,selectedVenueDTOs:a.filter((e=>{let{id:s}=e;return t.selectedVenueDTOs.includes(s)})).map((e=>{let{id:s,venueName:a}=e;return{id:s,venueName:a}}))})})),d({...i,inquirySlotDTO:[...Y,...e]}),g("/inquiry-bookings/inquiry/"+N.inquiryId+"/review")},H=(null===b||void 0===b?void 0:b.find((e=>e.slotTempId==y)))||{},{selectedVenueDTOs:Q=[],availableNotAvailableList:W=[]}=H,z=U("Inquiries","Dispose");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"inquiry-top-wrapper mb-4",children:[(0,x.jsx)(Sd,{step:2}),(0,x.jsxs)("div",{className:"inquiry-btns-wrapper",children:[2===v&&N.inquiryId.includes("new-")?z&&(0,x.jsxs)("button",{className:"btn btn-outline-danger dlt-btn btn-40",onClick:()=>D(!0),children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(u.ep,{})}),(0,x.jsx)("span",{className:"ms-0",children:"Dispose"})]}):(0,x.jsx)("button",{className:"btn txt-primary fw-bold dlt-btn btn-40",onClick:()=>O(!0),children:(0,x.jsx)("span",{className:"ms-0",children:"Discard"})}),(0,x.jsx)("button",{className:"btn btn-primary btn-40 ms-3",onClick:()=>{if(i.inquiryInfoId){const e=b.some((e=>{let{selectedVenueDTOs:s=[]}=e;return 0===(null===s||void 0===s?void 0:s.length)}));e?k(!0):V()}else{const e=b.some((e=>{let{selectedVenueDTOs:s=[]}=e;return 0===(null===s||void 0===s?void 0:s.length)}));e?C(!0):V()}},children:"Next"})]})]}),(0,x.jsxs)("div",{className:"form-title-wrapper mb-4",children:[(0,x.jsx)("div",{className:"title fw-bold",children:"Inquiry Information"}),(0,x.jsx)("div",{className:"line"})]}),B?(0,x.jsx)("div",{children:(0,x.jsx)("div",{style:{height:"45vh"},className:"d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})})}):(0,x.jsxs)("div",{className:"row calc-height",children:[(0,x.jsxs)("div",{className:"col-md-8 ".concat(0===W.length?"":"border-right-4-px"),children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,x.jsx)("div",{className:1===(null===M||void 0===M?void 0:M.length)?"hide-dropdown-arrow":"",children:(0,x.jsx)(Za,{value:y,onChange:e=>{A(e.target.value)},dataSource:M.map(((e,s)=>({text:"",value:e.slotTempId,index:s+1,bookingStartDate:e.bookingStartDate,startTime:e.startTime,bookingEndDate:e.bookingEndDate,endTime:e.endTime}))),readonly:1===(null===M||void 0===M?void 0:M.length)})}),W.length>0&&(0,x.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",children:[(0,x.jsx)(j.pL,{}),(0,x.jsx)("span",{className:"ms-2 fw-bold txt-primary",onClick:()=>P(!0),children:"Edit Details"})]})]}),W.length>0&&(0,x.jsx)(Ld,{selectedSlot:null===M||void 0===M?void 0:M.find((e=>e.slotTempId==y)),selectedVenues:null===M||void 0===M||null===(a=M.find((e=>e.slotTempId==y)))||void 0===a||null===(n=a.selectedVenueDTOs)||void 0===n?void 0:n.map((e=>{let{id:s}=e;return s})),setSelectedAvailable:e=>{let s=[];b.forEach((a=>{a.slotTempId===y?s.push({...a,selectedVenueDTOs:e}):s.push(a)})),f(s),h(!0)},availableNotAvailableList:W,selectedAvailable:Q,showRightNotAvailable:E})]}),W.length>0&&(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)(Vd,{slotWithVenueList:b})}),0===W.length&&(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)(Wd,{setSelectVenueShow:P})})]}),(0,x.jsx)(Ed,{slotData:H,selectedVenueList:W,show:q,handleClose:()=>P(!1),onContinue:e=>{R(y),P(!1);let s=[];b.forEach((a=>{a.slotTempId===y?s.push({...a,availableNotAvailableList:e}):s.push(a)})),f(s)}}),(0,x.jsx)(Ud,{allSlotNoVenue:!b.some((e=>{let{selectedVenueDTOs:s=[]}=e;return(null===s||void 0===s?void 0:s.length)>0})),show:I,addVenueClick:()=>{P(!0),C(!1);const e=b.find((e=>{let{selectedVenueDTOs:s=[]}=e;return 0===(null===s||void 0===s?void 0:s.length)}))||{};A((null===e||void 0===e?void 0:e.slotTempId)||0)},handleClose:()=>C(!1),proceedBtnClick:V}),(0,x.jsx)(Hd,{show:w,handleClose:()=>k(!1)}),(0,x.jsx)(Dd,{show:S,handleClose:()=>D(!1),inquiryInfo:i}),(0,x.jsx)(Td,{show:T,handleClose:()=>O(!1),inquiryId:i.inquiryInfoId})]})},Wd=e=>{let{setSelectVenueShow:s}=e;return(0,x.jsxs)("div",{children:[(0,x.jsx)("h6",{className:"fw-bold mb-0 text-start",children:"Venues"})," ",(0,x.jsx)("div",{style:{height:"45vh"},className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{height:180,width:180,src:Ce,alt:"add-img"}),(0,x.jsx)("h4",{className:"page-heading mb-3 fs-18-px",children:"Select Venue to continue"}),(0,x.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,x.jsxs)("button",{className:"btn btn-primary btn-40 add-btn",onClick:()=>s(!0),children:[(0,x.jsx)(j.c1,{}),(0,x.jsx)("span",{children:"Add Venue"})]})})]})})]})},zd=e=>{let{handleClose:s,show:a,onConfirm:l}=e;const[n,i]=(0,t.useState)(""),[d,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{i(""),c(!1)}),[a]);return(0,x.jsx)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"Confirm"===n?(l(),s(),c(!1)):c(!0)},children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirmation"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-center flex-column my-3",children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ne,alt:"image",height:120,width:120})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Are you sure?"}),(0,x.jsx)("p",{style:{width:"340px"},className:"description mb-3 text-center mx-auto fs-16-px",children:"Your primary inquiry and venue details will change."})]}),(0,x.jsxs)("p",{className:"mb-3 text-center type-text",children:["Type ",(0,x.jsx)("span",{className:"font-italic text-primary",children:'"Confirm"'})," ","to proceed"]}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control confirm-input ".concat(d?"error":""),placeholder:"Confirm",value:n,onChange:e=>{i(e.target.value),c(!1)}})})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{type:"submit",variant:"primary",className:"btn-40",children:"Confirm"})})]})})},Gd=e=>{let{handleClose:s,show:a,onOkayClick:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Create Inquiry"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex justify-content-center flex-column my-3",children:[(0,x.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,x.jsx)("img",{src:ne,alt:"image",height:120,width:120})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{className:"fw-bold text-center mb-3",children:"Create Inquiry Successful"}),(0,x.jsx)("p",{style:{width:"370px"},className:"description mb-3 text-center mx-auto fs-16-px",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:t,children:"Okay"})})]})},Kd=()=>{var e,s;const[a,n]=(0,t.useState)(!1),[i,d]=(0,t.useState)(!1),[c,m]=(0,t.useState)(!1),[h,v]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),{inquiryInfoData:N,setIsDataChange:b,activeStep:f,setActiveStep:y,assignUserList:A,duplicateInquiryData:I}=(0,l.KC)(),{inquiryInfoId:C,inquiryTypeId:w,inquiryBookingTypeId:k,inquiryPurpose:S,inquiryPurposeId:D,brideName:T,groomName:O,company:q,title:P,inquirySource:F,inquirySourceId:E,sourceFullName:R,sourceMobileNumber:M,sourceEmail:Y,sourceWebsite:L,sourceCompanyName:V,inquiryPriorityId:H,assignedTo:W,actionId:z,leadOwnerId:G,guestDetailId:K,actionReason:Z}=N,J=(0,l.g)(),X=(0,l.Zp)(),[_,$]=(0,t.useState)(!0),ee=N.inquirySlotDTO||[],se=ee.filter((e=>{let{isDeleted:s}=e;return!0!==s})),ae=null===(e=J.inquiryId)||void 0===e?void 0:e.split("-")[1],te=async()=>{try{var e,s;let a={inquiryInfoId:C,inquiryTypeId:w,inquiryBookingTypeId:k,inquiryPurposeId:D,inquiryPriorityId:H,brideName:T,groomName:O,company:q,title:P,inquirySourceId:E,sourceFullName:R,sourceMobileNumber:M,sourceEmail:Y,sourceWebsite:L,sourceCompanyName:V,guestDetailId:K||ae,leadOwnerId:G,actionId:z,actionReason:Z,inquirySlotDTO:ee.filter((e=>{let{selectedVenueDTOs:s}=e;return s&&(null===s||void 0===s?void 0:s.length)>0})),isDisposed:!1,reason:"",duplicateInquiryInfoId:I?null===(e=I[0])||void 0===e?void 0:e.inquiryInfoId:0};if(null!==(s=J.inquiryId)&&void 0!==s&&s.startsWith("new")){let e=await Ts.addInquiryInfo(a);e.title===o.A.success&&(g(!0),v(e.detail))}else{let e=await Ts.updateInquiryInfo(a);e.title===o.A.success&&X("/inquiry-bookings/inquiry-info/"+e.detail)}}catch(a){r.oR.error(a.message)}};(0,t.useEffect)((()=>{let e=!0;se.forEach((s=>{let{selectedVenueDTOs:a}=s;a&&a.length>0&&(e=!1)})),$(e),y(3)}),[]);const le=U("Inquiries","Dispose");return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"inquiry-top-wrapper mb-4",children:[(0,x.jsx)(Sd,{step:3}),(0,x.jsxs)("div",{className:"inquiry-btns-wrapper",children:[3===f&&J.inquiryId.includes("new-")?le&&(0,x.jsxs)("button",{className:"btn btn-outline-danger dlt-btn btn-40",onClick:()=>d(!0),children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(u.ep,{})}),(0,x.jsx)("span",{className:"ms-0",children:"Dispose"})]}):(0,x.jsx)("button",{className:"btn txt-primary fw-bold dlt-btn btn-40",onClick:()=>m(!0),children:(0,x.jsx)("span",{className:"ms-0",children:"Discard"})}),(0,x.jsx)("button",{type:"button",className:"btn btn-primary btn-40 ms-3",onClick:()=>{var e;null!==(e=J.inquiryId)&&void 0!==e&&e.startsWith("new")?te():n(!0)},disabled:_,children:null!==(s=J.inquiryId)&&void 0!==s&&s.startsWith("new")?"Create Inquiry":"Update Inquiry"})]})]}),(0,x.jsxs)("div",{className:"form-title-wrapper mb-4",children:[(0,x.jsx)("div",{className:"title fw-bold",children:"Inquiry Information"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsxs)("div",{className:"row mb-3",children:[(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Inquiry Type"}),(0,x.jsx)("div",{children:Q.O.inquiryType.text[w]})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Booking Type"}),(0,x.jsx)("div",{children:Q.O.inquiryBookingTypes.text[k]})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Purpose"}),(0,x.jsx)("div",{children:S})]})}),T&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Bride Name"}),(0,x.jsx)("div",{children:T})]})}),O&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Groom Name"}),(0,x.jsx)("div",{children:O})]})}),q&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Company Name"}),(0,x.jsx)("div",{children:q})]})}),P&&(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Title"}),(0,x.jsx)("div",{children:P})]})})]}),(0,x.jsx)("hr",{className:"custom-hr mt-0"}),(0,x.jsx)("div",{children:se.map(((e,s)=>{let{bookingStartDate:a,bookingEndDate:t,startTime:l,endTime:n,paxCount:i,foodPreferenceIds:d,beveragePreferenceIds:c,selectedVenueDTOs:r}=e;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"txt-primary fw-bold mb-2",children:["Slot ",s+1]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4 col-sm-6 col-lg-3 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Booking Start Date & Time"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.FE,{}),(0,x.jsxs)("span",{className:"ms-2",children:[(0,B.Yq)(a,"DD MMM YYYY","DD-MM-YYYY")," | ",l]})]})]}),(0,x.jsxs)("div",{className:"col-md-4 col-sm-6 col-lg-3 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Booking End Date & Time"}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.FE,{}),(0,x.jsxs)("span",{className:"ms-2",children:[" ",(0,B.Yq)(t,"DD MMM YYYY","DD-MM-YYYY")," | ",n]})]})]}),(0,x.jsxs)("div",{className:"col-md-2 col-sm-6 col-lg-2 mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Pax Count"}),(0,x.jsx)("div",{children:i})]}),d&&(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Food Preference"}),(0,x.jsx)("div",{children:d.split(",").map((e=>Q.O.FoodType.text[e])).join(",")})]}),c&&(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-2",children:[(0,x.jsx)("label",{className:"form-label mb-1",children:"Beverage Preference"}),(0,x.jsx)("div",{children:c.split(",").map((e=>Q.O.beveragePreference.text[e])).join(",")})]})]})]}),(null===r||void 0===r?void 0:r.length)>0?null:(0,x.jsxs)("div",{className:"no-venue-selected mb-2",children:[(0,x.jsx)("div",{className:"icon",children:(0,x.jsx)(u.hc,{height:24,width:24})}),(0,x.jsx)("div",{className:"message",children:"No Venue Selected. This slot information will not be available on the inquiry."})]})]})}))}),(0,x.jsx)("hr",{className:"custom-hr"}),(0,x.jsx)("div",{className:"bottom-wrapper",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Source"}),(0,x.jsx)("div",{children:F})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Full Name "}),(0,x.jsx)("div",{children:R||"-"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mobile"}),(0,x.jsx)("div",{children:M||"-"})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Email"}),(0,x.jsx)("div",{children:Y||"-"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Website"}),(0,x.jsx)("div",{children:L||"-"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Company Name "}),(0,x.jsx)("div",{children:V||"-"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Priority "}),(0,x.jsx)("div",{children:Q.O.inquiryPriority.text[H]})]}),(0,x.jsxs)("div",{className:"col-md-3 col-lg-2 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Assigned To "}),(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:(null===N||void 0===N?void 0:N.leadOwnerProfileImage)||Ja,alt:"assigner-image",className:"me-1 rounded-5 ",width:18,height:18}),(0,x.jsx)("span",{children:(null===A||void 0===A?void 0:A.find((e=>e.value===N.leadOwnerId)).text)||N.assignedTo})]})]})]})}),(0,x.jsx)(Dd,{show:i,handleClose:()=>d(!1),inquiryInfo:N}),(0,x.jsx)(Td,{show:c,handleClose:()=>m(!1),inquiryId:C}),(0,x.jsx)(zd,{show:a,handleClose:()=>n(!1),onConfirm:te}),(0,x.jsx)(Gd,{show:p,onOkayClick:()=>{X("/inquiry-bookings/inquiry-info/"+h,{state:!0})},handleClose:()=>{g(!1),X("/inquiry-bookings/inquiry-info/"+h,{state:!0})}})]})},Zd=e=>{let{show:s,setShow:a,onConfirm:t}=e;return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:()=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Delete"})}),(0,x.jsx)(E.A.Body,{className:"text-center",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:M,alt:"delete"}),(0,x.jsx)("h4",{className:"fw-bold mt-2 ",children:"Delete Action ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px ",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px fw-bolder",onClick:t,children:"Confirm"})})]})})},Jd=e=>{let{modalKey:s,show:a,setShow:t,onConfirm:l}=e;return(0,x.jsxs)(E.A,{size:"sm",show:a,onHide:e=>t(!1),className:"custom-modal quotation-success-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0}),(0,x.jsx)(E.A.Body,{className:"modal-body d-flex justify-content-center align-items-center",children:(0,x.jsxs)("div",{className:"text-center d-flex flex-column align-items-center gap-3",children:[(0,x.jsx)("img",{src:It,alt:"pending"}),(0,x.jsxs)("p",{className:"quotation-success",children:["send"===s&&"Quotation sent successfully","save"===s&&"Quotation saved successfully","download"===s&&"Quotation downloaded successfully"]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px fw-bolder",onClick:l,children:"Okay"})})]})},Xd=()=>{const e=(0,l.Zp)(),s=(0,l.g)(),[a,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[v,p]=(0,t.useState)([]),[g,N]=(0,t.useState)(null),{profileDetails:b}=(0,t.useContext)(V.t0),[f,y]=(0,t.useState)({quotationId:0,quotationForId:0,firstName:"",middleName:"",lastName:"",mobileCountryCode:Q.O.countryCodes.text[1],mobileNumber:0,emailId:"",titleId:0,title:"",companyName:"",taxNumber:"",aadharNumber:"",companyPANNumber:"",panNumber:"",address:"",companyAddress:"",countryId:0,stateId:0,cityId:0,pinCode:"",statusId:0,countryName:"",stateName:"",cityName:"",includeInQuotationIds:"",quotationValidTill:"",additionalDetails:"",paymentTerms:"",accountDetailId:0,inquiryInfoId:0,venueDetailId:0,guestDetailId:0,base64Data:"",isContinue:!0,pdfUrl:""}),[A,I]=(0,t.useState)({header:"",footer:"",quotation:"",docs:[],specialRequests:[],venueInfo:[],amenities:[],foodPackageList:[],beveragePackageList:[],fbPackageList:[],billingSummaryDetails:[],personal:[],corporate:[]}),[C,w]=(0,t.useState)([]),[k,S]=(0,t.useState)([]),[D,T]=(0,t.useState)([]);(0,t.useEffect)((()=>{O(),isNaN(s.quotationId)||q()}),[]);const O=async e=>{i(!0);try{const e=await Ts.getInquiryById(s.inquiryId);e.title===o.A.success&&p(e.data)}catch(a){r.oR.error(a.message)}finally{i(!1)}},q=async()=>{i(!0);try{const e=await Ts.getQuotationById(s.quotationId);e.title===o.A.success&&y({...e.data,includeInQuotationIds:e.data.includeInQuotationIds.split(",").map(Number)})}catch(e){r.oR.error(e.message)}finally{i(!1)}},P=async e=>{i(!0);try{(await Ts.saveDraftStatus(e)).title===o.A.success&&(N("save"),h(!0))}catch(s){r.oR.error(s.message)}finally{i(!1)}},B=U("Quotation","Add"),F=U("Quotation","Edit"),E=U("Quotation","Delete");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)("div",{className:"header-container",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)(n.N_,{className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name text-decoration-none",to:"/guest-management/guest-details/".concat(v.guestDetailId),children:[v.guestUserName," / ",v.inquiryInfoId]}),(0,x.jsx)(ra,{id:v.inquiryStateId})]})})}),(0,x.jsx)("main",{className:"quotation-main ",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white h-100",children:a?(0,x.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsx)(l.sv,{context:{inquiryInfoData:v,quotationDetails:f,setQuotationDetails:y,saveAsDraft:async()=>{i(!0);try{let e={...f,inquiryInfoId:v.inquiryInfoId,includeInQuotationIds:f.includeInQuotationIds.toString(),guestDetailId:v.guestDetailId};const s=await Ts.addQuotationDetails(e);s.title===o.A.success&&P(s.detail)}catch(e){r.oR.error(e.message)}finally{i(!1)}},setShowDeleteModal:c,country:C,setCountry:w,state:k,setState:S,city:D,setCity:T,previewDetails:A,setPreviewDetails:I,permissions:{canAdd:B,canEdit:F,canDelete:E},profileDetails:b}})})}),(0,x.jsx)(Zd,{show:d,setShow:c,onConfirm:()=>(async()=>{i(!0);try{(await Ts.deleteQuotation(null===f||void 0===f?void 0:f.quotationId,v.inquiryInfoId)).title===o.A.success&&e("/inquiry-bookings/inquiry-info/".concat(v.inquiryInfoId,"/quotations"))}catch(s){r.oR.error(s.message)}finally{i(!1)}})()}),(0,x.jsx)(Jd,{show:u,setShow:h,onConfirm:()=>e("/inquiry-bookings/inquiry-info/".concat(v.inquiryInfoId,"/quotations")),modalKey:g})]})},_d=e=>{let{step:s,isValid:a,saveData:n}=e;const[i,d]=(0,t.useState)({quotationCreate:"",quotationPreview:"",quotationShare:""}),c=(0,l.Zp)(),r=(0,l.g)();return(0,t.useEffect)((()=>{let e="blank",a="blank",t="blank";1===s&&(e="active"),2===s&&(e="done",a="active"),3===s&&(e="done",a="done",t="active"),d({quotationCreate:e,quotationPreview:a,quotationShare:t})}),[s]),(0,t.useEffect)((()=>{document.body.classList.remove("e-control","e-tooltip","e-lib")}),[]),(0,x.jsxs)("div",{className:"create-quotation-stepper",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"progress-item ".concat(i.quotationCreate),role:"button",onClick:()=>c("/inquiry-bookings/inquiry-info/".concat(r.inquiryId,"/quotation/create/").concat(r.quotationId)),children:[(0,x.jsx)("div",{className:"icon-wrapper",children:(0,x.jsx)("div",{children:"blank"===i.quotationCreate?(0,x.jsx)(j.UA,{}):(0,x.jsx)(j.UQ,{})})}),(0,x.jsx)("div",{className:"title fw-bold ms-2",children:"Create"})]}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsxs)("div",{className:"progress-item ".concat(i.quotationPreview),role:"button",onClick:()=>a&&c("/inquiry-bookings/inquiry-info/".concat(r.inquiryId,"/quotation/preview/").concat(r.quotationId)),children:[(0,x.jsx)("div",{className:"icon-wrapper",children:(0,x.jsx)("div",{children:"blank"===i.quotationPreview?(0,x.jsx)(j.Nn,{}):(0,x.jsx)(j.X$,{})})}),(0,x.jsx)("div",{className:"title fw-bold ms-2",children:"Preview"})]}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)("div",{className:"d-flex align-items-center",children:(0,x.jsxs)("div",{className:"progress-item ".concat(i.quotationShare),role:"button",onClick:()=>{n&&n(),a&&c("/inquiry-bookings/inquiry-info/".concat(r.inquiryId,"/quotation/share/").concat(r.quotationId))},children:[(0,x.jsx)("div",{className:"icon-wrapper",children:(0,x.jsx)("div",{children:"blank"===i.quotationShare?(0,x.jsx)(j.Nn,{}):(0,x.jsx)(j.X$,{})})}),(0,x.jsx)("div",{className:"title fw-bold ms-2",children:"Share"})]})})]})};S().extend(J());const $d=()=>{const e={items:["Bold","Italic","Underline","StrikeThrough","FontName","FontSize","FontColor","BackgroundColor","LowerCase","UpperCase","|","Formats","Alignments","OrderedList","UnorderedList","Outdent","Indent","|","|","ClearFormat","FullScreen","|","Undo","Redo"],type:"Expand"},s={image:["Replace","Align","Caption","Remove","InsertLink","OpenImageLink","-","EditImageLink","RemoveImageLink","Display","AltText","Dimension"],link:["Open","Edit","UnLink"]},a={items:[{text:"Segoe UI",value:"Segoe UI"},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"Courier New,Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Calibri Light",value:"CalibriLight"},{text:"Lato",value:"Lato"}],width:"60px",default:"Lato"},[n,i]=(0,t.useState)(!1),d=(0,l.Zp)(),c=(0,l.g)(),[m,h]=(0,t.useState)(!1),{inquiryInfoData:v,quotationDetails:p,setQuotationDetails:g,saveAsDraft:N,setShowDeleteModal:b,country:f,setCountry:y,state:A,setState:C,city:w,setCity:k,permissions:D,profileDetails:T}=(0,l.KC)(),[O,q]=(0,t.useState)({}),[P,B]=(0,t.useState)([]);(0,t.useEffect)((()=>{F()}),[]),(0,t.useEffect)((()=>{p.countryId&&E()}),[p.countryId]),(0,t.useEffect)((()=>{p.stateId&&R()}),[p.stateId]);const F=async()=>{B(!0);try{const e=await je.A.getAllCountryList(),{title:s,data:a}=e;s===o.A.success&&y(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{B(!1)}},E=async()=>{B(!0);try{const e=await je.A.getAllStateList(p.countryId),{title:s,data:a}=e;s===o.A.success&&C(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{B(!1)}},R=async()=>{B(!0);try{const e=await je.A.getAllCityList(p.stateId),{title:s,data:a}=e;s===o.A.success&&k(a.map((e=>{let{id:s,title:a}=e;return{text:a,value:s}})))}catch(e){r.oR.error(e.message)}finally{B(!1)}},M=e=>{const{value:s}=e.target,a={...p};a.quotationForId=parseInt(s),a.companyAddress="",a.companyName="",a.companyPANNumber="",a.address="",a.panNumber="",a.taxNumber="",a.aadharNumber="",g(a),(async()=>{try{const e=await ve.getGuestById(v.guestDetailId),{title:s,data:a}=e;if(s===o.A.success){let{guestDetailByIdDTO:e,guestAddressOutDTO:s,companyInfoDTO:t}=a;g((a=>({...a,titleId:e.titleId,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,countryId:(null===s||void 0===s?void 0:s.guestCountryId)||0,address:(null===s||void 0===s?void 0:s.guestAddress)||"",stateId:(null===s||void 0===s?void 0:s.guestStateId)||0,cityId:(null===s||void 0===s?void 0:s.guestCityId)||0,pinCode:(null===s||void 0===s?void 0:s.guestZipCode)||"",mobileCountryCode:e.countryCode,mobileNumber:e.mobileNumber,emailId:e.emailAddress,companyName:null===t||void 0===t?void 0:t.companyName})))}}catch(e){r.oR.error(e.message)}})()},Y=e=>{const{value:s,name:a}=e.target,t={...p};t[a]=s,g(t)},L=e=>{const s=Number(e.target.value);g((e=>{const a=e.includeInQuotationIds.includes(s)?e.includeInQuotationIds.filter((e=>e!==s)):[...e.includeInQuotationIds,s];return{...e,includeInQuotationIds:a}}))},V=(0,t.useMemo)((()=>{const{firstName:e,lastName:s,mobileNumber:a,emailId:t,includeInQuotationIds:l,quotationForId:n,companyName:i,titleId:d}=p;return e&&s&&a&&t&&l.length&&n&&d&&(2!==n||i)?(h(!0),!1):(h(!1),!0)}),[p]),U=()=>{let{mobileNumber:e,emailId:s,panNumber:a,aadharNumber:t,companyPANNumber:l}={...p},n={},i=!0;0===e.length?(n.mobileNumber="Please enter mobile number",i=!1):(0,pe.Up)(e)||(n.mobileNumber="Please enter a valid 10-digit mobile number",i=!1),0===s.length?(n.emailId="Please enter email address",i=!1):(0,pe.DT)(s)||(n.emailId="Please enter a valid email address",i=!1);let d=new RegExp(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/);a.length>0&&(d.test(a)||(n.panNumber="Please enter a valid PAN number",i=!1)),l.length>0&&(d.test(l)||(n.companyPANNumber="Please enter a valid PAN number",i=!1));let c=new RegExp(/^[2-9]{1}[0-9]{3}\s[0-9]{4}\s[0-9]{4}$/);return t.length>0&&(c.test(t)||(n.aadharNumber="Please enter a valid aadhar number",i=!1)),q(n),i},H=(0,t.useMemo)((()=>{var e;return null===v||void 0===v||null===(e=v.inquirySlotOutDTO)||void 0===e?void 0:e.some((e=>{var s;return null===e||void 0===e||null===(s=e.selectedVenueDTOs)||void 0===s?void 0:s.some((e=>e.isFB))}))}),[v]),{quotationStatusEnum:z,quotationTypeEnum:G}=Q.O,K=p.statusId===z.value.Sent||p.statusId===z.value.Download||!(null!==D&&void 0!==D&&D.canEdit)||(null===T||void 0===T?void 0:T.id)!==(null===v||void 0===v?void 0:v.leadOwnerId)&&(null===T||void 0===T?void 0:T.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"quotation-header-container",children:(0,x.jsxs)("div",{className:"title-header",children:[(0,x.jsx)("div",{className:"title",children:"Quotations"}),(0,x.jsx)("div",{className:"line-diff"}),!K&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{align:"start",children:[(0,x.jsx)(W.A.Toggle,{as:e=>(0,x.jsx)("div",{...e,role:"button",children:(0,x.jsxs)("span",{className:"fs-13-px txt-primary fw-bold user-select-none",children:["More Action",(0,x.jsx)("span",{className:"ms-1",children:(0,x.jsx)(j.p$,{strokeColor:"#7D63EC"})})]})})}),(0,x.jsxs)(W.A.Menu,{className:"quotation-dropdown-list",children:[(0,x.jsx)(W.A.Item,{href:"#",onClick:e=>{d("/inquiry-bookings/inquiry-info/".concat(c.inquiryId))},children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(j.wD,{}),"\xa0\xa0 Discard"]})}),(null===D||void 0===D?void 0:D.canDelete)&&(0,x.jsx)(x.Fragment,{children:!isNaN(c.quotationId)&&p.statusId===z.value.Draft&&(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>b(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.RZ,{}),"\xa0\xa0 Delete"]})})})]})]})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("button",{type:"button",className:"btn btn-outline-primary fs-13-px fw-bold me-2",onClick:()=>{U()&&N()},disabled:V,children:[n&&(0,x.jsx)(se.y$,{animation:"border",size:"sm",className:"me-1"}),"Save as Draft"]}),(0,x.jsx)("button",{disabled:V,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:()=>{U()&&d("/inquiry-bookings/inquiry-info/".concat(c.inquiryId,"/quotation/preview/").concat(c.quotationId))},children:"Continue"})]})]})]})}),(0,x.jsx)(_d,{step:1,isValid:m}),(0,x.jsxs)("div",{className:"create-quotation-wrapper",children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("h6",{className:"heading mb-0 text-nowrap ",children:"Quotation for *"}),(0,x.jsx)("div",{className:"header-separator"})]}),(0,x.jsxs)("div",{className:"create-quotation-form",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-5 col-lg-4 col-sm-6 mb-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-5",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",value:G.value.Individual,checked:p.quotationForId===G.value.Individual,name:"individual",id:"individual",onChange:M,disabled:K}),(0,x.jsx)("label",{className:"data-label ".concat(p.quotationForId===G.value.Individual?"checked":""),htmlFor:"individual",children:"Individual"})]})}),(0,x.jsx)("div",{className:"col-6 d-flex align-items-end",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"radio",value:G.value.Corporate,checked:p.quotationForId===G.value.Corporate,name:"corporate",id:"corporate",onChange:M,disabled:K}),(0,x.jsx)("label",{className:"data-label ".concat(p.quotationForId===G.value.Corporate?"checked":""),htmlFor:"corporate",children:"Corporate"})]})})]})})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label data-label mb-0",children:"First Name *"}),(0,x.jsxs)("div",{className:"custom-input",children:[(0,x.jsx)("div",{className:"mb-country",children:(0,x.jsx)(oe.A,{onChange:Y,value:p.titleId,dataSource:Q.O.titles.list,name:"titleId",enabled:!K})}),(0,x.jsx)("div",{className:"mb-input",children:(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"firstName",value:p.firstName,onChange:Y,readOnly:K})})]})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label data-label mb-0",children:"Middle Name"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"middleName",value:p.middleName,onChange:Y,readOnly:K})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label data-label mb-0",children:"Last Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter name",name:"lastName",value:p.lastName,onChange:Y,readOnly:K})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label data-label mb-0",children:"Mobile Number *"}),(0,x.jsxs)("div",{className:"custom-input",children:[(0,x.jsx)("div",{className:"mb-country",children:(0,x.jsx)(oe.A,{dataSource:Q.O.countryCodes.list,value:1,enabled:!K})}),(0,x.jsx)("div",{className:"mb-input",children:(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",name:"mobileNumber",onChange:Y,value:p.mobileNumber||"",min:10,maxLength:10,autoComplete:"off",readOnly:K})})]})]}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(O.emailId&&"error"),children:[(0,x.jsx)("label",{className:"data-label data-label mb-0",children:"Email ID *"}),(0,x.jsx)("input",{type:"email",className:"form-control input-one-line",placeholder:"Enter name",name:"emailId",value:p.emailId,onChange:Y,readOnly:K}),O&&O.emailId&&(0,x.jsx)("div",{className:"input-error-text",children:O.emailId})]})}),p.quotationForId===G.value.Individual&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(O.panNumber&&"error"),children:[(0,x.jsx)("label",{className:"data-label data-label mb-0",children:"PAN Number"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter PAN Number",name:"panNumber",value:p.panNumber,onChange:Y,readOnly:K}),O&&O.panNumber&&(0,x.jsx)("div",{className:"input-error-text",children:O.panNumber})]})}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(O.aadharNumber&&"error"),children:[(0,x.jsx)("label",{className:"data-label  mb-0",children:"Aadhar Number"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Aadhar Number eg.2342 3456 6745",name:"aadharNumber",value:p.aadharNumber,onChange:Y,readOnly:K}),O&&O.aadharNumber&&(0,x.jsx)("div",{className:"input-error-text",children:O.aadharNumber})]})}),(0,x.jsxs)("div",{className:"col-12 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Address"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Address",name:"address",value:p.address,onChange:Y,maxLength:50,readOnly:K})]})]}),p.quotationForId===G.value.Corporate&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Company Name *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Company Name",name:"companyName",value:p.companyName,onChange:Y,readOnly:K})]}),(0,x.jsx)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:(0,x.jsxs)("div",{className:"error-boundary ".concat(O.companyPANNumber&&"error"),children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Company PAN Number"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter PAN Number",name:"companyPANNumber",value:p.companyPANNumber,onChange:Y,readOnly:K}),O&&O.companyPANNumber&&(0,x.jsx)("div",{className:"input-error-text",children:O.companyPANNumber})]})}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Tax Number"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Tax",name:"taxNumber",value:p.taxNumber,onChange:Y,readOnly:K})]}),(0,x.jsxs)("div",{className:"col-12 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Company Address"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Address",name:"companyAddress",value:p.companyAddress,onChange:Y,readOnly:K})]})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Country"}),(0,x.jsx)(oe.A,{onChange:Y,value:p.countryId,name:"countryId",dataSource:f,placeholder:"Select",isLoading:P,enabled:!K})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"State"}),(0,x.jsx)(oe.A,{onChange:Y,value:p.stateId,name:"stateId",dataSource:A,placeholder:"Select",isLoading:P,enabled:!K})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"City"}),(0,x.jsx)(oe.A,{onChange:Y,value:p.cityId,name:"cityId",dataSource:w,placeholder:"Select",isLoading:P,enabled:!K})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Pin Code"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Enter Pin Code",name:"pinCode",value:p.pinCode,onChange:Y,readOnly:K})]})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("h6",{className:"heading mb-0 text-nowrap ",children:"Include in Quotation*"}),(0,x.jsx)("div",{className:"header-separator"})]}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsxs)("div",{className:"d-flex align-items-center w-100",children:[H&&(0,x.jsxs)("div",{className:"form-check me-4",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"F&B",name:"F&B",value:Q.O.quotationRentalType.value.FandB,checked:p.includeInQuotationIds.includes(Q.O.quotationRentalType.value.FandB),onChange:L,disabled:K}),(0,x.jsx)("label",{className:"quotation-check-label",htmlFor:"F&B",children:"F&B"})]}),(0,x.jsxs)("div",{className:"form-check me-4",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"venueRental",name:"venueRental",value:Q.O.quotationRentalType.value.venueRental,checked:p.includeInQuotationIds.includes(Q.O.quotationRentalType.value.venueRental),onChange:L,disabled:K}),(0,x.jsx)("label",{className:"quotation-check-label",htmlFor:"venueRental",children:"Venue Rental"})]}),(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"extraCharges",name:"extraCharges",value:Q.O.quotationRentalType.value.extraCharges,checked:p.includeInQuotationIds.includes(Q.O.quotationRentalType.value.extraCharges),onChange:L,disabled:K}),(0,x.jsx)("label",{className:"quotation-check-label",htmlFor:"extraCharges",children:"Extra Charges"})]})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("h6",{className:"heading mb-0 text-nowrap ",children:"Quotation Valid Till"}),(0,x.jsx)("div",{className:"header-separator"})]}),(0,x.jsxs)("div",{className:"col-md-3 col-sm-6 col-lg-2 mb-4",children:[(0,x.jsx)("label",{className:"data-label mb-0",children:"Date"}),(0,x.jsx)(X,{name:"quotationValidTill",value:p.quotationValidTill?S()(p.quotationValidTill,"DD-MM-YYYY").toDate():"",onChange:e=>((e,s)=>{const a={...p};if(e){const t=null===e||void 0===e?void 0:e.$d;a[s]=S()(t).format("DD-MM-YYYY"),g(a)}else a[s]="",g(a)})(e,"quotationValidTill"),placeholder:"DD / MM / YY",minDate:S()(new Date),disabled:K})]})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"header",children:(0,x.jsx)("h6",{className:"heading mb-0 text-nowrap ",children:"Additional Details"})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)(ei.q,{height:300,toolbarSettings:e,quickToolbarSettings:s,fontFamily:a,value:(null===p||void 0===p?void 0:p.additionalDetails)||"",change:e=>g({...p,additionalDetails:e.value}),enabled:!K,children:(0,x.jsx)(I.y_,{services:[si.M,ai._,ti.N,li.D,ni.v]})})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"header",children:(0,x.jsx)("h6",{className:"heading mb-0 text-nowrap ",children:"Payment Terms"})}),(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)(ei.q,{height:300,toolbarSettings:e,quickToolbarSettings:s,fontFamily:a,value:(null===p||void 0===p?void 0:p.paymentTerms)||"",change:e=>g({...p,paymentTerms:e.value}),enabled:!K,children:(0,x.jsx)(I.y_,{services:[si.M,ai._,ti.N,li.D,ni.v]})})})]})]})]})]})};var ec=a(7019);a(5275);const sc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0,a=arguments.length>3?arguments[3]:void 0;const t=(e,s)=>(null===e||void 0===e?void 0:e.reduce(((e,a)=>(s(a)&&(e+=a.totalAmount||0),e)),0))||0;return(null===e||void 0===e?void 0:e.reduce(((e,l)=>{const{selectedVenueDTOs:n}=l||{},i=null===n||void 0===n?void 0:n.reduce(((e,l)=>{const{inquiryFoodPackages:n,inquiryBillingBeveragePackages:i,inquiryBillingFoodBeverage:d,isFB:c,totalRentalAmount:r}=l||{},{Alcoholic:o,AlcoholicNonAlcoholic:m,NonAlcoholic:u}=Q.O.beveragePreference.value,h=t(n,(()=>!0)),x=t(i,(e=>{let{beveragePreferenceId:s}=e;return s===m})),v=t(i,(e=>e.beveragePreferenceId===o)),j=t(i,(e=>{let{beveragePreferenceId:s}=e;return s===u})),p=t(d,(e=>{let{beveragePreferenceId:s}=e;return s===m})),g=t(d,(e=>{let{beveragePreferenceId:s}=e;return s===o})),N=t(d,(e=>{let{beveragePreferenceId:s}=e;return s===u}));return e+({[Q.O.genericTax.value.Food]:h,[Q.O.genericTax.value.BeverageNonAlcoholicAlcoholic]:x,[Q.O.genericTax.value.BeverageAlcoholic]:v,[Q.O.genericTax.value.BeverageNonAlcoholic]:j,[Q.O.genericTax.value.FBAlcoholicNonAlcoholic]:p,[Q.O.genericTax.value.FBAlcoholic]:g,[Q.O.genericTax.value.FBNonalcoholic]:N,[Q.O.genericTax.value.VenueRental]:a.includes(Q.O.quotationRentalType.value.venueRental)?r:0}[s]||0)}),0);return e+i}),0))||0},ac=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=null===e||void 0===e?void 0:e.reduce(((e,s)=>{const{selectedVenueDTOs:l}=s||{},n=null===l||void 0===l?void 0:l.reduce(((e,s)=>{const{inquiryFoodPackages:l,inquiryBillingBeveragePackages:n,inquiryBillingFoodBeverage:i,isFB:d,totalRentalAmount:c,inquiryAddOnBottles:r,minimumRevenue:o}=s||{},m=null===l||void 0===l?void 0:l.reduce(((e,s)=>e+=s.totalAmount||0),0),u=null===n||void 0===n?void 0:n.reduce(((e,s)=>e+=s.totalAmount||0),0),h=null===i||void 0===i?void 0:i.reduce(((e,s)=>e+=s.totalAmount||0),0),x=null===r||void 0===r?void 0:r.reduce(((e,s)=>e+=s.totalAmount||0),0);return d&&a.includes(Q.O.quotationRentalType.value.FandB)?e+m+u+h+x+t+(a.includes(Q.O.quotationRentalType.value.venueRental)?c:0):e+(a.includes(Q.O.quotationRentalType.value.venueRental)?c:0)}),0);return e+n}),0),n=null===s||void 0===s?void 0:s.reduce(((e,s)=>e+=s.totalCost||0),0);return l+(a.includes(Q.O.quotationRentalType.value.extraCharges)?n:0)},tc=async(e,s,a,t,l)=>{var n,i,d,c,r,o,m,u,h,x,v,j,p,g,N,b,f,y,A;const I=new ec.default("p","mm","a4"),C=I.internal.pageSize.getWidth(),w=I.internal.pageSize.getHeight(),k=10,S=10;let D=10;if(""===(null===e||void 0===e||null===(n=e.firstName)||void 0===n?void 0:n.trim()))return;const T=function(e,s,a){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};I.text(e,s,a,t)},O=(e,s)=>{D=s+10,D+S+10>w&&(I.addPage(),D=k),I.setFillColor(232,232,255),I.rect(k,D+1,C-20,10,"F"),I.setTextColor("#000000"),I.setFontSize(10),T(e,12,D+7),D+=13};I.setFontSize(9),I.setTextColor("#333333"),T("Date: ".concat((new Date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})),k,D),D+=10,I.setFontSize(11),T("To,",k,D),D+=5,I.setFontSize(10),I.setTextColor("#666666");const q="".concat(e.titleId?Q.O.titles.text[e.titleId]+". ":"").concat(e.firstName||""," ").concat(e.lastName||"");T(q,k,D);const P=(null===l||void 0===l||null===(i=l.find((s=>s.value===(null===e||void 0===e?void 0:e.cityId))))||void 0===i?void 0:i.text)||"",F=(null===t||void 0===t||null===(d=t.find((s=>s.value===(null===e||void 0===e?void 0:e.stateId))))||void 0===d?void 0:d.text)||"",E=(null===a||void 0===a||null===(c=a.find((s=>s.value===(null===e||void 0===e?void 0:e.countryId))))||void 0===c?void 0:c.text)||"",R=[e.emailId&&"Email: ".concat(e.emailId),e.mobileNumber&&"Mobile: ".concat(e.mobileNumber),e.address&&"Address: ".concat(e.address,", ").concat(P,", ").concat(F,", ").concat(E,", ").concat(e.pinCode),e.aadharNumber&&"Aadhar: ".concat(e.aadharNumber),e.panNumber&&"PAN: ".concat(e.panNumber),e.companyPANNumber&&"Company PAN: ".concat(e.companyPANNumber)];null===R||void 0===R||R.forEach((e=>{D+=5,T(e,k,D)})),D+=20;T("Thank you for considering us for your upcoming booking. We assure you of our best services and are pleased to confirm the following:",k,D,{maxWidth:C-20});const M=C-20;O("Booking Information",D);let Y=k,L=M;const V=s.venueInfo?s.venueInfo[0]:{};let U=1;null!==V&&void 0!==V&&V.brideName&&U++,null!==V&&void 0!==V&&V.groomName&&U++,null!==V&&void 0!==V&&V.companyName&&U++,U>1&&(L=M/U),I.text("Purpose",Y+2,D+7),Y+=L,null!==V&&void 0!==V&&V.brideName&&(I.text("Bride Name",Y+2,D+7),Y+=L),null!==V&&void 0!==V&&V.groomName&&(I.text("Groom Name",Y+2,D+7),Y+=L),null!==V&&void 0!==V&&V.companyName&&(I.text("Company Name",Y+2,D+7),Y+=L),Y=k,I.setFontSize(10),I.setTextColor("#666666"),I.text("".concat(null!==V&&void 0!==V&&null!==(r=V.companyName)&&void 0!==r&&r.length?null===(o=s.corporate)||void 0===o||null===(m=o.filter((e=>e.id===(null===V||void 0===V?void 0:V.inquiryPurposeId)))[0])||void 0===m?void 0:m.title:null===(u=s.personal.filter((e=>e.id===(null===V||void 0===V?void 0:V.inquiryPurposeId)))[0])||void 0===u?void 0:u.title),Y+2,D+17),Y+=L,null!==V&&void 0!==V&&V.brideName&&(I.text(V.brideName,Y+2,D+17),Y+=L),null!==V&&void 0!==V&&V.groomName&&(I.text(V.groomName,Y+2,D+17),Y+=L),null!==V&&void 0!==V&&V.companyName&&I.text(V.companyName,Y+2,D+17),I.setDrawColor(228,229,235),I.rect(k,D,M,10),I.rect(k,D+10,M,10),Y=k,null!==V&&void 0!==V&&V.brideName&&(I.line(Y+L,D,Y+L,D+20),Y+=L),null!==V&&void 0!==V&&V.groomName&&(I.line(Y+L,D,Y+L,D+20),Y+=L),null!==V&&void 0!==V&&V.companyName&&I.line(Y+L,D,Y+L,D+20),D+=15,O("Venue Information",D),I.autoTable({startY:D,head:[["Booking Date & Time","Venue","Guest Count (Min.)","Venue Rental Price","Minimum Revenue Amount"]],body:null===(h=s.venueInfo)||void 0===h?void 0:h.map((e=>["".concat((0,B.Yq)(e.venueCheckInDate,"Do MMMM, YYYY")," | ").concat(e.venueCheckInTime," - ").concat((0,B.Yq)(e.venueCheckOutDate,"Do MMMM, YYYY")," | ").concat(e.venueCheckOutTime),e.venue||"-",e.guestCount||"-",e.venueRentalPrice?e.venueRentalPrice.toLocaleString():"-",e.minimumRevengeAmount?e.minimumRevengeAmount.toLocaleString():"-"])),theme:"grid",styles:{fillColor:[255,255,255],lineWidth:.2},headStyles:{fillColor:[255,255,255],textColor:"#000000",fontStyle:"bold",fontSize:9,lineWidth:.5,lineColor:[228,229,235]},willDrawCell:e=>{e.column.index>1&&(e.cell.styles.halign="right")},margin:{left:k,right:k}}),D=I.autoTable.previous.finalY;(null===(x=s.amenities)||void 0===x?void 0:x.length)>0&&(D+=10,D+S>w&&(I.addPage(),D=k),I.setFontSize(12),T("Amenities :",k,D,{maxWidth:C-20}),D+=10,s.amenities.forEach((e=>{D+S>w&&(I.addPage(),D=k),I.setFontSize(10),I.setTextColor("#666666");const s=I.splitTextToSize("\u2022 ".concat(e.venue," ").concat((0,B.Yq)(e.venueCheckInDate,"Do MMM, YYYY","")," | ").concat(e.venueCheckInTime," - ").concat(e.venueCheckInDate," | ").concat((0,B.Yq)(e.venueCheckOutTime,"Do MMM, YYYY",""),") : ").concat(e.amenities),C-20),a=4*(null===s||void 0===s?void 0:s.length);I.text(s,k,D,{maxWidth:C-20}),D+=a+5}))),D=((e,s,a)=>((null===s||void 0===s?void 0:s.length)>0&&((a+=10)+S>w&&(I.addPage(),a=k),I.setFontSize(12),I.setTextColor("#000000"),T("".concat(e," :"),k,a,{maxWidth:C-20}),a+=10,s.forEach((e=>{a+S>w&&(I.addPage(),a=k),I.setFontSize(10),I.setTextColor("#666666");const s=I.splitTextToSize("\u2022 ".concat(e.description),C-20),t=4*(null===s||void 0===s?void 0:s.length);I.text(s,k,a,{maxWidth:C-20}),a+=t+5}))),a))("Special Requests",s.specialRequests,D),O("Billing Summary",D);let H=[];const{inquirySlotOutDTO:W=[],inquiryBillingExtraCharge:z=[]}=s.billingSummaryDetails,{totalMRA:G,adjustedDTO:K,adjustedExtraCharge:Z}=bt(W,z);if(null===K||void 0===K||K.forEach(((s,a)=>{var t;H.push(["Slot ".concat(a+1," : ").concat(s.bookingStartDate," | ").concat(s.startTime," - ").concat(s.bookingEndDate," | ").concat(s.endTime),"","",""]),null===s||void 0===s||null===(t=s.selectedVenueDTOs)||void 0===t||t.forEach((s=>{s.isFB&&e.includeInQuotationIds.includes(Q.O.quotationRentalType.value.FandB)?(H.push([s.venueName,"","",""]),s.totalRentalAmount>0&&e.includeInQuotationIds.includes(Q.O.quotationRentalType.value.venueRental)&&H.push(["Venue Rental","",""," ".concat(s.totalRentalAmount)]),3===s.venueRentalType&&s.minimumRevenue>0&&H.push(["Minimum Revenue","",""," ".concat((0,B.BO)(s.minimumRevenue))]),s.inquiryFoodPackages.forEach((e=>{let{packageName:s,isAddOnAdded:a,costQty:t,totalAmount:l,qty:n,minRevenueAdjusted:i}=e;H.push(["".concat("Food-Breakfast-"+(s?s+" Package":"Custom Package")+(a&&" (Add-ons Included) ")+(i?"(MRA)":"")),"".concat(n>0?n:"")," ".concat(t?(0,B.BO)(t):""),"".concat((0,B.BO)(l))])})),s.inquiryBillingBeveragePackages.forEach((e=>{let{packageName:s,isAddOnAdded:a,costQty:t=0,totalAmount:l=0,qty:n,beveragePreferenceId:i,minRevenueAdjusted:d}=e;H.push(["".concat("Beverage-"+Q.O.beveragePreference.text[i]+"-"+(s?s+" Package":"Custom Package")+(a&&" (Add-ons Included)")+(d?"(MRA)":"")),"".concat(n>0?n:"")," ".concat(t?(0,B.BO)(t):""),"".concat((0,B.BO)(l))])})),s.inquiryBillingFoodBeverage.forEach((e=>{let{packageName:s,isAddOnAdded:a,costQty:t,totalAmount:l,qty:n,packageCategoryName:i,beveragePreferenceId:d,minRevenueAdjusted:c}=e;H.push(["".concat("F&B-"+i+"-"+Q.O.beveragePreference.text[d]+"-"+(s?s+" Package":"Custom Package")+(a&&" (Add-ons Included)")+(c?"(MRA)":"")),"".concat(n>0?n:"")," ".concat(t?(0,B.BO)(t):""),"".concat((0,B.BO)(l))])})),s.inquiryAddOnBottles.forEach((e=>{let{addOnCount:s,beverageType:a,costByItem:t,liquorType:l,menuItemName:n,totalAmount:i=0,drinkName:d,minRevenueAdjusted:c}=e;H.push(["".concat([a,l,d,n].join("-")+ +(c?"(MRA)":"")),"".concat(s>0?s:"")," ".concat(t>0?(0,B.BO)(t):""),"".concat(i>0?(0,B.BO)(i):"")])}))):(H.push([s.venueName,"","",""]),H.push(["Venue Rental","",""," ".concat(s.totalRentalAmount)])),G>0&&H.push(["Minimum Revenue Adjustment","",""," ".concat(G)])}))})),e.includeInQuotationIds.includes(Q.O.quotationRentalType.value.extraCharges)){let e=null===Z||void 0===Z?void 0:Z.map(((e,s)=>{const a=Q.O.chargeType.value.LumpSum===e.chargeType;return["Extra Charges - ".concat(e.extraChargeFor),a?"":e.quantity,a?"":(0,B.BO)(e.amountItem),e.totalCost?"".concat((0,B.BO)(e.totalCost)):"-"]}));H=[...H,...e]}H.push(["Sub Total","",""," ".concat((0,B.BO)(ac(W,z,e.includeInQuotationIds,G)))]);const J=[];null===(v=s.billingSummaryDetails)||void 0===v||null===(j=v.inquirySlotOutDTO)||void 0===j||j.forEach((e=>{var s;null===e||void 0===e||null===(s=e.selectedVenueDTOs)||void 0===s||s.forEach((e=>{J.push(e.venueName)}))})),I.autoTable({head:[["ITEM","QTY","COST/QTY","TOTAL AMOUNT"]],body:H,theme:"plain",styles:{fillColor:[255,255,255],lineWidth:.2},headStyles:{fillColor:[255,255,255],textColor:"#000000",fontStyle:"bold",fontSize:9,lineWidth:.5,lineColor:[228,229,235]},didParseCell:function(e){var s;J.includes(e.cell.raw)&&(e.cell.styles.fontStyle="italic",e.cell.styles.fillColor=[251,250,253]),e.row.index===(null===(s=H)||void 0===s?void 0:s.length)-1&&(e.cell.styles.fontStyle="bold",e.cell.styles.textColor=[0,0,0],e.cell.styles.fillColor=[232,232,255])},willDrawCell:e=>{0!==e.column.index&&0!==e.row.index&&(e.cell.styles.halign="right")},margin:{left:k,right:k},startY:D}),D=I.autoTable.previous.finalY;let X=null===(p=s.billingSummaryDetails)||void 0===p||null===(g=p.particulars)||void 0===g?void 0:g.map((s=>{let{disCountForId:a,discountFor:t,tax:l,discountStatusId:n,discountType:i,totalDiscount:d,percentage:c,id:r}=s;const o=sc(W,a,l,e.includeInQuotationIds);return a===Q.O.genericTax.value.ServiceCharge?{value:a,text:t,tax:l,totalCost:ac(W,z,e.includeInQuotationIds),taxAmount:ac(W,z,e.includeInQuotationIds)*l/100,finalAmount:ac(W,z,e.includeInQuotationIds)+ac(W,z,e.includeInQuotationIds)*l/100,totalDiscount:0,discountStatusId:n}:a===Q.O.genericTax.value.MinimumRevenue?{value:a,text:t,tax:l,totalCost:G,taxAmount:G*l/100,finalAmount:G*l/100,totalDiscount:Q.O.discountType.value.LumpSum?d:0,discountStatusId:n,formData:{text:t,totalCost:o,tax:l,taxAmount:o*l/100,finalAmount:o*l/100+o,discountType:i,totalDiscount:d,percentage:c,id:r}}:{value:a,text:t,tax:l,totalCost:o-d,taxAmount:(o-d)*l/100,finalAmount:(o-d)*l/100+(o-d),totalDiscount:Q.O.discountType.value.LumpSum?d:0,discountStatusId:n,formData:{text:t,totalCost:o,tax:l,taxAmount:o*l/100,finalAmount:o*l/100+o,discountType:i,totalDiscount:d,percentage:c,id:r}}}));const _=null===X||void 0===X?void 0:X.reduce(((s,a)=>{const{FandB:t,venueRental:l}=Q.O.quotationRentalType.value,n=e.includeInQuotationIds.includes(t),i=e.includeInQuotationIds.includes(l);return n&&!i&&"Venue Rental"===a.text?s:n||i&&"Venue Rental"===a.text?(s.totalCost+=a.totalCost||0,s.taxAmount+=a.taxAmount||0,s.finalAmount+=a.finalAmount||0,s.totalDiscount+=a.totalDiscount||0,s):s}),{totalCost:0,taxAmount:0,finalAmount:0,totalDiscount:0}),$=e.includeInQuotationIds.includes(Q.O.quotationRentalType.value.extraCharges)?null===z||void 0===z?void 0:z.reduce(((e,s)=>(e.totalCost+=s.totalCost||0,e.taxAmount+=s.taxAmount||0,e.finalAmount+=s.finalAmount||0,e)),{totalCost:0,taxAmount:0,finalAmount:0}):{totalCost:0,taxAmount:0,finalAmount:0};D+=5;let ee=null===X||void 0===X?void 0:X.map((s=>{const{FandB:a,venueRental:t}=Q.O.quotationRentalType.value,l=e.includeInQuotationIds.includes(a),n=e.includeInQuotationIds.includes(t);return l&&!n&&"Venue Rental"===s.text?null:l||n&&"Venue Rental"===s.text?[s.text,s.totalDiscount?"".concat(s.totalDiscount):"-",(0,B.BO)(s.totalCost),s.tax+"%",(0,B.BO)(s.taxAmount),(0,B.BO)(s.finalAmount)]:null})).filter((e=>null!==e));if(e.includeInQuotationIds.includes(Q.O.quotationRentalType.value.extraCharges)){let e=null===z||void 0===z?void 0:z.map(((e,s)=>["Extra Charges - ".concat(e.extraChargeFor),"-",e.totalCost?(0,B.BO)(e.totalCost):"-",e.tax?e.tax+"%":"-",e.taxAmount?(0,B.BO)(e.taxAmount):"-",e.finalAmount?(0,B.BO)(e.finalAmount):"-",e.totalCost?(0,B.BO)(e.totalCost):"-"]));ee=[...ee,...e]}null===(N=ee)||void 0===N||N.push(["Total Amount (Inclusive of taxes)",_.totalDiscount,(0,B.BO)(_.totalCost+$.totalCost),"",(0,B.BO)(_.taxAmount+$.taxAmount),(0,B.BO)(_.finalAmount+$.finalAmount)]);if(I.autoTable({startY:D,head:[["PARTICULARS","DISCOUNT AMOUNT","TOTAL COST","TAX","TAX AMOUNT","FINAL AMOUNT"]],body:ee,theme:"grid",didParseCell:function(e){var s;e.row.index===(null===(s=ee)||void 0===s?void 0:s.length)-1&&(e.cell.styles.fontStyle="bold",e.cell.styles.textColor=[255,255,255],e.cell.styles.fillColor=[92,92,204])},styles:{fillColor:[255,255,255],lineWidth:.2},headStyles:{fillColor:[255,255,255],textColor:"#000000",fontStyle:"bold",fontSize:9,lineWidth:.5,lineColor:[228,229,235]},willDrawCell:e=>{0!==e.column.index&&(e.cell.styles.halign="right")},margin:{left:k,right:k}}),D=I.autoTable.previous.finalY,(null===s||void 0===s||null===(b=s.specialRequests)||void 0===b?void 0:b.length)>0&&(D+=10,D+S>w&&(I.addPage(),D=k),I.setFontSize(11),I.setTextColor("#000000"),T("This proposal is valid till : ".concat(e.quotationValidTill?(0,B.Yq)(e.quotationValidTill,"Do MMM, YYYY",""):"-"),k,D,{maxWidth:C-20})),(null===(f=e.additionalDetails)||void 0===f?void 0:f.length)>0){D+=10,D+S>w&&(I.addPage(),D=k),I.setFontSize(12),I.setTextColor("#000000"),T("Additional Details : ",k,D,{maxWidth:C-20,align:"justify"}),D+=10,I.setFontSize(10),I.setTextColor("#666666");const e=document.getElementById("additional-details").textContent;I.splitTextToSize(e,C-20).forEach((e=>{D+S>w&&(I.addPage(),D=k),T(e,k,D),D+=5}))}if((null===(y=e.paymentTerms)||void 0===y?void 0:y.length)>0){D+=10,D+S>w&&(I.addPage(),D=k),I.setTextColor("#000000"),I.setFontSize(12),T("Payment Terms : ",k,D,{maxWidth:C-20}),D+=10;const e=document.getElementById("payment-terms").textContent;I.setFontSize(10),I.setTextColor("#666666");I.splitTextToSize(e,C-20).forEach((e=>{T(e,k,D),D+=5})),D+S>w&&(I.addPage(),D=k)}(null===(A=s.docs)||void 0===A?void 0:A.length)>0&&s.docs.forEach(((e,s)=>{D+S>w&&(I.addPage(),D=k),D+=15,I.setFontSize(12),I.setTextColor("#000000"),T("QuotationProposal"===e.documentType?"Quotation / Proposal :":"Booking Summary :",k,D,{maxWidth:C-20}),I.setFontSize(10),I.setTextColor("#666666"),D+=10;const a=document.getElementById("documents"+s).textContent;I.splitTextToSize(a,C-20).forEach((e=>{T(e,k,D),D+=10,D+S>w&&(I.addPage(),D=k)}))}));D+40>w-k&&(I.addPage(),D=k);const se=w-k-20;I.setFontSize(10),I.setTextColor("#000000"),T("Acceptance: I agree and accept the terms and conditions listed above",k,se),T("Date: __________________",k,se+15);const ae=C-k-60;return T("Sales Authorized Signatory",ae,se),T("Sales Manager: __________________",ae,se+15),I.output("datauristring")},lc=e=>{let{billingSummaryDetails:s,includeInQuotationIds:a,totalMRA:l,adjustedDTO:n,adjustedExtraCharge:i}=e;const{inquirySlotOutDTO:d=[],inquiryBillingExtraCharge:c=[]}=s;return(0,x.jsxs)(Rs.A,{responsive:!0,className:"quotation-simple-table-summary mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"ITEM"}),(0,x.jsx)("th",{className:"text-end col-150",children:"QTY"}),(0,x.jsx)("th",{className:"text-end col-150",children:"COST/QTY"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Total Amount"})]})}),(0,x.jsx)("tbody",{className:"slot-list-data",children:null===n||void 0===n?void 0:n.map(((e,s)=>(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"slot-row-data text-nowrap",children:[(0,x.jsxs)("span",{children:["Slot ",s+1,"\xa0:\xa0"]}),(0,x.jsx)("span",{children:(0,B.Yq)(e.bookingStartDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.startTime}),"\xa0",(0,x.jsx)("span",{children:"-"}),"\xa0",(0,x.jsx)("span",{children:(0,B.Yq)(e.bookingEndDate,"DD MMM YYYY","DD-MM-YYYY")+" | "+e.endTime})]})}),(0,x.jsx)("td",{colSpan:4})]}),e.selectedVenueDTOs&&e.selectedVenueDTOs.map(((e,s)=>{let{venueName:l,inquiryFoodPackages:n=[],isFB:i,inquiryBillingBeveragePackages:d=[],inquiryBillingFoodBeverage:c=[],totalRentalAmount:r=0,inquiryAddOnBottles:o=[],minimumRevenue:m,venueRentalType:h}=e;return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)("tr",{className:"venue-row-data",children:[(0,x.jsx)("td",{children:l}),(0,x.jsx)("td",{colSpan:4})]}),a.includes(Q.O.quotationRentalType.value.FandB)&&i?(0,x.jsxs)(x.Fragment,{children:[r>0&&a.includes(Q.O.quotationRentalType.value.venueRental)&&(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Venue Rental"}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"text-end"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(r)]})]}),3===h&&m>0&&(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Minimum Revenue"}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"text-end"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(m)]})]}),n.map(((e,s)=>{let{packageName:a,isAddOnAdded:t,costQty:l,totalAmount:n,qty:i,minRevenueAdjusted:d}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Food\xa0-\xa0","Breakfast","\xa0-\xa0",a?a+" Package":"Custom Package",t&&" (Add-ons Included)",d&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),a?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:i>0?i:null}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(l)]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(n)]})]},s)})),d.map(((e,s)=>{let{packageName:a,isAddOnAdded:t,costQty:l=0,totalAmount:n=0,qty:i,beveragePreferenceId:d,minRevenueAdjusted:c}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Beverage\xa0\xa0-\xa0\xa0",Q.O.beveragePreference.text[d],"\xa0\xa0-\xa0\xa0",a?a+" Package":"Custom Package",t&&" (Add-ons Included)",c&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),a?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:i>0?i:null}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(l)]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(n)]})]},s)})),c.map(((e,s)=>{let{packageName:a,isAddOnAdded:t,costQty:l,totalAmount:n,qty:i,packageCategoryName:d,beveragePreferenceId:c,minRevenueAdjusted:r}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["F&B\xa0-\xa0",d,"\xa0-\xa0",Q.O.beveragePreference.text[c],"\xa0-\xa0",a?a+" Package":"Custom Package",t&&" (Add-ons Included)",r&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),a?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:i>0?i:null}),(0,x.jsx)("td",{className:"text-end",children:l>0?"\u20b9 ".concat((0,B.BO)(l)):null})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}),(0,x.jsx)("td",{className:"text-end",children:n>0?"\u20b9 ".concat((0,B.BO)(n)):null})]},s)})),o.map(((e,s)=>{let{addOnCount:a,beverageType:t,costByItem:l,liquorType:n,menuItemName:i,totalAmount:d=0,drinkName:c,minRevenueAdjusted:r}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:[t,"0"!==n?" - "+n:"","\xa0-\xa0",c,"\xa0-\xa0",i,r&&(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),(0,x.jsx)("td",{className:"text-end",children:a>0?a:null}),(0,x.jsx)("td",{className:"text-end",children:l>0?"\u20b9 ".concat((0,B.BO)(l)):null}),(0,x.jsx)("td",{className:"text-end",children:d>0?"\u20b9 ".concat((0,B.BO)(d)):null})]},s)}))]}):a.includes(Q.O.quotationRentalType.value.venueRental)&&(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Venue Rental"}),(0,x.jsx)("td",{}),(0,x.jsx)("td",{className:"text-end"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9 ",(0,B.BO)(r)]})]})]},s)}))]},s)))}),a.includes(Q.O.quotationRentalType.value.extraCharges)&&(0,x.jsx)("tbody",{children:i.map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Extra Charges - ",e.extraChargeFor]}),Q.O.chargeType.value.LumpSum===e.chargeType?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{}),(0,x.jsx)("td",{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("td",{className:"text-end",children:e.quantity}),(0,x.jsx)("td",{className:"text-end",children:(0,B.BO)(e.amountItem)})]}),(0,x.jsx)("td",{className:"text-end",children:e.totalCost?"\u20b9 "+(0,B.BO)(e.totalCost):"-"})]},s)))}),l>0&&(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{colSpan:3,children:[(0,x.jsx)("span",{className:"data-desc txt-black",children:"Minimum Revenue Adjustment"}),(0,x.jsx)("span",{className:"ms-2",children:(0,x.jsx)(u.vj,{})})]}),(0,x.jsxs)("td",{className:"text-end data-desc txt-black",children:["\u20b9 ",l]})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{className:"sub-total-row-data",children:[(0,x.jsx)("td",{colSpan:3,children:"Sub Total"}),(0,x.jsxs)("td",{className:"text-end",children:["\u20b9\xa0",(0,B.BO)(ac(d,c,a,l))]})]})})]})},nc=e=>{let{data:s}=e;return(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:[s.text," "]}),(0,x.jsx)("td",{className:"text-end",children:s.totalDiscount>0?(0,x.jsxs)("span",{className:"text-nowrap d-flex align-items-center justify-content-end",children:["\u20b9 ",s.totalDiscount]}):"-"}),(0,x.jsx)("td",{className:"text-end",children:s.totalCost?"\u20b9 "+(0,B.BO)(s.totalCost):"-"}),(0,x.jsxs)("td",{className:"text-end",children:[" ",s.tax,"%"]}),(0,x.jsx)("td",{className:"text-end",children:s.taxAmount?"\u20b9 "+(0,B.BO)(s.taxAmount):"-"}),(0,x.jsx)("td",{className:"text-end",children:s.finalAmount?"\u20b9 "+(0,B.BO)(s.finalAmount):"-"})]})},ic=e=>{let{setAddExtraCharges:s,reloadData:a,billingSummaryDetails:l,readOnly:n,includeInQuotationIds:i,totalMRA:d,adjustedDTO:c,adjustedExtraCharge:r}=e;const[o,m]=(0,t.useState)([]),{inquiryBillingExtraCharge:u=[]}=l||{};(0,t.useEffect)((()=>{const{inquirySlotOutDTO:e=[],particulars:s=[]}=l||{};let a=s.map((s=>{let{disCountForId:a,discountFor:t,tax:l,discountStatusId:n,discountType:c,totalDiscount:r,percentage:o,id:m}=s;const h=sc(e,a,l,i);return a===Q.O.genericTax.value.ServiceCharge?{value:a,text:t,tax:l,totalCost:ac(e,u,i),taxAmount:ac(e,u,i)*l/100,finalAmount:ac(e,u,i)+ac(e,u,i)*l/100,totalDiscount:0,discountStatusId:n}:a===Q.O.genericTax.value.MinimumRevenue?{value:a,text:t,tax:l,totalCost:d,taxAmount:d*l/100,finalAmount:d*l/100,totalDiscount:Q.O.discountType.value.LumpSum?r:0,discountStatusId:n,formData:{text:t,totalCost:h,tax:l,taxAmount:h*l/100,finalAmount:h*l/100+h,discountType:c,totalDiscount:r,percentage:o,id:m}}:{value:a,text:t,tax:l,totalCost:h-r,taxAmount:(h-r)*l/100,finalAmount:(h-r)*l/100+(h-r),totalDiscount:Q.O.discountType.value.LumpSum?r:0,discountStatusId:n,formData:{text:t,totalCost:h,tax:l,taxAmount:h*l/100,finalAmount:h*l/100+h,discountType:c,totalDiscount:r,percentage:o,id:m}}}));m(a)}),[l]);const h=o.reduce(((e,s)=>{const{FandB:a,venueRental:t}=Q.O.quotationRentalType.value,l=i.includes(a),n=i.includes(t);return l&&!n&&"Venue Rental"===s.text?e:l||n&&"Venue Rental"===s.text?(e.totalCost+=s.totalCost||0,e.taxAmount+=s.taxAmount||0,e.finalAmount+=s.finalAmount||0,e.totalDiscount+=s.totalDiscount||0,e):e}),{totalCost:0,taxAmount:0,finalAmount:0,totalDiscount:0}),v=i.includes(Q.O.quotationRentalType.value.extraCharges)?null===u||void 0===u?void 0:u.reduce(((e,s)=>(e.totalCost+=s.totalCost||0,e.taxAmount+=s.taxAmount||0,e.finalAmount+=s.finalAmount||0,e)),{totalCost:0,taxAmount:0,finalAmount:0}):{totalCost:0,taxAmount:0,finalAmount:0};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(Rs.A,{responsive:!0,className:"quotation-simple-table-summary mb-0",children:[(0,x.jsx)("thead",{className:"bold-header",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Particulars "}),(0,x.jsx)("th",{className:"text-end col-80",children:"Discount Amount"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Total Cost"}),(0,x.jsx)("th",{className:"text-end col-150",children:"TAX"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Tax Amount"}),(0,x.jsx)("th",{className:"text-end col-150",children:"Final Amount"}),!n&&(0,x.jsx)("th",{className:"text-end option-menu-col",children:" "})]})}),(0,x.jsxs)("tbody",{children:[o.map((e=>{const{FandB:s,venueRental:a}=Q.O.quotationRentalType.value,t=i.includes(s),l=i.includes(a);return t&&!l&&"Venue Rental"===e.text?null:t||l&&"Venue Rental"===e.text?(0,x.jsx)(nc,{data:e},e.id):null})),i.includes(Q.O.quotationRentalType.value.extraCharges)&&u.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{className:"text-nowrap",children:["Extra Charges - ",e.extraChargeFor]}),(0,x.jsx)("td",{className:"text-end",children:" - "}),(0,x.jsx)("td",{className:"text-end",children:e.totalCost?"\u20b9"+(0,B.BO)(e.totalCost):"-"}),(0,x.jsx)("td",{className:"text-end",children:e.tax?e.tax+"%":"-"}),(0,x.jsx)("td",{className:"text-end",children:e.taxAmount?"\u20b9"+(0,B.BO)(e.taxAmount):"-"}),(0,x.jsx)("td",{className:"text-end",children:e.finalAmount?"\u20b9"+(0,B.BO)(e.finalAmount):"-"})]},e.id))),(0,x.jsxs)("tr",{className:"total-final-amount",children:[(0,x.jsx)("td",{className:"text-nowrap",children:"Total Amount ( Inclusive of taxes )"}),(0,x.jsx)("td",{className:"text-end col-80",children:h.totalDiscount>0&&"\u20b9 ".concat((0,B.BO)(h.totalDiscount))}),(0,x.jsxs)("td",{className:"text-end col-150",children:["\u20b9 ",(0,B.BO)(h.totalCost+v.totalCost)]}),(0,x.jsx)("td",{}),(0,x.jsxs)("td",{className:"text-end col-150",children:["\u20b9 ",(0,B.BO)(h.taxAmount+v.taxAmount)]}),(0,x.jsxs)("td",{className:"text-end col-150",children:["\u20b9\xa0",(0,B.BO)(h.finalAmount+v.finalAmount)]}),!n&&(0,x.jsx)("td",{})]})]})]})})},dc=e=>{let{quotationDetails:s,billingSummaryDetails:a}=e;const[n,i]=(0,t.useState)({}),[d,c]=(0,t.useState)(!1),{inquirySlotOutDTO:r=[],inquiryBillingExtraCharge:o=[]}=((0,l.g)(),a),{totalMRA:u,adjustedDTO:h,adjustedExtraCharge:v}=bt(r,o);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"d-flex flex-column h-100",children:d?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{className:"txt-primary"})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"flex-grow-1 h-100",children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(lc,{billingSummaryDetails:a,includeInQuotationIds:null===s||void 0===s?void 0:s.includeInQuotationIds,totalMRA:u,adjustedDTO:h,adjustedExtraCharge:v}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(ic,{billingSummaryDetails:a,addExtraCharges:n,setAddExtraCharges:i,includeInQuotationIds:null===s||void 0===s?void 0:s.includeInQuotationIds,totalMRA:u,adjustedDTO:h,adjustedExtraCharge:v})]})})})})})},cc=()=>{var e,s,a,n,i,d,h,v,p,N,b,f,y,A,I,C,w,k;const[S,D]=(0,t.useState)(!1),[T,O]=(0,t.useState)(!1),q=(0,l.Zp)(),P=(0,l.g)(),{quotationDetails:F,setQuotationDetails:E,inquiryInfoData:R,setShowDeleteModal:M,saveAsDraft:Y,country:L,state:V,city:U,previewDetails:H,setPreviewDetails:z,permissions:G,profileDetails:K}=(0,l.KC)(),[Z,J]=(0,t.useState)(!1),[X,_]=(0,t.useState)([]);(0,t.useEffect)((()=>(R.inquiryInfoId&&$(),re(),window.addEventListener("beforeunload",B.h3,{capture:!0}),()=>{window.removeEventListener("beforeunload",B.h3,{capture:!0})})),[R]);const $=async()=>{D(!0);try{const[e,s,a,t,l,n,i,d,c,r]=await Promise.all([H.header?{header:H.header,footer:H.footer}:ee(),H.docs.length?H.docs:se(),H.specialRequests.length?H.specialRequests:ae(),H.venueInfo.length?H.venueInfo:te(),H.amenities.length?H.amenities:le(),H.foodPackageList.length?H.foodPackageList:ie(),H.beveragePackageList.length?H.beveragePackageList:de(),H.fbPackageList.length?H.fbPackageList:ce(),Object.keys(H.billingSummaryDetails).length?H.billingSummaryDetails:oe(),H.personal.length?{purpose:H.personal,corporate:H.corporate}:ne()]);z((o=>({...o,header:(null===e||void 0===e?void 0:e.header)||o.header,footer:(null===e||void 0===e?void 0:e.footer)||o.footer,docs:s||o.docs,specialRequests:a||o.specialRequests,venueInfo:t||o.venueInfo,amenities:l||o.amenities,foodPackageList:n||o.foodPackageList,beveragePackageList:i||o.beveragePackageList,fbPackageList:d||o.fbPackageList,billingSummaryDetails:c||o.billingSummaryDetails,personal:(null===r||void 0===r?void 0:r.personal)||o.personal,corporate:(null===r||void 0===r?void 0:r.corporate)||o.corporate})))}catch(e){r.oR.error(e.message)}finally{D(!1)}},ee=async()=>{try{const e=await c.getHeader(),s=await c.getFooter();if(e.title===o.A.success&&s.title===o.A.success)return{header:e.data,footer:s.data}}catch(e){throw e}},se=async()=>{try{const e=await c.getDocuments();if(e.title===o.A.success)return e.data}catch(e){throw e}},ae=async()=>{try{const e=await Ts.getNotesList(R.guestDetailId,P.inquiryId);if(e.title===o.A.success){let s=e.data.filter((e=>e.tagId===Q.O.tagsType.value.SpecialRequest));return s}}catch(e){throw e}},te=async()=>{try{const e=await Ts.getQuotationVenueDetails(P.inquiryId);if(e.title===o.A.success)return e.data}catch(e){throw e}},le=async()=>{try{const e=await Ts.getInquiryAmenitiesList(P.inquiryId);if(e.title===o.A.success)return e.data}catch(e){throw e}},ne=async()=>{try{const e=await je.A.getPersonalPurposeList(),s=await je.A.getCorporatePurposeList();if(s.title===o.A.success&&e.title===o.A.success)return{personal:e.data,corporate:s.data}}catch(e){r.oR.error(e)}},ie=async()=>{try{const e=await Ts.getQuotationFoodPackage(P.inquiryId);if(e.title===o.A.success)return e.data}catch(e){throw e}},de=async()=>{try{const e=await Ts.getQuotationBeveragePackage(P.inquiryId);if(e.title===o.A.success)return e.data}catch(e){throw e}},ce=async()=>{try{const e=await Ts.getQuotationFBPackage(P.inquiryId);if(e.title===o.A.success)return e.data}catch(e){throw e}},re=async()=>{try{const e=await c.getFoodPackageCategory(),{title:s,data:a}=e;s===o.A.success&&_(a)}catch(e){r.oR.error(e.message)}},oe=async()=>{try{const e=await Ts.getBillingSummary(P.inquiryId);if(e.title===o.A.success)return e.data}catch(e){throw e}},me=null===U||void 0===U||null===(e=U.find((e=>e.value===(null===F||void 0===F?void 0:F.cityId))))||void 0===e?void 0:e.text,ue=null===V||void 0===V||null===(s=V.find((e=>e.value===(null===F||void 0===F?void 0:F.stateId))))||void 0===s?void 0:s.text,he=null===L||void 0===L||null===(a=L.find((e=>e.value===(null===F||void 0===F?void 0:F.countryId))))||void 0===a?void 0:a.text,xe=async()=>{const e=await tc(F,H,L,V,U);if(e){const[s,a]=e.split(",");E({...F,base64Data:a}),J(!0)}};(0,t.useEffect)((()=>{Z&&q("/inquiry-bookings/inquiry-info/".concat(P.inquiryId,"/quotation/share/").concat(P.quotationId))}),[Z]);const ve=H.venueInfo?H.venueInfo[0]:{},pe=F.statusId===Q.O.quotationStatusEnum.value.Sent||F.statusId===Q.O.quotationStatusEnum.value.Download||!(null!==G&&void 0!==G&&G.canEdit)||(null===K||void 0===K?void 0:K.id)!==(null===R||void 0===R?void 0:R.leadOwnerId)&&(null===K||void 0===K?void 0:K.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"quotation-header-container",style:{color:"black"},children:(0,x.jsxs)("div",{className:"title-header",children:[(0,x.jsx)("div",{className:"title",children:"Quotations"}),(0,x.jsx)("div",{className:"line-diff"}),!pe&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{align:"start",children:[(0,x.jsx)(W.A.Toggle,{as:e=>(0,x.jsxs)("div",{...e,role:"button",children:[(0,x.jsx)("span",{className:"fs-13-px txt-primary fw-bold user-select-none",children:"More Action"}),(0,x.jsx)("span",{className:"ms-1",children:(0,x.jsx)(j.p$,{strokeColor:"#7D63EC"})})]})}),(0,x.jsxs)(W.A.Menu,{className:"quotation-dropdown-list",children:[(0,x.jsxs)(W.A.Item,{href:"#",onClick:()=>q("/inquiry-bookings/inquiry-info/".concat(P.inquiryId)),children:[(0,x.jsx)("span",{className:"option-label",children:(0,x.jsx)(j.wD,{})}),(0,x.jsx)("span",{children:"\xa0\xa0 Discard"})]}),(null===G||void 0===G?void 0:G.canDelete)&&(0,x.jsx)(x.Fragment,{children:!isNaN(P.quotationId)&&F.statusId===Q.O.quotationStatusEnum.value.Draft&&(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>M(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.RZ,{}),"\xa0\xa0 Delete"]})})})]})]})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:Y,disabled:!F.firstName,children:[T&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Save as Draft"]}),(0,x.jsx)("button",{disabled:!F.firstName,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:xe,children:"Continue"})]})]})]})}),(0,x.jsx)(_d,{step:2,isValid:Z,saveData:xe}),S?(0,x.jsx)(g.A,{}):(0,x.jsxs)("div",{className:"preview-quotation-wrapper d-flex flex-column justify-content-between ",id:"pdf-content",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-12 header",children:(0,x.jsx)("img",{src:null===H||void 0===H?void 0:H.header,alt:"header",width:"100%",height:"100px"})})}),(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsxs)("div",{className:"quotation-date additional-details mb-4",children:["Date: ",(0,B.Yq)(new Date,"Do MMM, YYYY","")," "]}),(0,x.jsxs)("div",{className:"address",children:[(0,x.jsx)("h3",{children:"To"}),(0,x.jsx)("div",{className:"name",children:Q.O.titles.text[F.titleId]+". "+F.firstName+" "+F.lastName}),(0,x.jsxs)("div",{className:"details",children:["Email : ",(0,x.jsx)("span",{children:F.emailId})]}),(0,x.jsxs)("div",{className:"details",children:["Mobile : ",(0,x.jsx)("span",{children:F.mobileNumber})]}),F.aadharNumber&&(0,x.jsxs)("div",{className:"details",children:["Aadhar : ",(0,x.jsx)("span",{children:F.aadharNumber})]}),F.panNumber&&(0,x.jsxs)("div",{className:"details",children:["PAN : ",(0,x.jsx)("span",{children:F.panNumber})]}),F.companyPANNumber&&(0,x.jsxs)("div",{className:"details",children:["PAN : ",(0,x.jsx)("span",{children:F.companyPANNumber})]}),(F.address||me||ue||he||F.pinCode)&&(0,x.jsxs)("div",{className:"details",children:["Address :"," ",[F.address,me,ue&&", ".concat(ue),he&&", ".concat(he),F.pinCode&&"- ".concat(F.pinCode)].filter(Boolean).join(" ")]}),F.companyAddress&&(0,x.jsxs)("div",{className:"details",children:["Company Address : ",F.companyAddress]})]})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("p",{className:"note",children:"Thank you for considering us for your upcoming booking. We assure you of our best services and pleased to confirm the following:"})})}),(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"venue-information",children:[(0,x.jsx)("div",{className:"venue-header",children:"Booking Information"}),(0,x.jsxs)("table",{children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Purpose"}),(null===ve||void 0===ve?void 0:ve.brideName)&&(0,x.jsx)("th",{children:"Bride Name"}),(null===ve||void 0===ve?void 0:ve.groomName)&&(0,x.jsx)("th",{children:"Groom Name"}),(null===ve||void 0===ve?void 0:ve.companyName)&&(0,x.jsx)("th",{children:"Company Name"})]})}),(0,x.jsx)("tbody",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:null!==ve&&void 0!==ve&&ve.companyName?null===(n=H.corporate)||void 0===n||null===(i=n.filter((e=>e.id===(null===ve||void 0===ve?void 0:ve.inquiryPurposeId)))[0])||void 0===i?void 0:i.title:null===(d=H.personal.filter((e=>e.id===(null===ve||void 0===ve?void 0:ve.inquiryPurposeId)))[0])||void 0===d?void 0:d.title}),(null===ve||void 0===ve?void 0:ve.brideName)&&(0,x.jsx)("td",{children:null===ve||void 0===ve?void 0:ve.brideName}),(null===ve||void 0===ve?void 0:ve.groomName)&&(0,x.jsx)("td",{children:null===ve||void 0===ve?void 0:ve.groomName}),(null===ve||void 0===ve?void 0:ve.companyName)&&(0,x.jsx)("td",{children:null===ve||void 0===ve?void 0:ve.companyName})]})})]})]})})}),(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"venue-information table-responsive",children:[(0,x.jsx)("div",{className:"venue-header",children:"Venue Information"}),(0,x.jsxs)("table",{children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Booking Date & Time"}),(0,x.jsx)("th",{children:"Venue"}),(0,x.jsx)("th",{children:"Guest Count (Min.)"}),(0,x.jsx)("th",{children:"Venue Rental Price"}),(0,x.jsx)("th",{children:"Minimum Revenue Amount"})]})}),(0,x.jsx)("tbody",{children:(null===(h=H.venueInfo)||void 0===h?void 0:h.length)>0&&(null===(v=H.venueInfo)||void 0===v?void 0:v.map(((e,s)=>{var a,t;return s%2===0?(0,x.jsxs)("tr",{children:[(0,x.jsxs)("td",{children:[(0,B.Yq)(e.venueCheckInDate,"Do MMMM, YYYY")," ","| ",e.venueCheckInTime," -"," ",(0,B.Yq)(e.venueCheckOutDate,"Do MMMM, YYYY")," ","| ",e.venueCheckOutTime]}),(0,x.jsx)("td",{children:e.venue}),(0,x.jsx)("td",{children:e.guestCount}),(0,x.jsx)("td",{children:e.venueRentalPrice?"\u20b9"+(null===(a=e.venueRentalPrice)||void 0===a?void 0:a.toLocaleString()):"-"}),(0,x.jsx)("td",{children:e.minimumRevengeAmount?"\u20b9"+(null===(t=e.minimumRevengeAmount)||void 0===t?void 0:t.toLocaleString()):"-"})]},s):null})))})]})]})})}),(0,x.jsx)("div",{children:(0,x.jsx)("p",{className:"charges-italic",children:"All charges are exclusive of taxes."})}),(0,x.jsx)("div",{className:"row mb-2 ",children:(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h3",{className:"heading-package",children:"Package Information"}),(null===H||void 0===H||null===(p=H.foodPackageList)||void 0===p?void 0:p.length)>0&&(null===H||void 0===H||null===(N=H.foodPackageList)||void 0===N?void 0:N.map((e=>{var s,a;return(0,x.jsxs)("div",{className:"package-info mb-3",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between  package-info-header p-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Type"}),(0,x.jsx)("div",{className:"data-desc",children:Q.O.packageTypeEnum.text[e.packageTypeId]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Category"}),(0,x.jsx)("div",{className:"data-desc",children:(null===X||void 0===X||null===(s=X.find((s=>s.id===e.foodPackageCategoryId)))||void 0===s?void 0:s.title)||"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Name"}),(0,x.jsx)("div",{className:"data-desc",children:e.packageName||"Custom"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Venue"}),(0,x.jsx)("div",{className:"data-desc",children:e.veuneName})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Date & Time"}),(0,x.jsx)("div",{className:"data-desc",children:(0,B.Yq)(e.venueCheckInDate,"Do MMMM, YYYY")+" - "+(0,B.Yq)(e.venueCheckOutDate,"Do MMMM, YYYY")})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"No. of plates"}),(0,x.jsx)("div",{className:"data-desc",children:e.platesCounts})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Jain preparation"}),(0,x.jsx)("div",{className:"data-desc",children:e.jainCounts})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Price per plate"}),(0,x.jsx)("div",{className:"data-desc",children:"\u20b9"+e.basePricePerPlateOrPerson})]})]}),(0,x.jsx)("div",{className:"package-item p-3",children:null===(a=e.inquiryFoodPackageItemDTO)||void 0===a?void 0:a.map((e=>e.count+" "+e.packageItemName)).join(", ")})]})}))),(null===H||void 0===H||null===(b=H.beveragePackageList)||void 0===b?void 0:b.length)>0&&(null===H||void 0===H||null===(f=H.beveragePackageList)||void 0===f?void 0:f.map((e=>{var s;return(0,x.jsxs)("div",{className:"package-info mb-3",children:[(0,x.jsxs)("div",{className:"d-flex  package-info-header p-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Type"}),(0,x.jsx)("div",{className:"data-desc",children:Q.O.packageTypeEnum.text[e.packageTypeId]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Category"}),(0,x.jsx)("div",{className:"data-desc",children:(null===X||void 0===X||null===(s=X.find((s=>s.id===e.foodPackageCategoryId)))||void 0===s?void 0:s.title)||"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Name"}),(0,x.jsx)("div",{className:"data-desc",children:e.packageName||"Custom"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Venue"}),(0,x.jsx)("div",{className:"data-desc",children:e.veuneName})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Date & Time"}),(0,x.jsx)("div",{className:"data-desc",children:(0,B.Yq)(e.venueCheckInDate,"Do MMMM, YYYY")+" - "+(0,B.Yq)(e.venueCheckOutDate,"Do MMMM, YYYY")})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"No. of plates"}),(0,x.jsx)("div",{className:"data-desc",children:e.platesCounts})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Jain preparation"}),(0,x.jsx)("div",{className:"data-desc",children:e.jainCounts})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Price per plate"}),(0,x.jsx)("div",{className:"data-desc",children:"\u20b9"+e.basePricePerPlateOrPerson})]})]}),(0,x.jsx)("div",{className:"package-item p-3"})]})}))),(null===H||void 0===H||null===(y=H.fbPackageList)||void 0===y?void 0:y.length)>0&&(null===H||void 0===H||null===(A=H.fbPackageList)||void 0===A?void 0:A.map((e=>{var s,a;return(0,x.jsxs)("div",{className:"package-info mb-3",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between  package-info-header p-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Type"}),(0,x.jsx)("div",{className:"data-desc",children:Q.O.packageTypeEnum.text[e.packageTypeId]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Category"}),(0,x.jsx)("div",{className:"data-desc",children:(null===X||void 0===X||null===(s=X.find((s=>s.id===e.foodPackageCategoryId)))||void 0===s?void 0:s.title)||"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Package Name"}),(0,x.jsx)("div",{className:"data-desc",children:e.packageName||"Custom"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Venue"}),(0,x.jsx)("div",{className:"data-desc",children:e.veuneName})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Date & Time"}),(0,x.jsx)("div",{className:"data-desc",children:(0,B.Yq)(e.venueCheckInDate,"Do MMMM, YYYY")+" - "+(0,B.Yq)(e.venueCheckOutDate,"Do MMMM, YYYY")})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"No. of plates"}),(0,x.jsx)("div",{className:"data-desc",children:e.platesCounts})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Jain preparation"}),(0,x.jsx)("div",{className:"data-desc",children:e.jainCounts})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Price per plate"}),(0,x.jsx)("div",{className:"data-desc",children:"\u20b9"+e.basePricePerPlateOrPerson})]})]}),(0,x.jsx)("div",{className:"package-item p-3",children:null===(a=e.inquiryFoodPackageItemDTO)||void 0===a?void 0:a.map((e=>e.count+" "+e.packageItemName)).join(", ")})]})})))]})}),(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h3",{className:"heading",children:"Amenities"}),null===H||void 0===H||null===(I=H.amenities)||void 0===I?void 0:I.map((e=>(0,x.jsxs)("div",{className:"amenities-item",children:[(0,x.jsxs)("span",{className:"venue me-1",children:[e.venue," (",(0,B.Yq)(e.venueCheckInDate,"Do MMM, YYYY","")," |",e.venueCheckInTime," -"," ",(0,B.Yq)(e.venueCheckInDate,"Do MMM, YYYY","")," |"," ",e.venueCheckOutTime,"):"]}),(0,x.jsx)("span",{className:"amenities ms-1",children:e.amenities})]})))]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h3",{className:"heading",children:"Special Requests"}),(null===(C=H.specialRequests)||void 0===C?void 0:C.length)>0?(0,x.jsx)("ul",{children:null===(w=H.specialRequests)||void 0===w?void 0:w.map((e=>(0,x.jsx)("li",{children:e.description},e.title)))}):"-"]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h3",{className:"heading",children:"Billing Summary"}),(0,x.jsx)("div",{className:"mt-4 mb-4",children:(0,x.jsx)(dc,{quotationDetails:F,billingSummaryDetails:H.billingSummaryDetails})})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("h3",{className:"heading",children:["This proposal is valid till :",(0,x.jsx)("span",{className:"ms-1",children:F.quotationValidTill?F.quotationValidTill:""})]})})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h3",{className:"heading",children:"Additional Details"}),(0,x.jsx)("div",{id:"additional-details",className:"additional-details",dangerouslySetInnerHTML:{__html:ci().sanitize(F.additionalDetails)||"-"}})]}),(0,x.jsxs)("div",{className:"col-md-12",children:[(0,x.jsx)("h3",{className:"heading",children:"Payment Terms"}),(0,x.jsx)("div",{id:"payment-terms",className:"payment-terms",dangerouslySetInnerHTML:{__html:ci().sanitize(F.paymentTerms)||"-"}})]})]}),(0,x.jsx)("div",{className:"row",children:H.docs&&(null===(k=H.docs)||void 0===k?void 0:k.map(((e,s)=>(0,x.jsxs)("div",{className:"col-12",children:[(0,x.jsx)("h3",{className:"heading",children:"QuotationProposal"===e.documentType?"Quotation / Proposal":"Booking Summary"}),(0,x.jsx)("div",{id:"documents"+s,className:"additional-details",dangerouslySetInnerHTML:{__html:ci().sanitize(e.documentText)}})]}))))}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-12 d-flex align-items-center flex-wrap",children:[(0,x.jsx)("h3",{className:"heading ",children:"Acceptance:"}),(0,x.jsx)("div",{className:"payment-terms ms-2 mb-1 ",children:"I agree and accept the terms and conditions listed above"})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-12 d-flex justify-content-between flex-wrap ",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"additional-details pb-5",children:"Date :"}),(0,x.jsx)("div",{className:" payment-terms signature mt-5",children:"----------------------------------------------------"})]}),(0,x.jsxs)("div",{className:"payment-terms ms-2 mb-1 ",children:[(0,x.jsx)("h3",{className:"heading",children:"Sales Authorized Signatory"}),(0,x.jsx)("div",{className:"additional-details",children:"Sales Manager : "}),(0,x.jsx)("div",{className:"payment-terms signature mt-5",children:"-----------------------------------------------------------------------"})]})]})})]}),(0,x.jsx)("div",{className:"row mt-4",children:(0,x.jsx)("div",{className:"col-12 footer",children:(0,x.jsx)("img",{src:null===H||void 0===H?void 0:H.footer,alt:"footer",width:"100%",height:"100px"})})})]})]})},rc=()=>{const[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)(!1),[i,d]=(0,t.useState)([]),[c,r]=(0,t.useState)(""),[h,v]=(0,t.useState)(""),[p,g]=(0,t.useState)([]),{quotationDetails:N,setQuotationDetails:b,inquiryInfoData:f,setShowDeleteModal:y,saveAsDraft:A,permissions:I,profileDetails:C}=(0,l.KC)(),w=(0,l.g)(),k=(0,t.useRef)(null),S=(0,l.Zp)(),[D,T]=(0,t.useState)(""),[O,q]=(0,t.useState)(!1),{emailId:P,statusId:B,includeInQuotationIds:F,pdfUrl:E}=N;(0,t.useEffect)((()=>{P&&d((e=>[...e,{id:(0,ta.A)(),emailId:null===N||void 0===N?void 0:N.emailId}]))}),[]),(0,t.useEffect)((()=>{p.length<1&&(v(!1),k.current.focus())}),[p]);const R=e=>{if(e.target.value.trim().length&&("Enter"===e.key||","===e.key||"blur"===e.type)){e.preventDefault();const s=c.trim();if(i.length<5){const e={id:(0,ta.A)(),emailId:s};d([...i,e]),r(""),v(!1);const a=M([...i,e]);a.length>0?(g(a),v(!0)):v(!1)}}},M=e=>{const s=e.reduce(((e,s)=>{let{id:a,emailId:t}=s;const l=t.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(l).toLowerCase())||e.push(a),e}),[]);return s},Y=async e=>{let a={...N,isContinue:!1,includeInQuotationIds:F.toString(),inquiryInfoId:f.inquiryInfoId,guestDetailId:f.guestDetailId};try{const t=await Ts.saveQuotationPdf(a),{data:l,detail:d,title:c}=t;c===o.A.success&&("download"===e?(async e=>{try{n(!0);const s=e.slice(e.indexOf("_")+1,e.lastIndexOf(".")),a=await Ts.downloadPdf(s,e),t=new Blob([a],{type:"application/pdf"}),l=document.createElement("a");l.download=e.slice(e.lastIndexOf("/")+1),l.href=window.URL.createObjectURL(t),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(l.href),q(!0),T("download")}catch(h){console.log(h.message)}finally{n(!1)}})(E||d):"send"===e&&(async e=>{const a=e.slice(e.indexOf("_")+1,e.lastIndexOf("."));let t={recipientEmail:(null===i||void 0===i?void 0:i.map((e=>e.emailId)))||[],blobUrls:[null!==e&&void 0!==e?e:""],quotationId:a};try{s(!0);const e=await Ts.sendQuotation(t),{data:a,detail:l,title:n}=e;n===o.A.success&&(T("send"),q(!0))}catch(h){console.log(h.message)}finally{s(!1)}})(E||d))}catch(h){console.log(h.message)}},L=N.statusId===Q.O.quotationStatusEnum.value.Sent||N.statusId===Q.O.quotationStatusEnum.value.Download||!(null!==I&&void 0!==I&&I.canEdit)||(null===C||void 0===C?void 0:C.id)!==(null===f||void 0===f?void 0:f.leadOwnerId)&&(null===C||void 0===C?void 0:C.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"quotation-header-container",children:(0,x.jsxs)("div",{className:"title-header",children:[(0,x.jsx)("div",{className:"title",children:"Quotations"}),(0,x.jsx)("div",{className:"line-diff"}),!L&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(0,x.jsxs)(W.A,{align:"start",children:[(0,x.jsx)(W.A.Toggle,{as:e=>(0,x.jsx)("div",{...e,role:"button",children:(0,x.jsxs)("span",{className:"fs-13-px txt-primary fw-bold user-select-none",children:["More Action",(0,x.jsx)("span",{className:"ms-1",children:(0,x.jsx)(j.p$,{strokeColor:"#7D63EC"})})]})})}),(0,x.jsxs)(W.A.Menu,{className:"quotation-dropdown-list",children:[(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>S("/inquiry-bookings/inquiry-info/".concat(w.inquiryId)),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(j.wD,{}),"\xa0\xa0 Discard"]})}),(null===I||void 0===I?void 0:I.canDelete)&&(0,x.jsx)(x.Fragment,{children:!isNaN(w.quotationId)&&B===Q.O.quotationStatusEnum.value.Draft&&(0,x.jsx)(W.A.Item,{href:"#",onClick:()=>y(!0),children:(0,x.jsxs)("span",{className:"option-label",children:[(0,x.jsx)(u.RZ,{}),"\xa0\xa0 Delete"]})})})]})]})}),(0,x.jsxs)("div",{children:[B!==Q.O.quotationStatusEnum.value.Sent&&B!==Q.O.quotationStatusEnum.value.Download&&(0,x.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-34 fw-bold me-2",onClick:A,children:"Save as Draft"}),(0,x.jsxs)("button",{disabled:!1,type:"button",className:"btn btn-primary btn-34 fw-bold",onClick:()=>Y("download"),children:[a&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),(0,x.jsx)(j.s3,{}),(0,x.jsx)("span",{className:"ms-1",children:"Download PDF"})]})]})]})]})}),(0,x.jsx)(_d,{step:3,isValid:!0}),(0,x.jsxs)("div",{className:"share-quotation-wrapper",children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("h6",{className:"heading mb-0 text-nowrap ",children:"Share Quotation"}),(0,x.jsx)("div",{className:"header-separator"})]}),(0,x.jsxs)("div",{className:"email-header mb-4",children:[(0,x.jsx)("h6",{className:"share",children:"Share Email"}),(0,x.jsx)("p",{className:"share-text",children:"The quotation will be sent on the email ids entered"})]}),(0,x.jsx)("label",{className:"data-label mb-2 ",children:"Email ID"}),(0,x.jsxs)("div",{className:"email-wrapper",children:[(0,x.jsxs)("div",{className:"multi-email-input",children:[(0,x.jsxs)("div",{className:"email-list",children:[i.length>0&&i.map((e=>{let{id:s,emailId:a}=e;return(0,x.jsxs)("div",{className:"email-item ".concat(p.includes(s)?"email-item-error":""),children:[a,(0,x.jsx)("span",{className:"remove-email",onClick:()=>(e=>{d(i.filter((s=>s.id!==e))),g(p.filter((s=>s!==e)))})(s),children:(0,x.jsx)(j.MI,{})})]},s)})),(0,x.jsx)("input",{type:"text",value:c,onChange:e=>{r(e.target.value)},onKeyDown:R,onBlur:R,disabled:p.length>0||5===i.length,placeholder:i.length<5?"Enter Email ID":"",ref:k})]}),h&&(0,x.jsx)("div",{className:"error-msg mt-2",children:"Please check that the correct email address has been entered"})]}),!L&&(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"btn btn-primary fs-13-px fw-bolder share-button ",onClick:()=>Y("send"),disabled:p.length>0||0===i.length||[Q.O.inquiryState.value.InquiryActiveVenueClosed,Q.O.inquiryState.value.InquiryActiveVenueInactiveOrDeleted,Q.O.inquiryState.value.InquiryActiveVenueNotOperational,Q.O.inquiryState.value.InquiryActiveNewBookingOverlap].includes(null===f||void 0===f?void 0:f.venueStateId),children:[e&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-2"}),"Send Quotation"]})})]})]}),(0,x.jsx)(Jd,{show:O,onConfirm:()=>{S("/inquiry-bookings/inquiry-info/".concat(f.inquiryInfoId,"/quotations"))},modalKey:D,setShow:q})]})},oc=e=>{let{inquiry:s,alertsData:a}=e;const{ongoingInquiry:l,bookingRequest:n,booking:i,booking12Hours:d}=a,[c,r]=(0,t.useState)(!1);var o,m;return 1===s.bookingStatusId?(0,x.jsxs)("div",{className:"review-booking-request-pending",children:[(0,x.jsx)(tt,{show:c,setShow:r,data:a}),(0,x.jsx)(mc,{inquiry:s}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc pending",children:"Pending"})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Alerts"}),(0,x.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",onClick:()=>r(!0),children:[(0,x.jsx)(j.Vx,{}),(0,x.jsx)("span",{className:"ms-2 info-value fs-15-px text-truncate",children:(null===l||void 0===l?void 0:l.length)>0||(null===n||void 0===n?void 0:n.length)>0||(null===i||void 0===i?void 0:i.length)+(null===d||void 0===d?void 0:d.length)>0?(0,x.jsx)(x.Fragment,{children:[(null===i||void 0===i?void 0:i.length)+(null===d||void 0===d?void 0:d.length)>0&&"".concat(i.length+d.length," Bookings"),(null===l||void 0===l?void 0:l.length)>0&&"".concat(l.length," Ongoing Inquiries"),(null===n||void 0===n||null===(o=n.filter((e=>e.inquiryStateId===Q.O.inquiryState.value.InquiryActiveWaitList)))||void 0===o?void 0:o.length)>0&&"".concat(n.filter((e=>e.inquiryStateId===Q.O.inquiryState.value.InquiryActiveWaitList)).length," Waitlist"),(null===n||void 0===n||null===(m=n.filter((e=>e.inquiryStateId!==Q.O.inquiryState.value.InquiryActiveWaitList)))||void 0===m?void 0:m.length)>0&&"".concat(n.filter((e=>e.inquiryStateId!==Q.O.inquiryState.value.InquiryActiveWaitList)).length," BR Pending")].filter(Boolean).join(", ")}):"-"})]})]})]}):2===s.bookingStatusId?(0,x.jsxs)("div",{className:"review-booking-request-rejected",children:[(0,x.jsxs)("div",{className:"top-row",children:[(0,x.jsx)(mc,{inquiry:s}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc rejected",children:"Rejected"})]})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Rejected Reason"}),(0,x.jsx)("span",{className:"desc",children:s.bookingCancelReason})]})]}):3===s.bookingStatusId?(0,x.jsxs)("div",{className:"review-booking-request-rejected",children:[(0,x.jsxs)("div",{className:"top-row",children:[(0,x.jsx)(mc,{inquiry:s}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc rejected",children:"Cancelled"})]})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Cancellation Reason"}),(0,x.jsx)("span",{className:"desc",children:s.bookingCancelReason})]})]}):4===s.bookingStatusId?(0,x.jsxs)("div",{className:"review-booking-request-approved",children:[(0,x.jsx)(mc,{inquiry:s}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc approved",children:"Approved"})]})]}):(0,x.jsx)("div",{})},mc=e=>{let{inquiry:s}=e;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Requested By"}),s.bookingRequestedBy.trim()?(0,x.jsxs)("span",{className:"desc",children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),s.bookingRequestedBy.trim()||"-"]}):"-"]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Requested on"}),(0,x.jsx)("span",{className:"desc",children:s.bookingRequestedOn||"-"})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Updated By"}),s.bookingUpdatedBy.trim()?(0,x.jsxs)("span",{children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),s.bookingUpdatedBy]}):"-"]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Updated On"}),s.bookingUpdatedOn&&"01-01-0001"!==s.bookingUpdatedOn?(0,x.jsx)("span",{children:s.bookingUpdatedOn}):"-"]})]})},uc=e=>{let{listItem:s,paxCount:a,packageCategory:t}=e;const{Veg:l,NonVeg:n,VegNonVeg:i,Vegan:d}=Q.O.FoodType.value,{Food:c,Beverage:r,FoodBeverage:o,Custom:m}=Q.O.packageTypeEnum.value,{Alcoholic:u,NonAlcoholic:h,AlcoholicNonAlcoholic:v}=Q.O.beveragePreference.value,{packageTypeId:j,foodPreferenceId:p,beveragePreferenceId:g,foodPackageCategoryId:N,packageCategoryId:b,basePricePerPlateOrPerson:f,jainCount:y,jainCounts:A,packageName:I}=s;return(0,x.jsxs)("div",{className:"row mb-4 mx-1 package-item pe-none",children:[(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"label",children:"Package Type"}),(0,x.jsxs)("div",{className:"white-space-nowrap desc",children:[j===c&&"Food",j===r&&"Beverage",j===o&&"Food + Beverage",j===m&&"Custom"]})]})}),N&&t.length>0&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Package Category"}),(0,x.jsx)("div",{className:"desc",children:null===t||void 0===t?void 0:t.find((e=>e.id===N)).title})]})}),b&&t.length>0&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Package Category"}),(0,x.jsx)("div",{className:"desc",children:null===t||void 0===t?void 0:t.find((e=>e.id===b)).title})]})}),p&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Food Preference"}),p===l&&(0,x.jsx)("div",{className:"desc",children:"Veg"}),p===n&&(0,x.jsx)("div",{className:"desc",children:"NonVeg"}),p===i&&(0,x.jsx)("div",{className:"desc",children:"Veg + NonVeg"}),p===d&&(0,x.jsx)("div",{className:"desc",children:"Vegan"})]})}),g&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Beverage Preference"}),(0,x.jsxs)("div",{className:"desc",children:[g===u&&(0,x.jsx)("div",{className:"desc",children:"Alcoholic"}),g===h&&(0,x.jsx)("div",{className:"desc",children:"Non Alcoholic"}),g===v&&(0,x.jsx)("div",{className:"desc",children:"Alcoholic + Non Alcoholic"})]})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Package Name"}),(0,x.jsx)("div",{className:"desc",children:I||"Custom"})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"No. of Pax"}),(0,x.jsx)("div",{className:"desc",children:a})]})}),""!==I&&null!==I&&j===c&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Price per plate"}),(0,x.jsxs)("div",{className:"desc",children:["\u20b9 ",f," /-"]})]})}),""!==I&&null!==I&&j===r&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Price per person"}),(0,x.jsxs)("div",{className:"desc",children:["\u20b9 ",f," /-"]})]})}),""!==I&&null!==I&&j===o&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Price per person"}),(0,x.jsxs)("div",{className:"desc",children:["\u20b9 ",f," /-"]})]})}),y>0&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Jain Preparation"}),(0,x.jsx)("div",{className:"desc",children:y})]})}),A>0&&(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Jain Preparation"}),(0,x.jsx)("div",{className:"desc",children:A})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"label",children:"Add ons"}),(0,x.jsx)("div",{className:"bind-text w-100 desc",children:"2 Starter - Veg, 2 Live Station- Non Veg"})]})})]})},hc=e=>{let{venue:s,inquiryInfo:a,slotId:l,paxCount:n,active:i}=e;const[d,m]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[v,p]=(0,t.useState)(!1),[g,N]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(i){const e=async()=>{p(!0);try{let e=(await Promise.all([Ts.getFoodPackageList(a.inquiryInfoId,l,s.id),Ts.getBeveragePackageList(a.inquiryInfoId,l,s.id),Ts.getFoodBeveragePackageList(a.guestDetailId,l,s.id)])).filter((e=>"Success"===e.title));const t=e.reduce(((e,s)=>[...e,...s.data]),[]);m(t||[])}catch(e){console.error("Error fetching data:",e)}finally{p(!1)}};s.isFB&&(e(),b()),f()}}),[i]);const b=async()=>{try{const e=await c.getFoodPackageCategory(),{title:s,data:a}=e;s===o.A.success&&h(a)}catch(e){r.oR.error(e.message)}},f=async()=>{try{const e=await Ts.getInquiryAmenities(a.inquiryInfoId,l,null===s||void 0===s?void 0:s.id),{title:t,data:n}=e;t===o.A.success&&N(n)}catch(e){r.oR.error(e.message)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("div",{className:"heading txt-primary ",children:s.venueName}),(0,x.jsx)("div",{className:"line-diff"})]}),(0,x.jsxs)("div",{className:"row booking-venue",children:[(0,x.jsx)("div",{className:"heading fw-bold mb-4",children:"Venue Info"}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Check-In Date & Time"}),(0,x.jsxs)("div",{className:"white-space-nowrap venue-info-value fs-15-px",children:[s.venueCheckInDate," | ",s.venueCheckInTime]})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Check-Out Date & Time"}),(0,x.jsxs)("div",{className:"white-space-nowrap venue-info-value fs-15-px",children:[s.venueCheckOutDate," | ",s.venueCheckOutTime]})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Pre-Buffer Time"}),(0,x.jsx)("div",{className:"venue-info-value",children:!1===(null===s||void 0===s?void 0:s.isBufferRequired)?"-":s.preBuffer||"-"})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Post-Buffer Time"}),(0,x.jsx)("div",{className:"venue-info-value",children:!1===(null===s||void 0===s?void 0:s.isBufferRequired)?"-":s.postBuffer||"-"})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Venue Rental Type"}),(0,x.jsx)("div",{className:"venue-info-value",children:Q.O.venueRentalType.text[s.venueRentalType]||"-"})]})}),(0,x.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6  ",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label venue-info-label",children:"Total Rental Amount"}),(0,x.jsx)("div",{className:"venue-info-value",children:Q.O.venueRentalType.value.MinimumRevenue===s.venueRentalType?(0,x.jsx)("span",{children:s.minimumRevenue?"\u20b9"+s.minimumRevenue+"/-":"-"}):(0,x.jsx)("span",{children:"\u20b9 "+s.totalRentalAmount+" /-"})})]})})]}),d.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("div",{className:"header-text",children:"Package Info"}),(0,x.jsx)("div",{className:"line-diff"})]}),d.map((e=>(0,x.jsx)(uc,{listItem:e,paxCount:n,packageCategory:u},e.id)))]}),g.length>0&&(0,x.jsxs)("div",{className:"row mt-4",children:[(0,x.jsx)("div",{className:"header-text",children:"Amenities"}),(0,x.jsx)("div",{className:"amenities d-flex flex-wrap ",children:g.map((e=>(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3 text-nowrap ",children:[(0,x.jsx)(j.ni,{}),(0,x.jsx)("span",{className:"txt-light ms-2",title:e.title,children:e.title})]},e.venueAmenitiesId)))})]})]})},xc=e=>{let{active:s,eventKey:a,currentSlot:t,inquiryInfo:l,slotIndex:n}=e;return(0,x.jsxs)(q.A.Item,{eventKey:a,className:"my-3 ".concat(s?"active":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsxs)("div",{className:"slot-date",children:[(0,x.jsxs)("span",{children:["Slot ",n," :"]}),(0,x.jsx)(j.Xq,{}),(0,x.jsxs)("span",{children:[t.bookingStartDate," | ",t.startTime," "]}),(0,x.jsx)(j.Xq,{}),(0,x.jsxs)("span",{children:[t.bookingEndDate," | ",t.endTime]})]})}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"slot-data",children:(0,x.jsxs)("div",{className:"booking-info",children:[(0,x.jsxs)("div",{className:"header",children:[(0,x.jsx)("div",{className:"heading txt-primary ",children:"Booking Info"}),(0,x.jsx)("div",{className:"line-diff"})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col  mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Purpose"}),(0,x.jsx)("div",{className:"info-value",children:l.inquiryPurpose})]}),t.paxCount&&(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Pax Count"}),(0,x.jsx)("div",{className:"info-value",children:t.paxCount})]})}),l.company&&(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Company Name"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:l.company})]})}),l.title&&(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Title"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:l.title})]})}),l.brideName&&(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Bride Name"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:l.brideName})]})}),l.groomName&&(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Groom Name"}),(0,x.jsx)("div",{className:"white-space-nowrap info-value",children:l.groomName})]})}),t.foodPreferenceIds&&(0,x.jsx)("div",{className:"col mb-1",children:(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Food Preference"}),(0,x.jsx)("div",{className:"info-value",children:t.foodPreferenceIds.split(",").map((e=>Q.O.FoodType.text[e])).join(", ")})]})}),t.beveragePreferenceIds&&(0,x.jsx)("div",{className:"col",children:(0,x.jsxs)("div",{className:"mb-1",children:[(0,x.jsx)("label",{className:"form-label info-label",children:"Beverages"}),(0,x.jsx)("div",{className:"info-value",children:t.beveragePreferenceIds.split(",").map((e=>Q.O.beveragePreference.text[e])).join(", ")})]})})]}),t.selectedVenueDTOs.map(((e,a)=>(0,x.jsx)(hc,{venue:e,inquiryInfo:l,slotId:t.inquirySlotId,paxCount:t.paxCount,active:s},e.id)))]})})})]})},vc=()=>{var e;const{inquiryInfo:s}=(0,l.KC)(),[a,n]=(0,t.useState)(null),i=(0,l.g)(),[d,c]=(0,t.useState)([]);(0,t.useEffect)((()=>{s.guestDetailId&&m()}),[s]);const m=async()=>{try{const e=await Ts.getNotesList(s.guestDetailId,i.inquiryId);if(e.title===o.A.success){let s=e.data.filter((e=>e.tagId===Q.O.tagsType.value.SpecialRequest));c(s)}}catch(e){r.oR.error(e)}};return(0,x.jsx)("div",{className:"booking-details-container",children:(0,x.jsxs)(q.A,{defaultActiveKey:0,activeKey:a,onSelect:e=>{n(a===e?null:e)},className:"booking-details-accordion",children:[null===s||void 0===s||null===(e=s.inquirySlotOutDTO)||void 0===e?void 0:e.map(((e,t)=>(0,x.jsx)(xc,{eventKey:t,active:t===a,inquiryInfo:s,currentSlot:e,slotIndex:t+1},e.inquirySlotId))),d.length>0&&(0,x.jsxs)(q.A.Item,{eventKey:(null===s||void 0===s?void 0:s.inquirySlotOutDTO.length)+1,className:"my-3 ".concat(a===(null===s||void 0===s?void 0:s.inquirySlotOutDTO.length)+1?"active":""),children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("h6",{className:"slot-date",children:"Special Request"})}),(0,x.jsx)(q.A.Body,{children:d.map((e=>(0,x.jsx)(jc,{data:e,inquiryInfo:s},e.noteId)))})]})]})})},jc=e=>{let{data:s,inquiryInfo:a}=e;return(0,x.jsxs)("div",{className:"note-wrapper",children:[(0,x.jsx)("div",{className:"title fw-bold mb-2 fs-14 text-break",children:s.title}),(0,x.jsx)("p",{className:"bind-note-desc mb-1",children:s.description}),(0,x.jsx)("hr",{className:"my-3"}),(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between flex-wrap gap-2   ",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.jH,{})," ",(0,x.jsx)("span",{className:"ms-1 calender",children:(0,B.Yq)(s.createdOn,"DD MMM, YYYY | hh:mm A")}),(0,x.jsxs)("div",{className:"ms-3",children:[(0,x.jsx)("img",{height:14,width:14,src:null===a||void 0===a?void 0:a.leadOwnerProfileImage,alt:"lead-owner"}),(0,x.jsx)("span",{className:"ms-2 txt-grey fs-12-px ",children:"Venue Admin"})]})]}),s.tagId===Q.O.tagsType.value.SpecialRequest?(0,x.jsx)("div",{className:"note-badge",children:"Special Request"}):(0,x.jsx)("div",{className:"venue-details-badge",children:Q.O.tagsType.text[s.tagId]})]})]})},pc=()=>(0,x.jsx)("div",{className:"mt-4 review-billing-summary-container",children:(0,x.jsx)(ft,{readOnly:!0})}),gc=e=>{let{show:s,setShow:a,onConfirm:l}=e;const[n,i]=(0,t.useState)("");return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:e=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:ne,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Are you sure want to confirm ?"}),(0,x.jsx)("p",{className:"description fw-normal mb-3 text-center fs-16-px ",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."}),(0,x.jsx)("p",{className:"mb-3 description fw-medium text-center type-text",children:'Type "Confirm" to proceed'}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"Confirm",value:n,onChange:e=>{i(e.target.value)}})})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:()=>{"Confirm"===n&&(a(!1),l())},children:"Submit"})})]})})},Nc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA9ZSURBVHgB7d1LbxTZFQfwc2+13QYz2OZh4oRo2suRomCkKJNVaKKsZ2A7G0w2WWQBLLIes84C5gsEs8oSyBegySqRIo1HGmmUFT3KAzCYaUYD+FX35p7qLrvd73rfqvr/pJruaYyQrfr7nPuoKkGQiGfP3tdcx52fls6KEnqetKxJIeZI6BqRmDdfMt/50u73vVqdw9DN9otoKq3fkFBNoR3zXrW2f5jZWF4WLYLYCYJInj7V88c/2K1r4dYkORfMT3TFfFyj4Sd9UkxA9IY2r1qrJ1qJDQQnOgQkoGcv39eF1CtCyEuChB8Ga5nANL3gdEKzdPZYg2BiCMgY3CqJaX1FCvkptQORdmWIW0uTbiilH9EeNZaWjjUJhkJABvCqhBBXpBQmFHZXiKi4wmgTFq31Q1SXfghIR1corlH+q0QoHBahqeEqdR9haSt1QLwB9sndG0LQTSppKIbhsCilbpe9DStlQLhaOI743Hz7dYLxNK2XtaqUJiB+tTDf8aoo+LgiKX5VWTpzbJ1KovABQRsVP2/q2FQVtWuqSsHbr8IGBMFIXhmCUriAIBjp84Ny7nT1NhVMoQLyYmvncwQjO0UcoxQiIDwrJR15D4NvO3BQ9vb3rp5fPLFBOZfrgPA2EKcq7mG61lI8PbxrKkqOxyeScur5y3c3nar8EuGwmJlSl1X5+Nmr96uUU7mrIJubP6xQpXIHwcgb0XB33Ot5qya5qiBcNagy9RjhyCNd54r/v613NylHclFBMNYomByNTawPyH9f7VyZkmTCganbIvGmhF113fb9XVa3WJtbu3dMOB4QwlE4PCXvOPIxr12RxaysIGipysVUk4dqR92yseWyLiA8S6UrUw+w6FcuXsu1oy7bFhKrWqzNV7vXeJYK4Sgfr+Uys1wvzJiTLGJNQF5yLyr1OmG8UWbzwow5bRqXWNFi8WCchM7V/DgkS2tas2F3cOYBMeG4Z8KxSgC9tLi7eHr6FmUos4DwdRuzczsPMFMFI2mxbkJynTKSSUC8i5rm9sxgXK8QwDgZhiT1gCAcEEpGIUk1IAgHRJJBSFKd5j0xt3sP4YDQzGSON6mTotQCwt+YWS21ahEIcqgdkjuUklQC4i0CYioX4mLWzNJaTEx8DMLh0ILWCCBm+9q99ePTx+9SghINSOdajgcEkBDXVZeTvKYksYC0t6zzTRWwtwoS1XJ31MWkdgEnMgbhcPDdLAjhgOTN87n29DudyLmWSEAqVXkHW9YhLXyuzaq9RGa2Yg+INyjHdC6kzcySJnHHlFjHIO0H03itFUAmdvf3LsZ5y9PYKog37nBkqqucAL2mKlMP4hyPxBYQOSXXMO6ArHXGI7EtIsbSYvG9Vx2J6gH20IqunjtTfUgRRQ6IP6WL6gGWab0V08vLC6JFEURusdBagaXmj+voO38jVRC0VmC7qFtRQgckSmslzF+qTuX20SSQgZ09xXc6CYxvSPdOTF8M22pVKKQorZU0CflgNvQ/DSW0+2bPBCR4QvgcnVHbvIC4RiGEqiCdjYhPKSRHCjo1N0UAk9oyAVEqRAnpcHfUcpgNjaH6nIp3Y2mA/HCqTqhzNnBAeGCucS8ryB1d561QFFDggEgprX6eA8AwjuMEPncDBYSrB9Y8IL9MFQn4xN1AAUH1gLwLeg5PHBBUDygCPoeDVJGJA4LqAUUR5FyeKCCoHlAkfC6/ePV2oqteJwoIqgcUjZBTNyb5urEB4WfGoXpA8Uy2LjI2IFLqiZIGkDeTrIuMDAjvucKqORSXro+7fn1kQHjHLgEUWGen71CjWyxJlwigwBwhRw4hhgYEU7tQEvOjButDA1KR4hoBlMCowfrAgGBwDuUyfLA+uIJMUZ0ASuSYGrw/a2BA0F5B2UhR+XTg570foL0qtu132jug1+A2q7+CoL0qLA7Gn//0vXcgJP1m3e2+DYyy/wOBZ3sUkB+O5//e9w6EpJ+SYnxAhBRYHCyY7nD4EJJ+pjhc6v+sy8v2ggmeK1ggg8LhQ0j69C0aHgmIlmivimRUOHwISQ95dAx+JCBC0AWCQpgkHD6E5JAjnCNt1kFAvjNTXJjeLYYg4fAhJL6j070HAdnf314hyL0w4fAhJG0zXVk4CIiSWP/Iuyjh8CEkPJOr+wMiBaZ38yyOcECHkHX/7UFAzPgDLVZOxRmOH/20Qr/740maOR7L811zyayHXDh8T+0BOmH9I5cQjkTU/IG6FxAM0PMJ4UjOcfddnV+9gLhdgxIY7Jk5CZ9Z1N8jHMnSQtT41QuIwPhjJA7GPXMy8mFDSBCO5EnpeOMQLyBmButDgoH8cPjXUWQdEoQjJZq8oiHb71FBBukOhy/LkCAcqTocpBNmsPoMCocvi5AgHKnzZrLk5uYuqkePUeHwpRkShCMbM7Q9b4YfLqpHl0nC4UsjJAhHpmpSC9w90RckHL4kQ4JwZMtxTUCU0KggFC4cviRCgnBkj7MhzRpI6QPin+BRdrDGGRKEww6cDZ7FqlHJ8cnzq9/OUFRxhAThsIeQ8sNAz0kvst98cpzqnxyjqKKEBOGwj8Qq+qEsQ4Jw2EdpvYAK0iOLkCAc1ppHQAZIMyQIh90QkCHSCAnCYT8EZIQkQ4Jw5AMCMkYSIUE48qNCMBaHhDX++p6i8EMyf9pBOHICAZlQnCF5/g7hyAu0WAHE1W5FhXCkRypFbwgmlnVIEI50SRK6RRBIViFBONIlhXiKFiuktEOCcGSDA9IkCCWtkCAc2dBKfSs1ocWKIumQIBzZ4WxIqQUCElFSIUE4ssXZkEKjxYpD3CFBOLLnOtSU+xUEJC5xhQThsINLbkvO0AxarBhFDQnCYY/zCyc25MKCaGmtvyWITdiQIBxW8QpH++7uQn5HEKugIUE47KJIf8Wv7ZtXa/crgthNGhKEwz68iu698n/MfO8GQSLGhQThsJNS7mEFEdppEiRmWEgQDntpKbyi4QVEOQoVJGG9IUE47LZNM14mvAumlhaONTdf7/CoHffpTZB/0VXzX3v02R8QDou1lhfaO0wOrijUSj8RUnxKkCg/JGAvfwaLHW53FxioAzChdcN/fxAQqahBAEBKHmbhICCVygwqCAAdDtDZQUB4y4kg0SCAEjPjjyf+AJ0dueRWa4UVdSg3TUc6qSMBEUo/JIAS0/JoBo4EpDMOwfZ3KKuWWRNsdH9wJCCdcQgG61BKPP7o/azvtj+u3n9EACUkBwwx+gJSlcfWCaCEXKd/LbAvIJjuhTLi9or3JPZ+PvDOimizoGxMe7U+8PNBH6LNgrIZ1F6xgQFBmwVlMqy9YkNvXm0WDb8ggBIY1l6xoU+YcpzphtK7hb+I6pu3b+n7/ehPfCqqj+fmqOCai2eGDymGBoTbrBdb778QQn5OBfb7b76m/+zsEPQ7X52hv/3il1RoYvRlHiOfDyKkg71ZUGguqduj/nxkQBYXpjcwWIeiGjU4941/wpTr3iaAAhLKvTvua8YG5OzZYw1sYIQCap47Mzt2CDHRMwq1cjHlC8Wi1ESd0UQB6UyD4ToRKIqRU7vdJn7KrdYKVQSKYcLqwSqTfuG0nLm7p3dvUMEWDn9i5vphsPPVKhXQxNWDBbr35ear96sk5T2KyJGCTs1NEcCktt7smV/8miJT6npiAWGbr3f4uQk1igABgaBiCkhz8VR1OchfmHgM4hOuuk4AeRRg7OELHJDOukiDAHKEV82DtFa+wAHxYHUdckYLvUohhAoIVxHzL2LaF/JB0Pq4PVfDhKsgxpScWiMsHoL9muN27I4SOiB8vYgZ9NwiAJuZgXnY6sFCB4TxoAcDdrCWaa3CDMy7RQoI2xcuT/ui1QKrmAW+VpTWyjfxVpNhuHw939q+LYW4QzmEa9JHy+s16dq0/0tnwrdWvtges/ry9e5jTbo+ydfatJL+63/+A9ekD2HTNemBVtK5tVqoxrKgHbnF8lXE1FXz0iSAbDXjaK18sQXEu9kctqFAxoRQ16PMWvWKLSCMFxC1JqyyQyZcc+6d7XkATlSxBoSdO11dw9QvpE8/WTLnHsUs9oAwjEcgZU035F6rcRIJiLfKvr/HIcH6CCTKW+8Q6nKc445uiQSELS6e2HCxFQUSphRdTyocLPJC4ShmoWb9xdZOTQiy9v6+H82ewHXpQ5yfsfvnwoPypTPVRG+PG9tC4SibW7t3Segb/v/jklsIqneh0AtHAoPyXom1WN0WT0/f1IruE0AMzFLC/TTCwVKpIL7N17tfmm9vBRUEgjqsIGJj8dT0RUpJKhXENyWmLhPu8wuhiY233jmUnlQDwtO/7ZAQQgKBmBPVC8cyLyGkKNUWy6e15rszPjbHCgGMt9FsUerhYJkEhCEkMCHuNi4LITJZdE61xerG37A5eLCF2S0Y5gllGA6WWUB85ptfNS/YAQy97ptzo55lOFjmAWHmh7BGCAkcut35xZm5zMYgg5hxyap54Wvbc/WIBb6mna9tt8lHs7N0spLoTqKk3DLhGPvswLRYFRBmQlKj9uC9Rjnx9zdv6LOvvyKb/OVnP6eP53L1e4ZbqasmHA2yiBUtVjfzA2qaF14raRCURdMcF20LB7MuIIxDYg4OCcYlxcezmBc7vxitY2VAfJ3BO65OLCZuqXi8sZr1TNUoVgeEmR8e7/fnapLovn9IVZPa6xvWDMaHsT4grNNycSXhKxRxGW++8WMzuKXKxX68XATE1/mNw6vvDYK8aVK7aty0uaXqlauAsK4BPN+krkmQB37VaFDO5HIliZkf9rpZM2mYt2vmuEYZOllxivpM8ah4L9VaHoPhs26hMAwTFN4R/IBytLhYcNxC3c7DIHyc3LVYg/CAzxz8/Gu0XdnygmGO5SKEgxWigvQyFeWmeeG7qNQI0rJO7arRpAIpZEBYZ0/XKrXHJzWCpKxTAYPhK2xAfJ2g1M3BN6+rEcSBWyleuC1sMHyFD0i3znZ6BCU8DgZP2d7N01pGFKUKiM8EpU6H7ReMx9O1XDHWyxIMXykD4kP7NRIHgXfaPszzOkZUpQ5It85aCs9+XaLyhoVD8YjalaJBgIAM0mnBrlC7ulygYmsppR5JKdfN+42ytVDjICBjdLVhHBiuLrm6jnUADgBfH9zgA5ViNAQkoE4rVu8cNbK/wnAgeJDdoPZN2FAlAkBAIurcIXKlc9SpXWEuUPqVhk/6b82xYVqmpmmZ/DA0CUJDQBLSFRx+rXUO/z11vc7R8DDxSf+m6z0fzZ5XDkILQUjG/wFdb0MJoXHFFAAAAABJRU5ErkJggg==",bc=e=>{let{show:s,setShow:a,onConfirm:t}=e;return(0,x.jsx)("div",{className:"custom-modal booking-success-modal",children:(0,x.jsxs)(E.A,{size:"sm",show:s,onHide:e=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:Nc,alt:"success"}),(0,x.jsx)("p",{className:"booking-success",children:"Your request is sent for approval"})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px fw-bolder",onClick:t,children:"Okay"})})]})})},fc=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),[a,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)(!1),[h,v]=(0,t.useState)({}),[p,N]=(0,t.useState)(!1),[b,f]=(0,t.useState)(!1),y=(0,l.zy)();let A=[{url:"/inquiry-bookings/".concat(e.inquiryId,"/review-booking/booking-details"),title:"Booking Details",end:!0,id:1},{url:"/inquiry-bookings/".concat(e.inquiryId,"/review-booking/billing-summary"),title:"Billing Summary",id:2}];(0,t.useEffect)((()=>{I(e.inquiryId)}),[e.inquiryId]);const I=async e=>{try{i(!0);const s=await Ts.getInquiryById(e),{title:a,data:t}=s;a===o.A.success&&v(t)}catch(s){r.oR.error(s.message)}finally{i(!1)}},C=()=>{s("/inquiry-bookings/inquiry-info/".concat(h.inquiryInfoId))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"header-container",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)(n.N_,{to:"/guest-management/guest-details/".concat(h.guestDetailId),className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name text-decoration-none",children:[h.guestUserName," / ",h.inquiryInfoId," "]})]}),(0,x.jsx)("div",{className:"review-booking-back-arrow",children:(0,x.jsxs)("span",{onClick:C,role:"button",children:[(0,x.jsx)(u.D9,{})," ",(0,x.jsx)("span",{className:"ms-2",children:"Review Booking"})]})})]})}),(0,x.jsx)("main",{className:"review-booking",children:(0,x.jsxs)("div",{className:"flex-grow-1 mx-4 bg-custom-white bg-cyan h-100 ",children:[(0,x.jsxs)("div",{className:"booking-tabs",children:[(0,x.jsx)("div",{className:"navigation",children:(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 flex-nowrap ",children:null===A||void 0===A?void 0:A.map(((e,s)=>(0,x.jsx)("li",{className:"nav-item",role:"button",children:(0,x.jsxs)(n.k2,{className:"nav-link",to:e.url,end:e.end,isActive:(s,a)=>null!==s&&e.url===a.pathname,children:[(0,x.jsx)("span",{className:"me-1",children:e.url===y.pathname&&(0,x.jsx)(j.vO,{})}),e.title]})},s)))})}),(0,x.jsx)("div",{className:"header-separator"}),(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap ",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",role:"button",onClick:C,children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary px-4",type:"submit",onClick:e=>!d&&N(!0),children:[d&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Send Booking Request"]})]})]}),a?(0,x.jsx)(g.A,{}):(0,x.jsx)(l.sv,{context:{inquiryInfo:h}})]})}),(0,x.jsx)(gc,{show:p,setShow:N,onConfirm:()=>(async()=>{try{c(!0);const e={inquiryInfoId:h.inquiryInfoId,guestDetailId:h.guestDetailId},s=await Ts.sendBookingRequest(e),{title:a,data:t}=s;a===o.A.success&&f(!0)}catch(e){r.oR.error(e.message)}finally{c(!1)}})()}),(0,x.jsx)(bc,{show:b,setShow:f,onConfirm:()=>{f(!1),C()}})]})},yc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADnSURBVHgB7ZTNDYIwGIbfNp4wAUdwFM4OAEdPDOAGuoF3JoC7dzeREYDwkxChUowRECkCPclzIA0fvE/ha0vS9L7P8+IMYIMZIQQepfRI4ji7MYYt5OCTKMoYJEIhmUUgZNVXtO1LeSUwDB2apjRqQRDDda9V3bJ2XzOEXxCGz6AgSD7CwzARvd4vME0dqqo0JPVwVV1Xz/Qh3Ac83HHegQBrhPMJTBK0JZyh4ZxBq4ixYfdGCdr/vN2TSYKuhnY1frSgHc6D6+OXZLSA09XQX5q8HNd/IvAhD48WRX7gA8xMeZTwiZ8eihec3rjN4m4AAAAASUVORK5CYII=";var Ac=a(9279),Ic=a(3619);const Cc=e=>{let{onChange:s,fileList:a=[],readOnly:l=!1}=e;const[n,i]=(0,t.useState)([]),d=null===n||void 0===n?void 0:n.filter((e=>{let{isDelete:s}=e;return!s})),[c,r]=(0,t.useState)({});return(0,t.useEffect)((()=>{a&&i(a.map((e=>({...e,uuid:(0,ta.A)()}))))}),[]),(0,x.jsxs)("div",{className:"upload-image-container",children:[d.length>0&&d.map(((e,a)=>{let{uuid:t,base64Data:n,fileName:d,blobURL:c}=e;return(0,x.jsx)("div",{onClick:()=>r({show:!0,base64Data:n,fileName:d,blobURL:c}),children:(0,x.jsx)("div",{className:"image-ui",children:(0,x.jsxs)("div",{className:"upload-media-image",children:[(0,x.jsx)("img",{src:c||n,alt:d}),(0,x.jsx)("p",{className:"image-name-text text-truncate",children:(0,x.jsx)(ue.A,{title:d,color:"#4f3f95d1",placement:"bottom",children:(0,x.jsx)("span",{children:d})})}),!l&&(0,x.jsx)("p",{className:"image-delete",role:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{i((a=>{if(a.find((s=>s.uuid===e)).base64Data){const t=a.filter((s=>s.uuid!==e));return s(t),t}{const t=a.map((s=>s.uuid===e?{...s,isDelete:!0}:s));return s(t),t}}))})(t)},children:(0,x.jsx)(u.R9,{})})]})})},t)})),!l&&(0,x.jsx)("div",{children:d.length<6&&(0,x.jsxs)("div",{className:"upload-media",role:"button",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(j.ZN,{}),(0,x.jsx)("span",{className:"txt-primary ms-2 mt-5",children:"Upload Media"})]}),(0,x.jsx)("input",{type:"file",className:"input-click",accept:".png, .jpeg, .jpg",onChange:e=>{if(e.target.files.length>0){const t=Array.from(e.target.files).map((e=>new Promise(((s,a)=>{const t=new FileReader;t.onload=()=>s({uuid:(0,ta.A)(),fileName:e.name,base64Data:t.result}),t.onerror=a,t.readAsDataURL(e)}))));Promise.all(t).then((e=>{i((s=>[...s,...e])),s([...a,...e])})).catch(console.error)}},multiple:!0})]})}),(0,x.jsx)(Ac.A,{closeIcon:(0,x.jsx)("img",{src:yc}),centered:!0,width:900,onCancel:()=>r({}),title:c.fileName,open:c.show,footer:()=>(0,x.jsx)("button",{className:"btn btn-primary",onClick:()=>r({}),children:"Close"}),children:(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)(Ic.A,{loading:"lazy",className:"imagePreview my-3",src:c.base64Data||c.blobURL,alt:c.fileName})})})]})},wc=e=>{let{formObject:s,setFormObject:a}=e;const[l,n]=(0,t.useState)([]),[i,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{try{d(!0);const e=await Ts.getModeOfPaymentData(),{title:s,data:a}=e;s===o.A.success&&n(a.map((e=>{let{title:s,id:a}=e;return{text:s,value:a}})))}catch(e){r.oR.error(e.message)}finally{d(!1)}},m=e=>{const{value:t,name:l}=e.target;let n={...s};n[l]=t,a(n)};return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Amount *"}),(0,x.jsx)(ht,{type:"number",className:"form-control input-one-line",placeholder:"Enter Amount",onChange:m,value:s.paymentAmount||"",name:"paymentAmount",icon:(0,x.jsx)(u.ub,{color:"#8181A5"})})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mode of Payment *"}),(0,x.jsx)(oe.A,{dataSource:l,placeholder:"Select",onChange:m,value:s.modeOfPayment,name:"modeOfPayment"})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Reference Number *"}),(0,x.jsx)(ht,{type:"text",className:"form-control input-one-line",placeholder:"Enter Number",onChange:m,value:s.referenceNumber,name:"referenceNumber"})]}),(0,x.jsxs)("div",{className:"col-md-4 col-lg-3 col-sm-6 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Received On *"}),(0,x.jsx)(X,{maxDate:S()(),onChange:e=>((e,t)=>{const l=null===e||void 0===e?void 0:e.$d;let n={...s};n[t]=l,a(n)})(e,"paymentReceivedOn"),value:s.paymentReceivedOn,placeholder:"DD / MM / YYYY"})]}),(0,x.jsxs)("div",{className:"col-md-12 col-sm-12 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)(ht,{type:"text",className:"form-control input-one-line",placeholder:"Enter Comments",onChange:m,value:s.comments,name:"comments"})]}),(0,x.jsxs)("div",{className:"col-md-12 col-sm-12 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-2",children:"Upload Payment Proof "}),(0,x.jsx)(Cc,{onChange:e=>{let t={...s};t.inquiryPaymentProofDocDTO=e,a(t)},fileList:s.inquiryPaymentProofDocDTO})]})]})},kc=e=>{let{handleClose:s,show:a,onConfirm:t}=e;return(0,x.jsxs)(E.A,{show:a,onHide:s,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Information Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,x.jsx)("img",{src:"data:image/png;base64,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",alt:"",className:"mb-2",height:130,width:130}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("h4",{className:"fw-bold mb-4 mt-3 fs-24-px",children:"Are you sure want to confirm ?"}),(0,x.jsx)("p",{className:"description mb-3 text-center fs-16-px",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."})]})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary",className:"btn-40",onClick:t,children:"Confirm"})})]})},Sc=e=>{let{handleClose:s,show:a}=e;return(0,x.jsx)(Ac.A,{closeIcon:(0,x.jsx)("img",{src:yc}),centered:!0,width:420,title:(0,x.jsx)("div",{style:{borderBottom:"1px solid #EEF5F6",margin:"auto -24px",height:"35px"}}),onCancel:s,open:a,footer:()=>(0,x.jsx)("div",{style:{margin:"0px -24px -20px -24px",padding:"17px",background:"#f5f5fa"},children:(0,x.jsx)("button",{className:"btn btn-primary",onClick:s,children:"Okay"})}),children:(0,x.jsx)("div",{className:"d-flex justify-content-center my-4",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("img",{loading:"lazy",className:"my-4",src:Nc,alt:"success"})}),(0,x.jsx)("div",{className:"success-payment-text mb-4 ",children:"Your payment information have been updated."})]})})})},Dc=()=>{var e;const{inquiryData:s,profileDetails:a}=(0,l.KC)()||{},[n,i]=(0,t.useState)(!1),[d,c]=(0,t.useState)(!1),[h,v]=(0,t.useState)({}),[j,p]=(0,t.useState)(!0),[g,N]=(0,t.useState)(!1),[b,f]=(0,t.useState)(!0),[y,A]=(0,t.useState)(!1),I=(0,l.Zp)(),C=(0,l.g)();(0,t.useEffect)((()=>{p(k())}),[h]),(0,t.useEffect)((()=>{C.paymentId?w():f(!1)}),[C.paymentId]);const w=async()=>{try{f(!0);const e=await Ts.paymentById(C.inquiryId,C.paymentId),{title:s,data:a}=e;if(s===o.A.success){const{addedBy:e,addedOn:s,paymentAmount:t,paymentReferenceNumber:l,paymentReceivedOn:n,comments:i,paymentModeId:d,paymentMode:c,addedByName:r,inquiryPaymentDetailId:o,inquiryPaymentProofDocDTO:m,lastModifiedOn:u,lastModifiedByName:h,inquiryPaymentHistoryDetailsDTO:x,inquiryPaymentProofHistoryDocDTO:j,isFirstPayment:p}=a||{};v({addedBy:e,addedOn:s,paymentAmount:t,modeOfPayment:d,referenceNumber:l,paymentReceivedOn:n,comments:i,paymentMode:c,addedByName:r,inquiryPaymentDetailsId:o,inquiryPaymentProofDocDTO:m,lastModifiedOn:u,lastModifiedByName:h,inquiryPaymentHistoryDetailsDTO:x,inquiryPaymentProofHistoryDocDTO:j,isFirstPayment:p})}}catch(e){r.oR.error(e.message)}finally{f(!1)}},k=()=>{const{paymentAmount:e,modeOfPayment:s,referenceNumber:a,paymentReceivedOn:t}=h;return!(e&&s&&a&&t)},S=async e=>{if(e.preventDefault(),!j)try{const{inquiryPaymentDetailsId:e=0,paymentAmount:a,modeOfPayment:t,referenceNumber:l,paymentReceivedOn:n,comments:d,inquiryPaymentProofDocDTO:c}=h;let r={inquiryPaymentDetailsId:e,inquiryInfoId:C.inquiryId,guestDetailId:s.guestDetailId,paymentAmount:a,paymentModeId:t,paymentReferenceNumber:l,paymentReceivedOn:n,comments:d,inquiryPaymentProofDocDTO:c};N(!0);const m=await Ts.addPayment(r),{title:u,detail:x}=m;u===o.A.success&&(i(!0),C.paymentId?(A(!1),w()):I("/inquiry-bookings/inquiry-info/".concat(C.inquiryId,"/payment/").concat(x)))}catch(a){r.oR.error(a.message)}finally{N(!1)}},D=(U("Payment","Add"),U("Payment","Edit")),T=U("Payment","Delete"),O=(null===a||void 0===a?void 0:a.id)!==(null===s||void 0===s?void 0:s.leadOwnerId)&&(null===a||void 0===a?void 0:a.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)("div",{className:"bg-custom-white flex-grow-1 mx-4 payment",children:[b?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsx)(m.A,{animation:"border",className:"txt-primary"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"billing-header mb-4",children:[(0,x.jsx)("div",{className:"title",children:"Payment Details"}),(0,x.jsx)("div",{className:"line-diff-billing"}),(0,x.jsx)("div",{className:"d-flex",children:C.paymentId?(0,x.jsx)(x.Fragment,{children:y&&!O?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"font-bold txt-primary btn-34",role:"button",onClick:()=>{w(),A(!1)},children:"Discard"}),(0,x.jsx)("button",{className:"btn btn-primary btn-34 fw-bold",disabled:j,onClick:S,children:"Update Payment"})]}):(0,x.jsxs)(x.Fragment,{children:[D&&(0,x.jsx)("button",{className:"btn btn-outline-primary dlt-btn btn-34",onClick:()=>A(!0),children:"Modify Details"}),T&&(0,x.jsx)(x.Fragment,{children:(!h.isFirstPayment||Q.O.inquiryState.value.BookingCancelled===s.inquiryStateId)&&(0,x.jsxs)("button",{className:"btn btn-outline-danger dlt-btn btn-34 ms-2",onClick:()=>c(!0),children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(u.ep,{})}),(0,x.jsx)("span",{className:"ms-0",children:"Delete"})]})})]})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"font-bold txt-primary btn-34",role:"button",onClick:()=>I("/inquiry-bookings/inquiry-info/"+C.inquiryId+"/payment"),children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34 fw-bold",disabled:j,onClick:S,children:[b&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Confirm Payment"]})]})})]}),(0,x.jsx)("div",{children:C.paymentId?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"px-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Added By"}),(0,x.jsx)(ht,{icon:(0,x.jsx)("img",{src:Ja,alt:"lead-owner"}),readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:h.addedByName})]}),(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Added On"}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:h.addedOn})]}),y||h.lastModifiedByName&&h.lastModifiedOn?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Updated By"}),(0,x.jsx)(ht,{icon:h.lastModifiedByName?(0,x.jsx)("img",{src:Ja,alt:"lead-owner"}):"",readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:h.lastModifiedByName||"-"})]}),(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Updated On"}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:h.lastModifiedOn||"-"})]})]}):null]})}),y?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"payment-details",children:[(0,x.jsx)(q.A,{defaultActiveKey:"0",alwaysOpen:!0,children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:"Update Details"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(wc,{formObject:h,setFormObject:v})})]})}),(0,x.jsx)(q.A,{defaultActiveKey:"0",alwaysOpen:!0,children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:" Old Details"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(Tc,{data:h},"Old Details edit mode")})]})})]})}):(0,x.jsx)("div",{className:"mt-4",children:h.inquiryPaymentHistoryDetailsDTO?(0,x.jsxs)("div",{className:"payment-details",children:[(0,x.jsx)(q.A,{defaultActiveKey:"0",alwaysOpen:!0,children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:"Update Details"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(Tc,{data:h},"Update Details")})]})}),(0,x.jsx)(q.A,{defaultActiveKey:"0",alwaysOpen:!0,children:(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsxs)(q.A.Header,{children:[(0,x.jsx)("div",{className:"title",children:" Old Details"}),(0,x.jsx)("div",{className:"line"})]}),(0,x.jsx)(q.A.Body,{className:"pt-2 px-3 pb-0",children:(0,x.jsx)(Tc,{data:{...h.inquiryPaymentHistoryDetailsDTO||{},inquiryPaymentProofDocDTO:h.inquiryPaymentProofHistoryDocDTO,referenceNumber:null===(e=h.inquiryPaymentHistoryDetailsDTO)||void 0===e?void 0:e.paymentReferenceNumber}},"Old Details")})]})})]}):(0,x.jsx)("div",{className:"px-3",children:(0,x.jsx)(Tc,{data:h},"without updated Data")})})]}):(0,x.jsx)(wc,{formObject:h,setFormObject:v})})]}),(0,x.jsx)(kc,{show:d,handleClose:()=>c(!1),onConfirm:async e=>{e.preventDefault();try{const e=await Ts.deletePayment(C.inquiryId,C.paymentId),{title:s}=e;s===o.A.success&&I("/inquiry-bookings/inquiry-info/"+C.inquiryId+"/payment")}catch(s){r.oR.error(s.message)}}}),(0,x.jsx)(Sc,{show:n,handleClose:()=>i(!1)})]})},Tc=e=>{let{data:s={}}=e;const[a,l]=(0,t.useState)({});(0,t.useEffect)((()=>{l(s)}),[]);const{paymentAmount:n,referenceNumber:i,paymentReceivedOn:d,comments:c,paymentMode:r,inquiryPaymentProofDocDTO:o}=a;return(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Amount"}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:"\u20b9 ".concat(n," /-")})]}),(0,x.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Mode of Payment "}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:r})]}),(0,x.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Reference Number "}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:i})]}),(0,x.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-6 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Received On"}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:d})]}),(0,x.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{readOnly:!0,type:"text",className:"form-control input-one-line border-0",value:c})]}),o&&(0,x.jsxs)("div",{className:"col-md-12 col-sm-12 col-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-2",children:"Upload Payment Proof "}),(0,x.jsx)(Cc,{readOnly:!0,fileList:o})]})]})},Oc=()=>{const[e,s]=(0,t.useState)([]),[a,n]=(0,t.useState)(!1),{inquiryData:i,setPendingRequestCount:d}=(0,l.KC)(),c=[{field:"requestType",headerText:"REQUEST TYPE",width:"200"},{field:"createdOn",headerText:"REQUESTED ON",width:"200",type:"dateTime",template:e=>{let{createdOn:s}=e;return(0,B.Yq)(s,"DD-MMM-YY | hh:mm A","")||"-"}},{field:"requestedBy",headerText:"REQUESTED BY",width:"200"},{field:"inquiryDiscountRequestStatusId",headerText:"STATUS",template:qc,width:"200"},{field:"updatedBy",headerText:"UPDATED BY",width:"200",template:e=>{let{updatedBy:s}=e;return null!==s&&void 0!==s&&s.trim()?s:"-"}},{field:"lastModifiedOn",headerText:"UPDATED ON",width:"200",template:e=>{let{lastModifiedOn:s}=e;return"0001-01-01T00:00:00"!==s?(0,B.Yq)(s,"DD-MMM-YY | hh:mm A",""):"-"}}];(0,t.useEffect)((()=>{i.inquiryInfoId&&m(i.inquiryInfoId)}),[]);const m=async e=>{try{n(!0);const a=await Ts.getDiscountBookingHistoryList(e),{title:t,data:l}=a;t===o.A.success&&(s(l),d(l.filter((e=>e.inquiryDiscountRequestStatusId===Q.O.discountStatus.value.Pending)).length))}catch(a){r.oR.error(a.message)}finally{n(!1)}},u=(0,l.Zp)();return(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white request-history",children:a?(0,x.jsx)(g.A,{}):(0,x.jsx)(x.Fragment,{children:e.length>0?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"top-wrapper mb-3",children:(0,x.jsx)("h6",{className:"mb-0 table-heading ",children:"Request History"})}),(0,x.jsx)("div",{className:"custom-data-table request-table",children:(0,x.jsxs)(Se._,{dataSource:e,allowSorting:!0,rowSelected:e=>{const s=e.data.requestType;"Discount"===s?u("/inquiry-bookings/".concat(i.inquiryInfoId,"/discount-request/").concat(e.data.inquiryDiscountRequestId,"/discount-details")):"Booking Request"===s?u("/inquiry-bookings/".concat(i.inquiryInfoId,"/booking-request/booking-details")):"Cancel Booking"===s&&u("/inquiry-bookings/".concat(i.inquiryInfoId,"/cancel-booking-details"))},children:[(0,x.jsx)(De.r,{children:c.map((e=>(0,x.jsx)(De.e,{field:e.field,headerText:e.headerText,template:e.template&&e.template,width:e.width})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]})})]}):(0,x.jsx)(Pc,{})})})},qc=e=>{if("Discount"===e.requestType){let s=e.inquiryDiscountRequestStatusId;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"yellow-badge",children:"Pending"}),2===s&&(0,x.jsx)("span",{className:"active-text",children:"Approved"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Rejected"}),4===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"})]})}if("Booking Request"===e.requestType){let s=e.inquiryBookingStatusId;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"yellow-badge",children:"Pending"}),2===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Rejected"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),4===s&&(0,x.jsx)("span",{className:"active-text",children:"Approved"})]})}if("Cancel Booking"===e.requestType){let s=e.inquiryBookingStatusId;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Active"}),5===s&&(0,x.jsx)("span",{className:"blue-text",children:"Confirmed"}),8===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),7===s&&(0,x.jsx)("span",{className:"active-text",children:"Completed"})]})})}},Pc=()=>(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-image",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Requests Found!"}),(0,x.jsx)("p",{className:"description"})]})}),Bc=e=>{let{show:s,setShow:a,onConfirm:l,inquiryInfo:n,discountId:i,requestType:d}=e;const[c,u]=(0,t.useState)(""),[h,v]=(0,t.useState)(!1),j=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:j,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Confirmation"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:ne,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"booking"===d?"Approve Booking Request ?":"Approve Discount ?"}),(0,x.jsx)("p",{className:"description fw-normal mb-3 text-center fs-16-px ",children:"booking"===d?"Once approved, lead owner will be notified and all other requests will go on waitlists.":"Once approved, the discount will be applied and the billing\n              summary will be updated."}),(0,x.jsx)("p",{className:"mb-3 description fw-medium text-center type-text",children:'Type "Confirm" to proceed'}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"Confirm",value:c,onChange:e=>{u(e.target.value)}})})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary fs-15-px",onClick:async()=>{if("Confirm"===c.trim())try{let e;if(v(!0),"booking"===d){let s={inquiryInfoId:n.inquiryInfoId,guestDetailId:n.guestDetailId};e=await Ts.approveBookingRequest(s)}else if("discount"===d){let s={inquiryInfoId:n.inquiryInfoId,inquiryDiscountRequestId:i};e=await Ts.approveDiscountRequest(s)}const{title:s}=e;s===o.A.success&&(u(""),j(),l())}catch(e){r.oR.error(e.message)}finally{v(!1)}},children:[h&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Submit"]})})]})})},Fc=e=>{let{show:s,setShow:a,onConfirm:l,inquiryInfo:n,discountId:i,requestType:d}=e;const[c,u]=(0,t.useState)([{title:"Reason 1",desc:"Nunc vulputate libero et velit interdum.",id:1},{title:"Reason 2",desc:"Nunc vulputate libero et velit interdum.",id:2},{title:"Reason 3",desc:"Nunc vulputate libero et velit interdum.",id:3},{title:"Other",desc:"",id:4}]),[h,v]=(0,t.useState)(""),[j,p]=(0,t.useState)(null),[g,N]=(0,t.useState)(!1),[b,f]=(0,t.useState)(""),y=()=>a(!1);return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:y,className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Reject Action"})}),(0,x.jsxs)(E.A.Body,{className:"inquiry-cancel-modal",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-3 ",children:[(0,x.jsx)("img",{src:te,alt:"",className:"popup-img"}),(0,x.jsxs)("div",{className:"ms-2",children:[(0,x.jsx)("h5",{className:"heading ",children:"Reject Request"}),(0,x.jsxs)("p",{className:"inquiry-question",children:["Are you sure you want to reject this"," ","booking"===d?"booking":"discount"," request?"]})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("h6",{className:"mb-3 reasons-header",children:"Any Specific Reason? "}),c.map(((e,s)=>(0,x.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,x.jsx)("input",{type:"radio",className:"form-check-input custom-check m-0 me-2",checked:e.id===j,id:e.id,onChange:()=>{p(e.id),v("")}}),(0,x.jsxs)("div",{className:"reason-check-title ".concat(e.id!==j?"title-light":"fw-bold"),children:[4==e.id?(0,x.jsx)("span",{children:e.title}):(0,x.jsxs)("span",{children:[e.title," : "]}),e.desc]})]},s)))]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",placeholder:"Write Comments",name:"otherReason",value:h,disabled:4!==j,onChange:e=>v(e.target.value)})]}),(0,x.jsxs)("div",{className:"cancel-input-wrapper",children:[(0,x.jsx)("div",{className:"txt-grey mb-2",children:"Type \u201cReject\u201d to proceed"}),(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"R e j e c t",value:b,onChange:e=>f(e.target.value)})]})]}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsxs)(R.A,{variant:"primary",onClick:async()=>{if("Reject"===b.trim()&&j){if(4===j&&0===h.trim().length)return;try{let e;if(N(!0),"booking"===d){let s={inquiryInfoId:n.inquiryInfoId,guestDetailId:n.guestDetailId,reason:4===j?h:c.find((e=>e.id===j)).desc};e=await Ts.rejectBookingRequest(s)}else if("discount"===d){let s={inquiryInfoId:n.inquiryInfoId,inquiryDiscountRequestId:i,reason:4===j?h:c.find((e=>e.id===j)).desc};e=await Ts.rejectDiscountRequest(s)}const{title:s}=e;s===o.A.success&&(p(null),v(""),f(""),y(),l())}catch(e){r.oR.error(e.message)}finally{N(!1)}}},children:[g&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Submit"]})})]})})},Ec=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),[a,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)({}),[m,h]=(0,t.useState)(!1),[v,p]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),f=(0,l.zy)(),[y,A]=(0,t.useState)({requestedBy:"",requestedOn:"",updatedBy:"",updatedOn:"",statusId:"",statusName:"",discountFor:"",discountTypeId:"",discountTypeName:"",percentage:"",totalDiscount:"",totalCost:"",tax:"",taxAmount:"",finalAmount:"",updatedTotalCost:"",updatedFinalAmount:""}),{profileDetails:I}=(0,t.useContext)(V.t0);let C=[{url:"/inquiry-bookings/".concat(e.inquiryId,"/discount-request/").concat(e.discountId,"/discount-details"),title:"Discount Details",end:!0,id:1},{url:"/inquiry-bookings/".concat(e.inquiryId,"/discount-request/").concat(e.discountId,"/billing-summary"),title:"Billing Summary",id:2}];(0,t.useEffect)((()=>{w(),k()}),[]);const w=async()=>{try{i(!0);const s=await Ts.getInquiryById(e.inquiryId),{title:a,data:t}=s;a===o.A.success&&c(t)}catch(s){r.oR.error(s.message)}finally{i(!1)}},k=async()=>{try{i(!0);const s=await Ts.getDiscountDetailsById(e.discountId),{title:a,data:t}=s;a===o.A.success&&A(t)}catch(s){r.oR.error(s.message)}finally{i(!1)}},{userRoleId:S,guestUserName:D,inquiryInfoId:T,guestDetailId:O}=d,q=U("Discount","Approve"),P=U("Discount","Reject"),B=(null===I||void 0===I?void 0:I.id)!==(null===d||void 0===d?void 0:d.leadOwnerId)&&(null===I||void 0===I?void 0:I.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"header-container",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)(n.N_,{to:"/guest-management/guest-details/".concat(O),className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name text-decoration-none",children:[D," / ",T," "]})]}),(0,x.jsx)("div",{className:"review-booking-back-arrow",children:(0,x.jsxs)("span",{onClick:()=>s(-1),role:"button",children:[(0,x.jsx)(u.D9,{})," ",(0,x.jsx)("span",{className:"ms-2",children:"Discount Request"})]})})]})}),(0,x.jsx)("main",{className:"discount-request",children:(0,x.jsxs)("div",{className:"flex-grow-1 mx-4 bg-custom-white bg-cyan h-100 ",children:[(0,x.jsxs)("div",{className:"booking-tabs",children:[(0,x.jsx)("div",{className:"navigation",children:(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 flex-nowrap ",children:null===C||void 0===C?void 0:C.map(((e,s)=>(0,x.jsx)("li",{className:"nav-item",role:"button",children:(0,x.jsxs)(n.k2,{className:e=>{let{isActive:s}=e;return s?"nav-link active":"nav-link"},to:e.url,end:e.end,children:[(0,x.jsx)("span",{className:"me-1",children:e.url===f.pathname&&(0,x.jsx)(j.vO,{})}),e.title]})},s)))})}),(0,x.jsx)("div",{className:"header-separator"}),!B&&(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap ",children:[y.statusId===Q.O.discountStatus.value.Pending&&(0,x.jsxs)(x.Fragment,{children:[P&&(0,x.jsx)("button",{className:"btn btn-outline-danger px-4 me-4",type:"submit",onClick:e=>p(!0),children:"Reject"}),q&&(0,x.jsx)("button",{className:"btn btn-primary px-4",type:"submit",onClick:e=>h(!0),children:"Approve"})]}),y.statusId===Q.O.discountStatus.value.Pending&&(0,x.jsx)("button",{className:"btn btn-outline-danger px-4 ms-2",type:"submit",onClick:e=>b(!0),children:"Cancel Discount Request"})]})]}),a?(0,x.jsx)(g.A,{}):(0,x.jsx)(l.sv,{context:{inquiryInfo:d,details:y}})]})}),(0,x.jsx)(Bc,{show:m,setShow:h,onConfirm:()=>k(!1),inquiryInfo:d,discountId:e.discountId,requestType:"discount"}),(0,x.jsx)(Fc,{show:v,setShow:p,onConfirm:()=>k(!1),inquiryInfo:d,discountId:e.discountId,requestType:"discount"}),(0,x.jsx)(pt,{show:N,setShow:b,onConfirm:()=>k(),discountId:e.discountId})]})},Rc=e=>{let{discount:s}=e,{requestedByName:a,requestedOn:t,updatedByName:l,updatedOn:n,statusId:i,statusName:d}=s;const c=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Requested By"}),(0,x.jsxs)("span",{className:"desc",children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),a||"-"]})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Requested on"}),(0,x.jsx)("span",{className:"desc",children:t?(0,B.Yq)(t,"DD-MMM-YY | hh:mm A",""):"-"})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Updated By"}),(0,x.jsx)("span",{className:"desc",children:l&&l.trim()?(0,x.jsxs)("span",{children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),l]}):"-"})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Updated On"}),(0,x.jsx)("span",{className:"desc",children:n?(0,B.Yq)(n,"DD-MMM-YY | hh:mm A",""):"-"})]})]});return 1===i?(0,x.jsxs)("div",{className:"review-booking-request-pending",children:[c," ",(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc pending",children:d})]})]}):2===i?(0,x.jsxs)("div",{className:"review-booking-request-approved",children:[c," ",(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc approved",children:d})]})]}):3===i?(0,x.jsxs)("div",{className:"review-booking-request-rejected",children:[(0,x.jsxs)("div",{className:"top-row",children:[c,(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc rejected",children:d})]})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Rejected Reason"}),(0,x.jsx)("span",{className:"desc",children:"Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document or a typeface without relying on meaningful content."})]})]}):4===i?(0,x.jsxs)("div",{className:"review-booking-request-rejected",children:[(0,x.jsxs)("div",{className:"top-row",children:[c," ",(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc rejected",children:d})]})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Cancellation Reason"}),(0,x.jsx)("span",{className:"desc",children:"Lorem ipsum is a placeholder text commonly used to demonstrate the visual form of a document or a typeface without relying on meaningful content."})]})]}):(0,x.jsx)("div",{})},Mc=()=>{const{details:e}=(0,l.KC)();return(0,x.jsxs)("div",{className:"discount-request-container",children:[(0,x.jsx)(Rc,{discount:e}),(0,x.jsxs)("div",{className:"discount-request-details",children:[(0,x.jsxs)("div",{className:"",children:[(0,x.jsx)("h3",{className:"disc-header",children:"Discount for"}),(0,x.jsx)("p",{className:"description",children:e.discountFor})]}),(0,x.jsxs)("div",{className:"discount-type",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Discount Type"}),(0,x.jsx)("p",{className:"description",children:e.discountTypeName})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Percentage"}),(0,x.jsxs)("p",{className:"description",children:[e.percentage,"%"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Total Discount"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.totalDiscount)})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"billing-header",children:"Current Billing Summary"}),(0,x.jsxs)("div",{className:"d-flex updated-billing-summary w-50",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Total Cost"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.totalCost)})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Tax"}),(0,x.jsxs)("p",{className:"description",children:[e.tax,"%"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Tax Amount"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.totalCost*e.tax/100)})]}),(0,x.jsxs)("div",{className:"ms-auto",children:[(0,x.jsx)("h3",{className:"disc-header",children:"Final Amount"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.finalAmount)})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"billing-header",children:"Updated Billing Summary"}),(0,x.jsxs)("div",{className:"d-flex updated-billing-summary w-50",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Total Discount"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.totalDiscount)})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Total Cost"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.updatedTotalCost)})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Tax"}),(0,x.jsxs)("p",{className:"description",children:[e.tax,"%"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"disc-header",children:"Tax Amount"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.taxAmount)})]}),(0,x.jsxs)("div",{className:"ms-auto",children:[(0,x.jsx)("h3",{className:"disc-header",children:"Final Amount"}),(0,x.jsx)("p",{className:"description",children:(0,B.wp)(e.updatedFinalAmount)})]})]})]})]})]})},Yc=()=>(0,x.jsx)("div",{className:"request-billing-container",children:(0,x.jsx)(ft,{readOnly:!0})}),Lc=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),[a,i]=(0,t.useState)(!1),[d,c]=(0,t.useState)(!1),[h,v]=(0,t.useState)({}),[p,N]=(0,t.useState)(!1),[b,f]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!1),I=(0,l.zy)(),{profileDetails:C}=(0,t.useContext)(V.t0);let w=[{url:"/inquiry-bookings/".concat(e.inquiryId,"/booking-request/booking-details"),title:"Booking Details",end:!0,id:1},{url:"/inquiry-bookings/".concat(e.inquiryId,"/booking-request/billing-summary"),title:"Billing Summary",id:2}];(0,t.useEffect)((()=>{T()}),[e.inquiryId]);const[k,S]=(0,t.useState)({});(0,t.useEffect)((()=>{const{inquirySlotOutDTO:e,inquiryInfoId:s}=h;e&&D(e[0],s)}),[h]);const D=async(e,s)=>{const{bookingStartDate:a,bookingEndDate:t,endTime:l,startTime:n}=e;try{let e=await Ts.getInquiryDetailAlerts(a,t,l,n,s),{data:i,detail:d}=e;(d=o.A.success)&&S(i)}catch(i){console.log(i)}},T=async()=>{try{i(!0);const s=await Ts.getInquiryById(e.inquiryId),{title:a,data:t}=s;a===o.A.success&&v(t)}catch(s){r.oR.error(s.message)}finally{i(!1)}},{userRoleId:O,guestUserName:q,inquiryInfoId:P,guestDetailId:B,bookingStatusId:F}=h,E=U("BookingRequest","Approve"),R=U("BookingRequest","Reject"),M=(null===C||void 0===C?void 0:C.id)!==(null===h||void 0===h?void 0:h.leadOwnerId)&&(null===C||void 0===C?void 0:C.userRoleId)!==Q.O.userRolesEnum.value.Administrator;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"header-container",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)(n.N_,{to:"/guest-management/guest-details/".concat(B),className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name text-decoration-none",children:[q," / ",P," "]})]}),(0,x.jsx)("div",{className:"review-booking-back-arrow",children:(0,x.jsxs)("span",{onClick:()=>s(-1),role:"button",children:[(0,x.jsx)(u.D9,{})," ",(0,x.jsx)("span",{className:"ms-2",children:"Booking Request"})]})})]})}),(0,x.jsx)("main",{className:"discount-request",children:(0,x.jsxs)("div",{className:"flex-grow-1 mx-4 bg-custom-white bg-cyan h-100",children:[(0,x.jsxs)("div",{className:"booking-tabs",children:[(0,x.jsx)("div",{className:"navigation",children:(0,x.jsx)("ul",{className:"nav nav-tabs custom-nav-tabs d-flex gap-3 flex-nowrap ",children:null===w||void 0===w?void 0:w.map(((e,s)=>(0,x.jsx)("li",{className:"nav-item",role:"button",children:(0,x.jsxs)(n.k2,{className:"nav-link",to:e.url,end:e.end,children:[(0,x.jsx)("span",{className:"me-1",children:e.url===I.pathname&&(0,x.jsx)(j.vO,{})}),e.title]})},s)))})}),(0,x.jsx)("div",{className:"header-separator"}),!M&&(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap ",children:[F===Q.O.bookingRequestStatus.value.Pending&&(0,x.jsxs)(x.Fragment,{children:[R&&(0,x.jsx)("button",{className:"btn btn-outline-danger px-4 me-4",type:"submit",onClick:e=>f(!0),children:"Reject"}),E&&(0,x.jsx)("button",{className:"btn btn-primary px-4",type:"submit",onClick:e=>N(!0),children:"Approve"})]}),F===Q.O.bookingRequestStatus.value.Pending&&(0,x.jsxs)("button",{className:"btn btn-outline-danger px-4 ms-2",type:"submit",onClick:e=>A(!0),children:[d&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Cancel Booking Request"]})]})]}),a?(0,x.jsx)(g.A,{}):(0,x.jsx)(l.sv,{context:{inquiryInfo:h,alertsData:k}})]})}),(0,x.jsx)(Bc,{show:p,setShow:N,onConfirm:()=>T(),inquiryInfo:h,requestType:"booking"}),(0,x.jsx)(Fc,{show:b,setShow:f,onConfirm:()=>T(),inquiryInfo:h,requestType:"booking"}),(0,x.jsx)(xa,{show:y,setShow:A,onConfirm:()=>T(),inquiryInfo:h})]})},Vc=()=>{const{inquiryInfo:e,alertsData:s}=(0,l.KC)();return(0,x.jsxs)("div",{className:"request-booking-container",children:[(0,x.jsx)(oc,{inquiry:e,alertsData:s||{}}),(0,x.jsx)(vc,{})]})},Uc=()=>(0,x.jsx)("div",{className:"mt-4 request-billing-container",children:(0,x.jsx)(ft,{readOnly:!0})}),Hc=e=>{let{requestData:s,show:a,setShow:l,setFilteredData:n,setFilterCount:i,onClearFilter:d,setFilterApplied:c}=e;const[r,o]=(0,t.useState)({requestFrom:"",requestTo:"",bookingFrom:"",bookingTo:"",statusId:[{label:"Pending",value:1},{label:"Approved",value:2},{label:"Rejected",value:3},{label:"Cancelled",value:4}],leadOwner:[],priorityId:[]}),[m,u]=(0,t.useState)({requestFrom:"",requestTo:"",bookingFrom:"",bookingTo:"",statusId:[{label:"Pending",value:1},{label:"Approved",value:2},{label:"Rejected",value:3},{label:"Cancelled",value:4}],leadOwner:[],priorityId:[]}),h=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d,t={...m};t[s]=a||"",u(t)},v=e=>{e.preventDefault(),j()},j=()=>{let e=[...s],a=0;if(0===e.length)return;const{requestFrom:t,requestTo:d,bookingFrom:r,bookingTo:o,statusId:u,priorityId:h}=m;if(t&&d){const s=new Date(t),l=new Date(d),n=e.filter((e=>{const a=new Date(e.requestDate);return a>=s&&a<=l}));e=n,a++}if(r&&o){const s=new Date(r),t=new Date(o),l=e.filter((e=>{const a=new Date(e.bookingDate);return a>=s&&a<=t}));e=l,a++}if(u.length>0){const s=e.filter((e=>u.includes(e.statusId||e.inquiryDiscountRequestStatusId)));e=s,a++}if(h.length>0){const s=e.filter((e=>h.includes(e.inquiryPriorityId)));e=s,a++}a>0&&(c(!0),n(e),i(a),l(!1))};return(0,x.jsx)("form",{onSubmit:v,children:(0,x.jsxs)(z.A,{show:a,onHide:()=>l(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsxs)("div",{className:"offcanvas-body-container mt-2",children:[(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Requested Date Range"})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date ",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>h(e,"requestFrom"),value:m.requestFrom})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>h(e,"requestTo"),value:m.requestTo})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Booking Date Range"})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date ",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>h(e,"bookingFrom"),value:m.bookingFrom})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>h(e,"bookingTo"),value:m.bookingTo})})]}),(0,x.jsx)("div",{className:"filter-accordion",children:(0,x.jsxs)(q.A,{defaultActiveKey:"",children:[(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsx)(q.A.Header,{children:"Status"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:r.statusId.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>((e,s,a)=>{const t={...m};t[a].includes(s)?t[a].splice(t[a].indexOf(s),1):t[a].push(s),u(t)})(0,e.value,"statusId"),checked:m.statusId.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(m.statusId.includes(e.value)?"":"title-light"),children:e.label})]})},s)))})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"1",children:[(0,x.jsx)(q.A.Header,{children:"Lead Owner"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",checked:!0}),(0,x.jsx)("div",{className:"check-title title-light",children:"Lead Owner"})]})})})})]})]})})]}),(0,x.jsxs)("div",{className:"offCanvas-footer text-end p-3",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:()=>{u({requestFrom:"",requestTo:"",bookingFrom:"",bookingTo:"",statusId:[],leadOwner:[],priorityId:[]}),l(!1),n([]),i(0),d()},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-primary px-4",onClick:v,children:"Apply"})]})]})})]})})},Qc=()=>{const[e,s]=(0,t.useState)([]),[a,n]=(0,t.useState)([]),[i,d]=(0,t.useState)(!1),{searchText:c,setSearchText:r,setFilterCount:o,showFilter:m,setShowFilter:h,discountRequest:v}=(0,l.KC)(),j=(0,l.Zp)();(0,t.useEffect)((()=>{j("/inquiry-bookings/requests/discount","replace"),r("")}),[]);(0,l.zy)();(0,t.useEffect)((()=>{g(c)}),[c]);const[p]=(0,t.useState)([{field:"inquiryInfoId",headerText:"E-ID",width:"100"},{field:"guestDetailName",headerText:"FULL NAME",width:"150",template:zc},{field:"bookingDate",headerText:"BOOKING DATES",width:"180",template:e=>{let{inquiryBookingDetailDTOList:s,bookingDate:a}=e;return s.length>1?(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"me-2",style:{width:"70px"},children:(0,B.Yq)(s[0].venueCheckInDate,"DD-MMM-YY")||"-"}),(0,x.jsx)("div",{style:{width:"30px"},children:(0,x.jsx)(Ht.A,{placement:"right",overlay:(0,x.jsxs)(Qt.A,{className:"inquiry-tooltip",id:"button-tooltip",children:[(0,x.jsx)("div",{className:"head",children:"Multi Slot"}),(0,x.jsx)("div",{className:"slot-dates",children:[...new Set(s.map((e=>(0,B.Yq)(e.venueCheckInDate,"DD-MMM-YY"))))].toString()})]}),children:(0,x.jsx)("span",{children:(0,x.jsx)(u.CT,{})})})})]}):(0,B.Yq)(s[0].venueCheckInDate,"DD-MMM-YY")||"-"}},{field:"totalDiscount",headerText:"DISCOUNT AMOUNT",width:"150",template:e=>e.totalDiscount?"\u20b9 "+e.totalDiscount.toLocaleString("en-In"):"-"},{field:"revenue",headerText:"REVENUE",width:"100",template:e=>e.revenue?"\u20b9 "+e.revenue.toLocaleString("en-In"):"-"},{field:"requestDate",headerText:"REQUEST DATE",width:"160"},{field:"inquiryDiscountRequestStatusId",headerText:"STATUS",width:"100",template:Gc},{field:"leadOwner",headerText:"LEAD OWNER",width:"150",template:$t},{field:"inquiryPriorityId",headerText:"PRIORITY",width:"100",template:_t}]);(0,t.useEffect)((()=>{r("")}),[]);const g=e=>{const s=e,a=v;if(s.length>0){const e=a.filter((e=>e.guestDetailName.toLowerCase().includes(s.toLowerCase())||e.leadOwner.toLowerCase().includes(s.toLowerCase())||e.inquiryInfoId.toString().includes(s.toLowerCase())));n(e)}};let N=null!==c&&void 0!==c&&c.length||i?a:v;return(0,x.jsxs)(x.Fragment,{children:[v.length>0?(0,x.jsxs)(x.Fragment,{children:[e.length>0?(0,x.jsxs)(Se._,{dataSource:e,allowSorting:!0,rowSelected:e=>{j("/inquiry-bookings/".concat(e.data.inquiryInfoId,"/discount-request/").concat(e.data.id,"/discount-details"))},children:[(0,x.jsx)(De.r,{children:p.map((e=>(0,t.createElement)(De.e,{...e,key:e.field})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]},"bookingRequests"):(i||c.length>0)&&(0,x.jsx)(Ye,{}),(0,x.jsx)(Fe,{data:N,searchText:c||"",getPaginatedData:s,filterApplied:i},"discount")]}):(0,x.jsx)(Wc,{}),(0,x.jsx)(Hc,{requestData:v,show:m,setShow:h,setFilteredData:n,setFilterCount:o,onClearFilter:()=>{c.length>0&&g(c),d(!1)},setFilterApplied:d})]})},Wc=()=>(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-image",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Requests found!"})]})}),zc=e=>(0,x.jsx)("div",{className:"txt-primary",children:e.guestDetailName}),Gc=e=>{let{inquiryDiscountRequestStatusId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"yellow-badge",children:"Pending"}),2===s&&(0,x.jsx)("span",{className:"active-text",children:"Approved"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Rejected"}),4===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),5===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Removed"})]})},Kc=e=>{let{requestData:s,show:a,setShow:l,setFilteredData:n,setFilterCount:i,onClearFilter:d,setFilterApplied:c}=e;const[m,u]=(0,t.useState)({requestFrom:"",requestTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],bookingStatusId:[{label:"Pending",value:1},{label:"Rejected",value:2},{label:"Cancelled",value:3},{label:"Approved",value:4}],assignedTo:[]}),[h,v]=(0,t.useState)({requestFrom:"",requestTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],bookingStatusId:[],assignedTo:[]}),j=(e,s)=>{const a=null===e||void 0===e?void 0:e.$d,t={...h};t[s]=a||"",v(t)};(0,t.useEffect)((()=>{a&&(p(),g())}),[a]);const p=async()=>{try{const e=await je.A.getPersonalPurposeList(),{title:s,data:a}=e;s===o.A.success&&u((e=>({...e,purposePersonal:a.map((e=>{let{id:s,title:a}=e;return{label:a,value:s}}))})))}catch(e){r.oR.error(e.message)}},g=async()=>{try{const e=await je.A.getCorporatePurposeList(),{title:s,data:a}=e;s===o.A.success&&u((e=>({...e,purposeCorporate:a.map((e=>{let{id:s,title:a}=e;return{label:a,value:s}}))})))}catch(e){r.oR.error(e.message)}},N=(e,s,a)=>{const t={...h};t[a].includes(s)?t[a].splice(t[a].indexOf(s),1):t[a].push(s),v(t)},b=()=>{let e=[...s],a=0;if(0===e.length)return;const{requestFrom:t,requestTo:d,bookingFrom:r,bookingTo:o,purposeCorporate:m,purposePersonal:u,bookingStatusId:x,assignedTo:v}=h;if(t&&d){const s=new Date(t),l=new Date(d),n=e.filter((e=>{const a=new Date(e.createdOn);return a>=s&&a<=l}));e=n,a++}if(r&&o){const s=new Date(r),t=new Date(o),l=e.filter((e=>{const a=new Date(e.bookingDates);return a>=s&&a<=t}));e=l,a++}if(u.length>0){const s=e.filter((e=>u.includes(e.purposeId)&&1===e.inquiryTypeId));e=s,a++}if(m.length>0){const s=e.filter((e=>m.includes(e.purposeId)&&2===e.inquiryTypeId));e=s,a++}if(x.length>0){const s=e.filter((e=>x.includes(e.bookingStatusId)));e=s,a++}a>0&&(c(!0),n(e),i(a),l(!1))};return(0,x.jsxs)(z.A,{show:a,onHide:()=>l(!1),placement:"end",children:[(0,x.jsx)(z.A.Header,{closeButton:!0,className:"custom-modal",children:(0,x.jsx)(z.A.Title,{children:"Filters"})}),(0,x.jsx)(z.A.Body,{className:"offcanvas-custom-body",children:(0,x.jsxs)("div",{className:"offcanvas-body-content p-3",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Requested Date Range"})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date ",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>j(e,"requestFrom"),value:h.requestFrom})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>j(e,"requestTo"),value:h.requestTo})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("label",{className:"form-label custom-form-label mb-0",children:"Booking Date Range"})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date ",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>j(e,"bookingFrom"),value:h.bookingFrom})}),(0,x.jsx)("div",{className:"col-md-6 mb-4 dropdown-wrapper guest-mgmt-date",children:(0,x.jsx)(X,{placeholder:"DD / MM / YYYY",onChange:e=>j(e,"bookingTo"),value:h.bookingTo})})]}),(0,x.jsx)("div",{className:"filter-accordion",children:(0,x.jsxs)(q.A,{defaultActiveKey:"",children:[(0,x.jsxs)(q.A.Item,{eventKey:"0",children:[(0,x.jsx)(q.A.Header,{children:"Purpose"}),(0,x.jsxs)(q.A.Body,{className:" overflow-y-scroll",style:{height:"300px"},children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("h6",{children:"Personal"}),m.purposePersonal.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",title:e.label,children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>N(0,e.value,"purposePersonal"),checked:h.purposePersonal.includes(e.value),id:e.label}),(0,x.jsx)("label",{className:"check-title ".concat(h.purposePersonal.includes(e.value)?"":"title-light"),htmlFor:e.label,children:e.label})]})},(0,ta.A)())))]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("h6",{children:"Corporate"}),m.purposeCorporate.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",title:e.label,children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>N(0,e.value,"purposeCorporate"),checked:h.purposeCorporate.includes(e.value),id:e.label}),(0,x.jsx)("label",{className:"check-title ".concat(h.purposeCorporate.includes(e.value)?"":"title-light"),htmlFor:e.label,children:e.label})]})},(0,ta.A)())))]})]})]}),(0,x.jsxs)(q.A.Item,{eventKey:"1",children:[(0,x.jsx)(q.A.Header,{children:"Status"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:m.bookingStatusId.map(((e,s)=>(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",onChange:()=>N(0,e.value,"bookingStatusId"),checked:h.bookingStatusId.includes(e.value)}),(0,x.jsx)("div",{className:"check-title ".concat(h.bookingStatusId.includes(e.value)?"":"title-light"),children:e.label})]})},s)))})})]}),(0,x.jsxs)(q.A.Item,{eventKey:"2",children:[(0,x.jsx)(q.A.Header,{children:"Lead Owner"}),(0,x.jsx)(q.A.Body,{children:(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center",children:[(0,x.jsx)("input",{type:"checkbox",className:"form-check-input custom-check m-0 me-2",checked:!0}),(0,x.jsx)("div",{className:"check-title title-light",children:"Lead Owner"})]})})})})]})]})})]})}),(0,x.jsxs)("div",{className:"offCanvas-footer text-end p-3",children:[(0,x.jsx)("button",{className:"btn txt-primary btn-outline-light fw-bold me-3",onClick:()=>{v({requestFrom:"",requestTo:"",bookingFrom:"",bookingTo:"",purposePersonal:[],purposeCorporate:[],bookingStatusId:[],assignedTo:[]}),l(!1),n([]),i(0),d()},children:"Clear All"}),(0,x.jsx)("button",{className:"btn btn-primary px-4",onClick:e=>{e.preventDefault(),b()},children:"Apply"})]})]})},Zc=()=>{const[e,s]=(0,t.useState)([]),[a,n]=(0,t.useState)([]),[i,d]=(0,t.useState)(!1),{searchText:c,setFilterCount:r,showFilter:o,setShowFilter:m,bookingRequest:u,waitListToggle:h}=(0,l.KC)(),v=(0,l.Zp)(),[j]=(0,t.useState)([{field:"eId",headerText:"E-ID",width:"100"},{field:"fullName",headerText:"FULL NAME",width:"150",template:Xc},{field:"companyName",headerText:"COMPANY NAME",width:"210",template:e=>e.companyName||"-"},{field:"bookingDates",headerText:"BOOKING DATES",width:"180",type:"dateTime",template:e=>e.isMultipleSlot?(0,x.jsxs)("div",{className:"d-flex w-100",children:[(0,x.jsx)("div",{className:"me-2",style:{width:"70px"},children:(0,B.Yq)(e.bookingDates,"DD-MMM-YY")||"-"}),(0,x.jsx)("div",{style:{width:"30px"},children:(0,x.jsx)(Wt,{props:e})})]}):(0,B.Yq)(e.bookingDates,"DD-MMM-YY")||"-"},{field:"purpose",headerText:"PURPOSE",width:"150",template:e=>e.purpose||"-"},{field:"pax",headerText:"PAX",width:"100"},{field:"revenue",headerText:"REVENUE",width:"150",template:e=>{let{revenue:s}=e;return s?(0,B.wp)(s):"-"}},{field:"createdOn",headerText:"REQUESTED ON",width:"180",template:e=>{let{createdOn:s}=e;return(0,B.Yq)(s,"DD-MMM-YY | hh:mm A","")||"-"}},{field:"bookingStatusId",headerText:"STATUS",width:"100",template:_c},{field:"waitListCount",headerText:"WAITLIST COUNT",width:"200",template:e=>{let{waitListCount:s}=e;return s||"-"}},{field:"assignedTo",headerText:"LEAD OWNER",width:"150",template:$t}]),p=[{field:"eId",headerText:"E-ID",width:"100"},{field:"fullName",headerText:"FULL NAME",width:"150",template:Xc},{field:"companyName",headerText:"COMPANY NAME",width:"210",template:e=>e.companyName||"-"},{field:"bookingDates",headerText:"BOOKING DATES",width:"180",type:"dateTime",template:e=>e.isMultipleSlot?(0,x.jsxs)("div",{className:"d-flex w-100",children:[(0,x.jsx)("div",{className:"me-2",style:{width:"70px"},children:(0,B.Yq)(e.bookingDates,"DD-MMM-YY")||"-"}),(0,x.jsx)("div",{style:{width:"30px"},children:(0,x.jsx)(Wt,{props:e})})]}):(0,B.Yq)(e.bookingDates,"DD-MMM-YY")||"-"},{field:"purpose",headerText:"PURPOSE",width:"150",template:e=>e.purpose||"-"},{field:"pax",headerText:"PAX",width:"100"},{field:"revenue",headerText:"REVENUE",width:"150",template:e=>{let{revenue:s}=e;return s?(0,B.wp)(s):"-"}},{field:"createdOn",headerText:"REQUESTED ON",width:"180",template:e=>{let{createdOn:s}=e;return(0,B.Yq)(s,"DD-MMM-YY | hh:mm A","")||"-"}},{field:"bookingStatusId",headerText:"STATUS",width:"100",template:_c},{field:"mainRequest",headerText:"MAIN REQUEST",width:"170",template:e=>e.mainRequest||"-"},{field:"assignedTo",headerText:"LEAD OWNER",width:"150",template:$t}];(0,t.useEffect)((()=>{g(c)}),[c]);const g=e=>{const s=e,a=u;if(s.length>0){const e=a.filter((e=>e.fullName.toLowerCase().includes(s.toLowerCase())||e.companyName.toLowerCase().includes(s.toLowerCase())||e.eId.toString().includes(s.toLowerCase())));n(e)}};let N=null!==c&&void 0!==c&&c.length||i?a:u;return(0,x.jsxs)(x.Fragment,{children:[u.length>0?(0,x.jsxs)(x.Fragment,{children:[e.length>0?(0,x.jsxs)(Se._,{dataSource:e,allowSorting:!0,rowSelected:e=>{v("/inquiry-bookings/".concat(e.data.eId,"/booking-request/booking-details"))},children:[(0,x.jsx)(De.r,{children:(h?p:j).map((e=>(0,t.createElement)(De.e,{...e,key:e.field})))}),(0,x.jsx)(I.y_,{services:[Te.F]})]},h?"childRequests":"bookingRequests"):((null===c||void 0===c?void 0:c.length)||i)&&(0,x.jsx)(Ye,{}),(0,x.jsx)(Fe,{data:N,searchText:c||"",getPaginatedData:s,filterApplied:i},"discount")]}):(0,x.jsx)(Jc,{}),(0,x.jsx)(Kc,{requestData:u,show:o,setShow:m,setFilteredData:n,setFilterCount:r,onClearFilter:()=>{c.length>0&&g(c),d(!1)},setFilterApplied:d})]})},Jc=()=>(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("img",{src:$a,alt:"add-image",height:150,width:150}),(0,x.jsx)("h3",{className:"page-heading",children:"No Requests found!"})]})}),Xc=e=>(0,x.jsx)("div",{className:"txt-primary cursor-pointer",children:e.fullName}),_c=e=>{let{bookingStatusId:s=1}=e;return(0,x.jsxs)(x.Fragment,{children:[1===s&&(0,x.jsx)("span",{className:"yellow-badge",children:"Pending"}),2===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Rejected"}),3===s&&(0,x.jsx)("span",{className:"deleted-text",children:"Cancelled"}),4===s&&(0,x.jsx)("span",{className:"active-text",children:"Approved"})]})},$c=e=>{let{show:s,setShow:a,onConfirm:l}=e;const[n,i]=(0,t.useState)("");return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:e=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning Action"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:ne,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Are you sure want to confirm ?"}),(0,x.jsx)("p",{className:"description fw-normal mb-3 text-center fs-16-px ",children:"Dorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vulputate libero et velit interdum, ac aliquet odio mattis class aptent."}),(0,x.jsx)("p",{className:"mb-3 description fw-medium text-center type-text",children:'Type "Confirm" to proceed'}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"Confirm",value:n,onChange:e=>{i(e.target.value)}})})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:()=>{"Confirm"===n&&(a(!1),l())},children:"Submit"})})]})})},er=()=>{const[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),d=((0,l.Zp)(),(0,l.g)());(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{i(!0);try{const e=await Ts.getInquiryById(d.inquiryId),{title:a,data:t}=e;a===o.A.success&&s(t)}catch(e){r.oR.error(e.message)}finally{i(!1)}},{inquiryInfoId:m,guestUserName:u,guestDetailId:h}=e;return(0,x.jsxs)("div",{className:"d-flex flex-column h-100",children:[(0,x.jsx)("div",{className:"header",children:(0,x.jsx)("div",{className:"name-wrapper txt-primary d-flex align-items-center px-4",children:u&&m&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.TH,{}),(0,x.jsx)(n.N_,{className:"ms-2 header-info text-decoration-none ",to:"/guest-management/guest-details/".concat(h),children:u+" / "+m})]})})}),(0,x.jsx)("div",{className:"flex-grow-1 h-100 pb-4 overflow-auto",children:a?(0,x.jsx)("div",{className:"px-4 h-100",children:(0,x.jsx)(g.A,{})}):(0,x.jsx)(sr,{inquiryData:e})})]})},sr=e=>{let{inquiryData:s}=e;const[a,n]=(0,t.useState)(!0),[i,d]=(0,t.useState)({}),[c,u]=(0,t.useState)(!1),h=(0,l.Zp)(),v=(0,l.g)(),[p,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n(N())}),[i]);const N=()=>{const{paymentAmount:e,modeOfPayment:s,referenceNumber:a,paymentReceivedOn:t}=i;return!(e&&s&&a&&t)};return(0,x.jsxs)("div",{className:"bg-custom-white flex-grow-1 mx-4 payment h-100",children:[(0,x.jsxs)("div",{className:"billing-header mb-4",children:[(0,x.jsx)("span",{onClick:()=>h(-1),role:"button",children:(0,x.jsx)(j.IN,{})}),(0,x.jsx)("div",{className:"title ms-2",children:"Add Payment Details"}),(0,x.jsx)("div",{className:"line-diff-billing"}),(0,x.jsxs)("div",{className:"d-flex",children:[(0,x.jsx)("div",{className:"font-bold txt-primary btn-34",role:"button",onClick:()=>h(-1),children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary btn-34 fw-bold",disabled:a,onClick:()=>g(!0),children:[c&&(0,x.jsx)(m.A,{size:"sm",className:"me-2"}),"Confirm Booking"]})]})]}),(0,x.jsx)("div",{children:(0,x.jsx)(wc,{formObject:i,setFormObject:d})}),(0,x.jsx)($c,{show:p,setShow:g,onConfirm:()=>(async e=>{if(!a)try{const{paymentAmount:e,modeOfPayment:a,referenceNumber:t,paymentReceivedOn:l,comments:n,inquiryPaymentProofDocDTO:d}=i;let c={inquiryInfoId:v.inquiryId,guestDetailId:s.guestDetailId,paymentAmount:e,paymentModeId:a,paymentReferenceNumber:t,paymentReceivedOn:l,comments:n,inquiryPaymentProofDocDTO:d,isFirstPayment:!0};u(!0);const r=await Ts.confirmBooking(c),{title:m}=r;m===o.A.success&&(v.paymentId||h("/inquiry-bookings/inquiry-info/".concat(v.inquiryId),{replace:!0}))}catch(t){r.oR.error(t.message)}finally{u(!1)}})()})]})},ar=e=>{let{show:s,setShow:a,onConfirm:l,inquiryInfo:n}=e;const[i,d]=(0,t.useState)("");return(0,x.jsx)("div",{className:"custom-modal",children:(0,x.jsxs)(E.A,{show:s,onHide:e=>a(!1),className:"custom-modal",centered:!0,children:[(0,x.jsx)(E.A.Header,{closeButton:!0,children:(0,x.jsx)(E.A.Title,{children:"Warning"})}),(0,x.jsx)(E.A.Body,{children:(0,x.jsxs)("div",{className:" text-center",children:[(0,x.jsx)("img",{src:ne,alt:"confirm"}),(0,x.jsx)("h4",{className:"fw-bold mt-3",children:"Are you sure want to Cancel ?"}),(0,x.jsx)("p",{className:"description fw-normal mb-3 text-center fs-16-px ",children:"You are canceling the booking, once confirm the action cannot be reversed."}),(0,x.jsx)("p",{className:"mb-3 description fw-medium text-center type-text",children:'Type "Cancel" to proceed'}),(0,x.jsx)("div",{className:"row justify-content-center",children:(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("input",{type:"text",className:"form-control text-center",placeholder:"Cancel",value:i,onChange:e=>{d(e.target.value)}})})})]})}),(0,x.jsx)(E.A.Footer,{children:(0,x.jsx)(R.A,{variant:"primary fs-15-px",onClick:async()=>{"Cancel"===i.trim()&&(a(!1),l())},children:"Submit"})})]})})},tr=()=>{const e=(0,l.g)(),s=(0,l.Zp)(),[a,i]=(0,t.useState)(!0),[d,c]=(0,t.useState)({}),[u,h]=(0,t.useState)(!1),[v,p]=(0,t.useState)({cancellationInitiatedBy:"",reasonForCancellation:"",paymentDetails:0,comments:""}),g=e=>{const{name:s,value:a}=e.target;p({...v,[s]:a})};(0,t.useEffect)((()=>{N(e.inquiryId)}),[e.inquiryId]);const N=async e=>{try{i(!0);const s=await Ts.getInquiryById(e),{title:a,data:t}=s;a===o.A.success&&c(t)}catch(s){r.oR.error(s.message)}finally{i(!1)}},b=()=>{s("/inquiry-bookings/inquiry-info/".concat(d.inquiryInfoId))},{RefundNotApplicable:f,RefundApplicable:y,CreditNote:A}=Q.O.paymentRefundType.value;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsx)("div",{className:"header-container",children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)(n.N_,{to:"/guest-management/guest-details/".concat(d.guestDetailId),className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name text-decoration-none",children:[d.guestUserName," / ",d.inquiryInfoId," "]}),(0,x.jsx)(ra,{id:d.inquiryStateId})]})})}),(0,x.jsx)("main",{className:"cancel-booking",children:(0,x.jsxs)("div",{className:"flex-grow-1 mx-4 bg-custom-white bg-cyan h-100 ",children:[(0,x.jsxs)("div",{className:"booking-cancel-header",children:[(0,x.jsx)("h3",{className:"heading",children:"Booking Cancellation Details"}),(0,x.jsx)("div",{className:"header-separator"}),(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap ",children:[(0,x.jsx)("div",{className:"txt-primary fw-bold me-3",role:"button",onClick:b,children:"Discard"}),(0,x.jsxs)("button",{className:"btn btn-primary px-4",type:"submit",onClick:e=>h(!0),disabled:!v.cancellationInitiatedBy||!v.reasonForCancellation,children:[a&&(0,x.jsx)(m.A,{animation:"border",size:"sm",className:"me-1"}),"Confirm"]})]})]}),(0,x.jsx)("div",{className:"cancel-booking-form",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Cancellation Initiated By *"}),(0,x.jsx)(oe.A,{dataSource:Q.O.bookingCancelInitiator.list,placeholder:"Select",onChange:g,value:v.cancellationInitiatedBy,name:"cancellationInitiatedBy"})]}),(0,x.jsxs)("div",{className:"col-sm-12 mb-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Reason For Cancellation *"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",onChange:g,name:"reasonForCancellation",value:v.reasonForCancellation})]}),(0,x.jsxs)("div",{className:"col-sm-12 mb-3 mt-4",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Payment Details"}),(0,x.jsxs)("div",{className:"d-flex gap-4 mt-2",children:[(0,x.jsxs)("div",{className:"form-check ",children:[(0,x.jsx)("input",{type:"radio",label:"Refund - Not Applicable",name:"paymentDetails",id:"refundNotApplicable",value:f,checked:v.paymentDetails==f,onChange:g,className:"form-check-input"}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"refundNotApplicable",children:"Refund - Not Applicable"})]}),(0,x.jsxs)("div",{className:"form-check ",children:[(0,x.jsx)("input",{type:"radio",label:"Refund - Applicable",name:"paymentDetails",id:"refundApplicable",value:y,checked:v.paymentDetails==y,onChange:g,className:"form-check-input"}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"refundApplicable",children:"Refund - Applicable"})]}),(0,x.jsxs)("div",{className:"form-check ",children:[(0,x.jsx)("input",{type:"radio",label:"Credit Note",name:"paymentDetails",id:"creditNote",value:A,checked:v.paymentDetails==A,onChange:g,className:"form-check-input"}),(0,x.jsx)("label",{className:"form-check-label",htmlFor:"creditNote",children:"Credit Note"})]})]})]}),(0,x.jsxs)("div",{className:"col-sm-12 mb-3",children:[(0,x.jsx)("label",{className:"form-label mb-0",children:"Comments"}),(0,x.jsx)("input",{type:"text",className:"form-control input-one-line",onChange:g,name:"comments",value:v.comments})]})]})})]})}),(0,x.jsx)(ar,{show:u,setShow:h,onConfirm:()=>(async()=>{try{i(!0);let e={inquiryInfoId:d.inquiryInfoId,guestDetailId:d.guestDetailId,reason:v.reasonForCancellation,cancellationById:v.cancellationInitiatedBy,paymentRefundTypeId:v.paymentDetails,comment:v.comments};const s=await Ts.cancelBooking(e),{title:a}=s;a===o.A.success&&b()}catch(e){r.oR.error(e.message)}finally{i(!1)}})(),inquiryInfo:d})]})},lr=()=>{var e,s;const a=(0,l.g)(),i=(0,l.Zp)(),[d,c]=(0,t.useState)(!0),[m,h]=(0,t.useState)({});(0,t.useEffect)((()=>{v(a.inquiryId)}),[a.inquiryId]);const v=async e=>{try{c(!0);const s=await Ts.getInquiryById(e),{title:a,data:t}=s;a===o.A.success&&h(t)}catch(s){r.oR.error(s.message)}finally{c(!1)}};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:"header px-4",children:(0,x.jsxs)("div",{className:"header-container",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.TH,{}),(0,x.jsxs)(n.N_,{to:"/guest-management/guest-details/".concat(m.guestDetailId),className:"ms-2 txt-primary fw-medium d-flex align-items-center header-display-name text-decoration-none",children:[m.guestUserName," / ",m.inquiryInfoId," "]}),(0,x.jsx)(ra,{id:m.inquiryStateId})]}),(0,x.jsx)("div",{className:"review-booking-back-arrow",children:(0,x.jsxs)("span",{onClick:()=>i(-1),role:"button",children:[(0,x.jsx)(u.D9,{})," ",(0,x.jsx)("span",{className:"ms-2",children:"Booking Cancellation"})]})})]})}),(0,x.jsx)("main",{className:"cancel-booking-details  ",children:(0,x.jsx)("div",{className:"flex-grow-1 mx-4 bg-custom-white bg-cyan h-100 overflow-y-auto ",children:d?(0,x.jsx)(g.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"booking-cancel-header",children:[(0,x.jsx)("div",{className:"heading",children:"Booking Details"}),(0,x.jsx)("div",{className:"header-separator"})]}),(0,x.jsx)("div",{className:"booking-alert",children:(0,x.jsxs)("div",{className:"review-booking-request-approved",children:[(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Requested By"}),null!==(e=m.bookingRequestedBy)&&void 0!==e&&e.trim()?(0,x.jsxs)("span",{className:"desc",children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),m.bookingRequestedBy.trim()||"-"]}):"-"]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Requested on"}),(0,x.jsx)("span",{className:"desc",children:m.bookingRequestedOn})]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Updated By"}),null!==(s=m.bookingUpdatedBy)&&void 0!==s&&s.trim()?(0,x.jsxs)("span",{children:[(0,x.jsx)("img",{src:Ja,alt:"User Avatar",className:"pe-2"}),m.bookingUpdatedBy]}):"-"]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Updated On"}),m.lastModifiedOn&&"01-01-0001"!==m.lastModifiedOn?(0,x.jsx)("span",{children:(0,B.Yq)(m.lastModifiedOn,"DD-MMM-YY | hh:mm A","")}):"-"]}),(0,x.jsxs)("div",{className:"data-item",children:[(0,x.jsx)("span",{className:"label",children:"Status"}),(0,x.jsx)("span",{className:"desc approved",children:"Approved"})]})]})}),(0,x.jsxs)("div",{className:"booking-cancellation",children:[(0,x.jsxs)("div",{className:"booking-cancel-header",children:[(0,x.jsx)("div",{className:"details-heading",children:"Booking Cancellation Details"}),(0,x.jsx)("div",{className:"header-separator"})]}),(0,x.jsxs)("div",{className:"details",children:[(0,x.jsxs)("div",{className:"row mb-3 row-gap-2 ",children:[(0,x.jsxs)("div",{className:"col-md-2 col-sm-12",children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Cancellation Initiated By"}),(0,x.jsx)("div",{className:"data-desc",children:m.cancellationBy})]}),(0,x.jsxs)("div",{className:"col-md-10 col-sm-12",children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Reason"}),(0,x.jsx)("div",{className:"data-desc",children:m.reason})]})]}),(0,x.jsx)("div",{className:"row mb-3",children:(0,x.jsxs)("div",{className:"col-md-4 col-sm-12",children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Payment Details"}),(0,x.jsx)("div",{className:"data-desc",children:Q.O.paymentRefundType.text[m.paymentRefundTypeId]})]})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 col-sm-12",children:[(0,x.jsx)("div",{className:"data-label mb-2",children:"Comments"}),(0,x.jsx)("div",{className:"data-desc",children:m.comment})]})})]})]})]})})})]})},nr=e=>{let{profileDetails:s,setLoggedIn:a}=e;const[n,i]=(0,t.useState)(!1),[d]=(0,t.useState)(h.A.get("token")),{userPermissions:c,setPermissions:r}=(0,t.useContext)(V.dg),[m,u]=(0,t.useState)(0),j=(0,l.zy)();(0,t.useEffect)((()=>{0===c.length&&(async()=>{try{const e=await jl.A.getUserPermissions(),{title:s,data:a}=e;s===o.A.success&&r(a)}catch(e){console.log(e.message)}})()}),[c,r]),(0,t.useEffect)((()=>{(async()=>{try{const e=await gl.getNotificationCount();isNaN(e)||u(e)}catch(e){console.log(e.message)}})()}),[j]);const p=(null===s||void 0===s?void 0:s.userRoleId)===Q.O.userRolesEnum.value.Administrator;return d?(0,x.jsx)(x.Fragment,{children:c.length>0?(0,x.jsxs)("div",{className:"app-container",children:[(0,x.jsx)(ql,{notifyCount:m,setCount:u,setLoggedIn:a,isExtended:n,setIsExtended:i,toggleSidebar:()=>i(!n)}),(0,x.jsx)("div",{className:"".concat(n?"middle-container-shrink":"middle-container"),children:(0,x.jsx)("div",{className:"main-container",children:(0,x.jsxs)(l.BV,{children:[(0,x.jsx)(l.qh,{path:"/dashboard",element:(0,x.jsx)(aa,{})}),(0,x.jsx)(l.qh,{path:"/calender",element:(0,x.jsx)(ke,{})}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings",element:(0,x.jsx)(Rt,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(el,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/bookings",element:(0,x.jsx)(zt,{})}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/requests",element:(0,x.jsx)(Ft,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Qc,{})}),(0,x.jsx)(l.qh,{path:"discount",element:(0,x.jsx)(Qc,{})}),(0,x.jsx)(l.qh,{path:"booking",element:(0,x.jsx)(Zc,{})})]})]}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId",element:(0,x.jsx)(fa,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(it,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/billings-summary",element:(0,x.jsx)("div",{className:"bg-custom-white flex-grow-1 billingSummary mx-4",children:(0,x.jsx)(ft,{})})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/vision-board",element:(0,x.jsx)(At,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/quotations",element:(0,x.jsx)(kt,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/payment",element:(0,x.jsx)(Pt,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/payment/new",element:(0,x.jsx)(Dc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/payment/:paymentId",element:(0,x.jsx)(Dc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/requests",element:(0,x.jsx)(Oc,{})})]}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/cancel-booking",element:(0,x.jsx)(tr,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/cancel-booking-details",element:(0,x.jsx)(lr,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/confirm-booking",element:(0,x.jsx)(er,{})}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/quotation",element:(0,x.jsx)(Xd,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)($d,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/quotation/create/:quotationId?",element:(0,x.jsx)($d,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/quotation/preview/:quotationId?",element:(0,x.jsx)(cc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/quotation/share/:quotationId?",element:(0,x.jsx)(rc,{})})]}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/:inquiryId/review-booking",element:(0,x.jsx)(fc,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(vc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/review-booking/booking-details",element:(0,x.jsx)(vc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/review-booking/billing-summary",element:(0,x.jsx)(pc,{})})]}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/:inquiryId/discount-request/:discountId",element:(0,x.jsx)(Ec,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Mc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/discount-request/:discountId/discount-details",element:(0,x.jsx)(Mc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/discount-request/:discountId/billing-summary",element:(0,x.jsx)(Yc,{})})]}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/:inquiryId/booking-request",element:(0,x.jsx)(Lc,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Vc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/booking-request/booking-details",element:(0,x.jsx)(Vc,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/:inquiryId/booking-request/billing-summary",element:(0,x.jsx)(Uc,{})})]}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/slot/:slotId/venue/:venueId",element:(0,x.jsx)(Et,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Bl,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/slot/:slotId/venue/:venueId/food-beverage/:packageId?",element:(0,x.jsx)(un,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/slot/:slotId/venue/:venueId/food/:packageId?",element:(0,x.jsx)(Gl,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry-info/:inquiryId/slot/:slotId/venue/:venueId/beverage/:packageId?",element:(0,x.jsx)(an,{})})]}),(0,x.jsxs)(l.qh,{path:"/inquiry-bookings/inquiry/:inquiryId",element:(0,x.jsx)(ca,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Fd,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry/:inquiryId/info",element:(0,x.jsx)(Fd,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry/:inquiryId/venue-selection",element:(0,x.jsx)(Qd,{})}),(0,x.jsx)(l.qh,{path:"/inquiry-bookings/inquiry/:inquiryId/review",element:(0,x.jsx)(Kd,{})})]}),(0,x.jsx)(l.qh,{path:"/guest-management",element:(0,x.jsx)(Ue,{})}),(0,x.jsxs)(l.qh,{path:"guest-management/guest-details/:guestId",element:(0,x.jsx)(Qe,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(In,{})}),(0,x.jsx)(l.qh,{path:"guest-inquiries",element:(0,x.jsx)(Cn,{})}),(0,x.jsx)(l.qh,{path:"guest-bookings",element:(0,x.jsx)(Sn,{})})]}),(0,x.jsx)(l.qh,{path:"/reminders",element:(0,x.jsx)(cl,{})}),(0,x.jsx)(l.qh,{path:"/import",element:(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(Pl,{children:(0,x.jsx)("div",{className:"mx-4",children:(0,x.jsx)("strong",{children:"Import and Export"})})})})}),(0,x.jsxs)(l.qh,{path:"/settings",element:(0,x.jsx)(l.sv,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(v,{})}),(0,x.jsxs)(l.qh,{path:"account-details",element:(0,x.jsx)(v,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Bn,{})}),(0,x.jsxs)(l.qh,{path:"venue-details",element:(0,x.jsx)(Fn,{}),children:[(0,x.jsx)(l.qh,{index:!0,element:(0,x.jsx)(Ii,{})}),(0,x.jsx)(l.qh,{path:"new",element:(0,x.jsx)(fd,{})}),(0,x.jsx)(l.qh,{path:":venueId",element:(0,x.jsx)(fd,{})})]}),(0,x.jsx)(l.qh,{path:"subscription-details",element:(0,x.jsx)(Rn,{})}),(0,x.jsx)(l.qh,{path:"taxes",element:(0,x.jsx)(Hn,{})}),(0,x.jsx)(l.qh,{path:"documents",element:(0,x.jsx)(oi,{})})]}),p&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.qh,{path:"user-management",element:(0,x.jsx)(ts,{})}),(0,x.jsx)(l.qh,{path:"user-management/user-profile/:userId",element:(0,x.jsx)(hs,{})})]}),(0,x.jsx)(l.qh,{path:"subscriptions",element:(0,x.jsx)(gs,{})}),(0,x.jsx)(l.qh,{path:"help-support",element:(0,x.jsx)(ls,{})})]}),(0,x.jsx)(l.qh,{path:"/profile",element:(0,x.jsx)(pl,{})}),(0,x.jsx)(l.qh,{path:"*",element:(0,x.jsx)(xn,{})})]})})})]}):(0,x.jsx)("div",{className:"lazy-load",children:(0,x.jsx)(g.A,{})})}):(0,x.jsx)(l.C5,{to:"/"})}}}]);
//# sourceMappingURL=556.18808d44.chunk.js.map